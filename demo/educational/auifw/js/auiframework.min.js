/* Packaged at 11:24 Nov 22, 2016. Version: None */
!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(1),i(59),i(92),i(96)},function(e,t,i){"use strict";i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55),i(56),i(57),i(58)},function(e,t){!function(e){var t={},i={};!function(){var e=navigator.userAgent.toLowerCase();e.indexOf(" edge")>0?t.edge=e.match(/edge\/([\d.]+)/)[1]:e.indexOf(" msie")>0?t.msie=e.match(/msie ([\d.]+)/)[1]:window.MSStream?t.msie=e.match(/rv\:([\d.]+)/)[1]:e.indexOf(" firefox")>0?t.firefox=e.match(/firefox\/([\d.]+)/)[1]:e.indexOf(" opr")>0?t.opera=e.match(/opr\/([\d.]+)/)[1]:e.indexOf(" chrome")>0?t.chrome=e.match(/chrome\/([\d.]+)/)[1]:e.indexOf(" safari")>0?t.safari=e.match(/version\/([\d.]+)/)[1]:t.unknown="unknown"}(),function(){var e=navigator.userAgent.toLowerCase();e.indexOf("ipad")>-1&&(i.ipad=e.match(/os\s([\d_]+)/)[1]),e.indexOf("iphone")>-1&&(i.iphone=e.match(/os\s([\d_]+)/)[1])}(),window.af=window.af?window.af:{},window.af.Utils={KeyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,SMALL_KEY_BOARD_0:96,SMALL_KEY_BOARD_1:97,SMALL_KEY_BOARD_2:98,SMALL_KEY_BOARD_3:99,SMALL_KEY_BOARD_4:100,SMALL_KEY_BOARD_5:101,SMALL_KEY_BOARD_6:102,SMALL_KEY_BOARD_7:103,SMALL_KEY_BOARD_8:104,SMALL_KEY_BOARD_9:105,SMALL_KEY_BOARD_MUL:106,SMALL_KEY_BOARD_ADD:107,SMALL_KEY_BOARD_SUB:109,SMALL_KEY_BOARD_DOT:110,SMALL_KEY_BOARD_DEV:111,SEMICOLON:186,KEY_ADD:187,COMMA:188,KEY_SUB:189,DOT:190,BEVEL:191,KEY_DRIP:192,LEFT_BRACKETS:219,TURN_BEVEL:220,RIGHT_BRACKETS:221,UP_COMMA:222},Browser:t,Device:i,preventDefault:function(e){return!!e.preventDefault&&void e.preventDefault()}},window.af.config={validations:{iconClass:"afui-icon-exclamatory",alertStyle:"left"}};var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Math.uuid=function(e,t){var i,o=n,a=[];if(t=t||o.length,e)for(i=0;i<e;i++)a[i]=o[0|Math.random()*t];else{var s;for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",i=0;i<36;i++)a[i]||(s=0|16*Math.random(),a[i]=o[19==i?3&s|8:s])}return a.join("")},String.prototype.format=function(){var t=arguments,i=e.isArray(t[0]);return this.replace(/\{(\d+)\}/g,function(e,n){return i?t[0][n]:t[n]})},window.af.Date={I18N:{Months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],FullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"]}},e.fn.setCursorPosition=function(t){var i=e.extend({index:0},t);return this.each(function(){var t=this,n=t.value,o=n.length,a=i.index,s=e(t);s.is("input,textarea")&&(o<a||setTimeout(function(){if(t.focus(),t.setSelectionRange)t.setSelectionRange(a,a);else{var e=t.createTextRange();e.moveStart("character",-o),e.moveEnd("character",-o),e.moveStart("character",a),e.moveEnd("character",0),e.select()}},10))})}}(jQuery),function(e,t){"use strict";function i(){for(var e=document.getElementsByTagName("script"),t="",i=0,n=[],o=e.length,a=0;i<o;i++)if(n=e[i].src.split("/"),a=n.length,0==n[a-1].indexOf("core.js")||0==n[a-1].indexOf("auiframework.js")){t=n.slice(0,a-2).join("/");break}return t}function n(e,i){var n,o,a=e.length;for(n=0;n<a;n++)o=e[n],o&&t.isFunction(o.element[o.widget])&&(o.except!==!0?o.visibility===!0&&o.lock!==!0&&o.element[o.widget](o.method):o.except=!1)}var o,a=(e.AUI,e.$$,{}),s={},r={},l={},d=.1,c={},u=function(){},h=null,_=null,p=[],m=null,f=e.ko||{},g=".auicommonevent",v=[],C=[],b=t("html"),S=i();o=function(){},t.widget("aui.datagrid",{}),a={getClass:function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},isDate:function(e){return"Date"==$$.getClass(e)},isObject:function(e){return"Object"==$$.getClass(e)},clone:function(e){if("object"!=typeof e)return e;var t={};e.constructor==Array&&(t=[]);for(var i in e)t[i]=this.clone(e[i]);return t}},t.extend(o,a),o.browser=function(t){t=t.toLowerCase();var i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return(e.ActiveXObject||"ActiveXObject"in e)&&(i[1]="msie"),{browser:i[1]||"",version:i[2]||"0"}}(navigator.userAgent),"mozilla"==o.browser.browser&&b[0].addEventListener("DOMMouseScroll",function(){n(v)}),b.on("mousedown"+g,function(){n(v,"mousedown")}).on("mousewheel"+g,function(){n(v,"mousewheel")}),s={onCloseWidget:function(){return C.toLocaleString()},close:function(e,t,i){v[v.length]={element:e,widget:t,method:i},e.data("auiCloseIndex",v.length-1),C[C.length]=t},offClose:function(e){var i=e.data("auiCloseIndex");i>=0||i<v.length?(e.removeData("auiCloseIndex"),delete v[i]):t.error("Index "+i+' is out of range.when delete callback from "$$.close".')},closeVisibility:function(e,i){var n=e.data("auiCloseIndex");n>=0||n<v.length?v[n].visibility=i:t.error("Index "+n+' is out of range.when set visibility to "$$.close".')},closeExcept:function(e,i){var n=e.data("auiCloseIndex");n>=0||n<v.length?v[n].except=i:t.error("Index "+n+' is out of range.when set except to "$$.close".')},closeLock:function(e,i){var n=e.data("auiCloseIndex");n>=0||n<v.length?v[n].lock=i:t.error("Index "+n+' is out of range.when set except to "$$.close".')},Event:function(e){return this instanceof $$.Event?(this.oldValue=null,this.newValue=null,this.element=null,this.parameters={},void t.extend(this,e)):new $$.Event(e)},stopPropagation:function(){void 0!=event.stopPropagation?event.stopPropagation():e.event.cancelBubble=!0},cancelHandler:function(e){return e.preventDefault&&e.preventDefault(),e.returnValue&&(e.returnValue=!1),!1},updateEventHandler:function(e,i,n,o,a){if(t.isFunction(e.options[i]))o?e.options[i]=n:e.options[i]=t.noop;else{var a=a||(""==n.name?n.toString():n.name);o?e.options[i][a]=n:delete e.options[i][a]}},executeEventHandler:function(e,i,n,o,a){if(o=t.Event(o),a&&a.parameters&&t.isEmptyObject(a.parameters)&&(a.parameters=e&&e.options&&e.options.parameters&&e.options.parameters[i]||{}),o.type=i,t.isFunction(n))return n.apply(null,[o].concat(a));for(var s in n)n[s].apply(null,[o].concat(a))},clearEventHandler:function(e){for(var t in e)delete e[t]},EventHandler:function(){t.extend(this,{eventHandler:[],add:function(e){this.eventHandler.length<=0&&(this.eventHandler=[]);for(var t=0,i=arguments.length;t<i;t++)"function"==typeof e&&this.eventHandler.push(e);return this},remove:function(e){var t=0,i=arguments.length,n=0;if(this.eventHandler){if(0==i)return void(this.eventHandler=[]);for(;t<i;t++)n=this.eventHandler.indexOf(arguments[t]),this.eventHandler.splice(n,1)}},execute:function(e,i,n){if(this.eventHandler){i=t.Event(i),i.type=name;for(var o=!0,a=0,s=this.eventHandler.length;a<s;a++)o=this.eventHandler[a].apply(e,[i].concat(n))!==!1&&o;return o}}})}},t.extend(o,s),r={getViewPosition:function(e,t){var i=e.offset(),n=t.offset(),o={};return o.left=i.left-n.left+t.scrollLeft(),o.top=i.top-n.top+t.scrollTop(),o},removePx:function(e){return isNaN(parseInt(e))?0:parseInt(e)}},t.extend(o,r),l={path:S,isShowLog:!0,logIndex:0,version:function(){return d},log:function(){try{this.isShowLog===!0&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&(console.log.apply(console,["["+this.logIndex+"] "].concat(Array.prototype.slice.call(arguments))),this.logIndex++)}catch(e){}},debug:function(){try{this.isShowLog===!0&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&(console.debug.apply(console,["["+this.logIndex+"] "].concat(Array.prototype.slice.call(arguments))),this.logIndex++)}catch(e){}},info:function(){try{this.isShowLog===!0&&"undefined"!=typeof console&&"undefined"!=typeof console.info&&(console.info.apply(console,["["+this.logIndex+"] "].concat(Array.prototype.slice.call(arguments))),this.logIndex++)}catch(e){}},warn:function(){try{this.isShowLog===!0&&"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(console.warn.apply(console,["["+this.logIndex+"] "].concat(Array.prototype.slice.call(arguments))),this.logIndex++)}catch(e){}},error:function(){try{this.isShowLog===!0&&"undefined"!=typeof console&&"undefined"!=typeof console.error&&(console.error.apply(console,["["+this.logIndex+"] "].concat(Array.prototype.slice.call(arguments))),this.logIndex++)}catch(e){}},defaultCss:{DISPLAY_BLOCK:"aui-display-block",DISPLAY_NONE:"aui-display-none",VISIBILITY_VISIBLE:"aui-visibility-visible",VISIBILITY_HIDDEN:"aui-visibility-hidden",BORDER:"aui-border",BORDER_RADIUS:"aui-border-radius",BORDER_MOUSEOVER:"aui-border-mouseover",BORDER_FOCUS:"aui-border-focus",BORDER_PRESSED:"aui-border-pressed",BORDER_DISABLED:"aui-border-disabled"},keyCode:{ENTER:13,SHIFT:16,SPACE_BAR:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMAND:91},generateUUIDByControlName:function(e){return e?"aui-"+e.toLowerCase()+"-"+this.generateUUID():this.generateUUID()},generateUUID:function(){for(var e,t="",i=1;i<=32;i++)e=Math.floor(16*Math.random()).toString(16),t+=e,8!=i&&12!=i&&16!=i&&20!=i||(t+="-");return t},cleanWhitespace:function(e){for(var t=e.childNodes,i=0;i<t.length;i++){var n=t[i];3==n.nodeType&&/\s/.test(n.nodeValue)&&n.parentNode.removeChild(n)}},checkBrowser:function(){var e={IE:"MSIE"},t=navigator.userAgent.indexOf(e.IE),i={};if(t>=0)return i.name=e.IE,i.version=navigator.userAgent.substr(t+5,3),i},isScroll:function(e){var i,n,o=0,a=!1,s=0;if(void 0!==e){for(i=e.height(),n=e.children().length;s<n;s++)o+=t(e.children()[s]).outerHeight();i<o&&(a=!0)}return a},timeZoneItemsSource:function(e){return 0==arguments.length?p:void(p=e)},xmlToJson:function(e){var t={};if(1==e.nodeType)if(e.attributes.length>0){t["@attributes"]={};for(var i=0;i<e.attributes.length;i++){var n=e.attributes.item(i);t["@attributes"][n.nodeName]=n.nodeValue}}else e.hasChildNodes()||(t=e.nodeValue||"");else 3==e.nodeType&&(t="",t=e.nodeValue);if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var a=e.childNodes.item(o),s=a.nodeName;if("undefined"==typeof t[s])3==a.nodeType?(t="",t=this.xmlToJson(a)):t[s]=this.xmlToJson(a);else{if("undefined"==typeof t[s].length){var r=t[s];t[s]=[],t[s].push(r)}t[s].push(this.xmlToJson(a))}}return t},getWebRoot:function(){var e=document.location,t=e.protocol+"//"+e.host+"/"+e.pathname.split("/")[1];return t}},t.extend(o,l),c={_EventArgs:{oldValue:null,newValue:null,element:null,parameters:{}},_visibility:{visible:0,collapsed:1}},t.extend(o,c),f.bindingHandlers=f.bindingHandlers||{},f.bindingHandlers.stopBindings={init:function(){return{controlsDescendantBindings:!0}}},f.bindingHandlers.getI18N={init:function(e,i,n,o){var a=i(),s=(f.utils.unwrapObservable(a),n()),r=s.getI18N,l=s.key,d=s.arguments||[],c=h(r),u=__I18NMap__.get(c+l);void 0==u&&(u=__DefaultI18NMap__.get(c+l)),t(e).html(void 0==u?"":u.format(Array.prototype.slice.call(d)))}},e.ko=f,u.prototype={_length:0,_DEF_PERFIX:"_MAP_KEY_",size:function(){return this._length},get:function(e){return this[this._DEF_PERFIX+e]},put:function(e,t){return this[this._DEF_PERFIX+e]||this._length++,this[this._DEF_PERFIX+e]=t,t},remove:function(e){return!!(this._length>0&&this[this._DEF_PERFIX+e])&&(delete this[this._DEF_PERFIX+e],this._length--,!0)},getKeySet:function(){var e=[];for(var t in this)t.length>this._DEF_PERFIX.length&&0==t.indexOf(this._DEF_PERFIX)&&e.push(t.substr(this._DEF_PERFIX.length));return e}},String.prototype.format=function(){var e=arguments,i=t.isArray(e[0]);return this.replace(/\{(\d+)\}/g,function(t,n){return i?e[0][n]:e[n]})},Object.equals=function(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i))return!1;if(e[i]===t[i])continue;if("object"!=typeof e[i])return!1;if(!Object.equals(e[i],t[i]))return!1}for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0},o.namespace=function(){var t,i,n,o=arguments,a=null;for(t=0;t<o.length;t+=1)for(n=o[t].split("."),a=e.AUI,i="AUI"==n[0]?1:0;i<n.length;i+=1)a[n[i]]=a[n[i]]||{},a=a[n[i]];return a},h=function(e){var t;return t="AUI"==e.split(".")[0]?e.replace(/\./g,"_"):"AUI"+e.replace(/\./g,"_")},_=e.I18N||{get:function(){var e=arguments,t=__I18NMap__.get(h(e[0])+e[1]);return void 0==t&&(t=__DefaultI18NMap__.get(h(e[0])+e[1])),void 0==t?"":t.format(Array.prototype.slice.call(e,2))}},e.__DefaultI18NMap__=e.__DefaultI18NMap__||new u,e.__I18NMap__=e.__I18NMap__||new u,m=function(e,i){t.ajax({url:$$.path+i+".js",success:function(i){var n=h(e);if("object"==typeof i)for(var o in i)__DefaultI18NMap__.put(n+o,i[o]);else if("string"==typeof i){var a=t.parseJSON(i);for(var o in a)__DefaultI18NMap__.put(n+o,a[o])}},error:function(e,t,n){$$.log("Can not loading language: "+i)},async:!1,contentType:"application/json;charset=UTF-8",dataType:"json"})},_.register=function(e,i,n){o.namespace(e),m(e,i);var n=n||navigator.language||navigator.userLanguage,a=$$.path+i+(null==n?"":"."+n)+".js";t.ajax({url:a,success:function(i){var n=h(e);if("object"==typeof i)for(var o in i)__I18NMap__.put(n+o,i[o]);else if("string"==typeof i){var a=t.parseJSON(i);for(var o in a)__I18NMap__.put(n+o,a[o])}},error:function(e,t,i){$$.log("Can not loading language: "+a)},async:!1,contentType:"application/json;charset=UTF-8",dataType:"json"})},e.I18N=_,e.$$=e.AUI=o,o.I18N={calendar:{earlierTime:"Invalid time,The selected time cannot be earlier than current time.",today:"Today"},captcha:{emptyMessage:"!Please enter verification code",errorMessage:"!Verification code error"},combobox:{waterMark:"Select one",noMatches:"No matches found."},datagrid:{clearFiltersFrom:"Clear Filters from ",filterCancel:"Cancel",filterOK:"OK",hideColumn:"Hide This Column",noneMessage:"There are no items to show in this view.",selectAllforFilter:"Select All",sortAToZ:"Sort A to Z",sortZToA:"Sort Z to A",oldToNew:"Sort Oldest to Newest",newToOld:"Sort Newest to Ordest",ascending:"Ascending",descending:"Descending"},datepicker:{earlierTime:"Invalid time,The selected time cannot be earlier than current time.",today:"Today",timeZone:"Time Zone:",savingTime:"Automatically adjust clock for daylight saving time",ok:"OK",cancel:"Cancel"},multicombobox:{allText:"Select All",none:"None",selectedXItems:"Select {0} items",selectedXItem:"Select {0} item",selectAllCheckbox:"All",noneTitle:"None",allTitle:"All",selectedXItemsTitle:"{0} items",ok:"OK",cancel:"Cancel"},pager:{page:"Page:",of:"of "},peoplepicker:{results:"Showing {0} results",result:" Showing {0} result",noResults:"No results found"},globalcalendar:{toPreviousMonth:"Go to previous month",toNextMonth:"Go to next month"},gcalendar:{am:"AM",pm:"PM",months:["January","February","March","April","May","June","July","August","September","October","November","December"],previous:"Prev",next:"Next",shortCapitalMonths:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],middleweeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortweeks:["Su","Mo","Tu","We","Th","Fr","Sa"],titleFormat:"m/, /yyyy"},loading:{loading:"Loading..."},rangepicker:{earlierStartTime:"The start time must be later than the current time.",earlierEndTime:"The end time must be later than the current time.",earlierStart:"The end time must be later than the start time.",incompleteTime:"Enter the module duration to proceed."},reservation:{shortweeks:["SUN","MON","TUE","WED","THU","FRI","SAT"],xMore:"{0} more",showless:"show less",add:"Add"},timezones:[{id:"Asia/Hong_Kong",displayName:"(UTC+08:00)Beijing,Chongqing,Hong Kong",zone:"(UTC+08:00)",supportsDaylightSavingTime:!1,autoAdjustClock:!1},{id:"Asia/Tokyo",displayName:"(UTC+09:00)Japan",zone:"(UTC+09:00)",supportsDaylightSavingTime:!0,autoAdjustClock:!0},{id:"Asia/Samon",displayName:"(UTC+11:00)Samon",zone:"(UTC+11:00)",supportsDaylightSavingTime:!0,autoAdjustClock:!1}]},t.fn.extend({_removeClassExtend:void 0===jQuery.fn._removeClass?jQuery.fn.removeClass:jQuery.fn._removeClass,removeClass:function(e,i,n,o){return i&&jQuery.effects?t.effects.animateClass.call(this,{remove:e},i,n,o):e?this._removeClassExtend(e):this._removeClassExtend()}})}(window,jQuery),+function(e,t){"use strict";var i={tab:0,arrow:1,tabAndArrow:2};e.tabbable=function(e){var n=null;return e=e.toLowerCase(),"cycle"==e&&(n=t.extend(!0,n,i)),n},t.widget("aui.tabbable",{options:{mode:null},_tabbableIndex:null,_create:function(){this._initMembers()._initEvent()},_initMembers:function(){var e=this;return null==e.options.mode&&(e.options.mode=i.tab),this._tabbableIndex=-1,this},_initEvent:function(){var e=this;return e.element.on("keydown"+e.eventNamespace,e,e._onKeydown),e},_tabAssert:function(e){return e==t.ui.keyCode.TAB},_tabAndArrowAssert:function(e){return e==t.ui.keyCode.TAB||e==t.ui.keyCode.DOWN||e==t.ui.keyCode.UP},_arrowAssert:function(e){return e==t.ui.keyCode.DOWN||e==t.ui.keyCode.UP},_getAssert:function(){var e,n=this,o=n.options.mode;switch(o){case i.tab:e=n._tabAssert;break;case i.arrow:e=n._arrowAssert;break;case i.tabAndArrow:e=n._tabAndArrowAssert;break;default:e=t.noop}return e},_onKeydown:function(e){var i=e.data,n=i._getAssert(),o=t(":tabbable",i.element),a=o.filter(":first"),s=o.filter(":last");if(n(e.which)){if(e.which==t.ui.keyCode.DOWN)return i._tabbableIndex++,i._tabbableIndex==o.length&&(i._tabbableIndex=0),o[i._tabbableIndex].focus(),!1;if(e.which==t.ui.keyCode.UP)return i._tabbableIndex--,i._tabbableIndex==-1&&(i._tabbableIndex=o.length-1),o[i._tabbableIndex].focus(),!1;if(e.shiftKey){if(i._tabbableIndex--,e.target===a[0])return s.focus(1),i._tabbableIndex=o.length-1,!1}else if(i._tabbableIndex++,e.target===s[0])return i._tabbableIndex=0,a.focus(1),!1}else e.which==t.ui.keyCode.TAB&&e.preventDefault()},_destroy:function(){this.element.off(self.eventNamespace)}})}(AUI,jQuery),function(e,t,i){"$:nomunge";function n(){o=t[r](function(){a.each(function(){var t=e(this),i=t.width(),n=t.height(),o=e.data(this,d);i===o.w&&n===o.h||t.trigger(l,[o.w=i,o.h=n])}),n()},s[c])}var o,a=e([]),s=e.resize=e.extend(e.resize,{}),r="setTimeout",l="resize",d=l+"-special-event",c="delay",u="throttleWindow";s[c]=250,s[u]=!1,e.event.special[l]={setup:function(){if(!s[u]&&this[r])return!1;var t=e(this);a=a.add(t),e.data(this,d,{w:t.width(),h:t.height()}),1===a.length&&n()},teardown:function(){if(!s[u]&&this[r])return!1;var t=e(this);a=a.not(t),t.removeData(d),a.length||clearTimeout(o)},add:function(t){function n(t,n,a){var s=e(this),r=e.data(this,d);r.w=n!==i?n:s.width(),r.h=a!==i?a:s.height(),o.apply(this,arguments)}if(!s[u]&&this[r])return!1;var o;return e.isFunction(t)?(o=t,n):(o=t.handler,void(t.handler=n))}}}(jQuery,window)},function(e,t){!function(e){e.widget("aui.focusloop",{options:{},_create:function(){this.element.off("keydown"+this.eventNamespace).on("keydown"+this.eventNamespace,this.element,function(t){if(t.keyCode===af.Utils.KeyCode.TAB){var i=e(":tabbable",t.data),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]||t.shiftKey?t.target===n[0]&&t.shiftKey&&(o.focus(1),af.Utils.preventDefault(t)):(n.focus(1),af.Utils.preventDefault(t))}})}})}(jQuery)},function(e,t){!function(e){e.widget("aui.scrollable",{options:{scrollOffsetValue:100},_create:function(){var e=this,t=e.element;t.on("mousewheel"+e.eventNamespace,e,function(e){e.deltaY>0?e.data._scrollTop():e.deltaY<0&&e.data._scrollBottom()})},_scrollTop:function(){this.element[0].scrollTop-=100},_scrollBottom:function(){this.element[0].scrollTop+=100}})}(jQuery),function(e){function t(t){var s=t||window.event,r=l.call(arguments,1),d=0,u=0,h=0,_=0,p=0,m=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(h=s.detail*-1),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(u=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(u=h*-1,h=0),d=0===h?u:h,"deltaY"in s&&(h=s.deltaY*-1,d=h),"deltaX"in s&&(u=s.deltaX,0===h&&(d=u*-1)),0!==h||0!==u){if(1===s.deltaMode){var f=e.data(this,"mousewheel-line-height");d*=f,h*=f,u*=f}else if(2===s.deltaMode){var g=e.data(this,"mousewheel-page-height");d*=g,h*=g,u*=g}if(_=Math.max(Math.abs(h),Math.abs(u)),(!a||_<a)&&(a=_,n(s,_)&&(a/=40)),n(s,_)&&(d/=40,u/=40,h/=40),d=Math[d>=1?"floor":"ceil"](d/a),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=t.clientX-v.left,m=t.clientY-v.top}return t.deltaX=u,t.deltaY=h,t.deltaFactor=a,t.offsetX=p,t.offsetY=m,t.deltaMode=0,r.unshift(t,d,u,h),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function i(){a=null}function n(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,a,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=s.length;d;)e.event.fixHooks[s[--d]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=r.length;i;)this.removeEventListener(r[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)},function(e,t){!function(e){e.widget("aui.scrolless",{options:{},_create:function(){var e=this,t=e.element;t.on("mousewheel"+e.eventNamespace+" DOMMouseScroll"+e.eventNamespace,function(e){af.Utils.preventDefault(e)})}})}(jQuery)},function(e,t){!function(e){"use strict";var t=function(e){return parseInt(e,10)||0};e.widget("aui.touchdrag",{_start:null,_zIndex:"auto",_containment:null,_margins:null,_outer:null,_isMove:!1,_isEnabled:!0,options:{start:e.noop,move:e.noop,stop:e.noop,containment:!1,zIndex:!1},_create:function(){this._initMembers()._loaded()},_initMembers:function(){var e=this,i=e.element;return e._start={},e._zIndex=e.element.css("zIndex"),e._max=Math.max,e._margins={left:t(i.css("marginLeft")),top:t(i.css("marginTop")),right:t(i.css("marginRight")),bottom:t(i.css("marginBottom"))},e._outer={width:i.outerWidth(),height:i.outerHeight()},e},_loaded:function(){var e=this,t=e.eventNamespace;return e.element.on("touchstart"+t,e,e._onTouchStart).on("touchmove"+t,e,e._onTouchMove).on("touchend"+t,e,e._touchEnd),e},_trigger:function(t,i,n){var o=this;return o.element.trigger(t,n),e.Widget.prototype._trigger.call(this,t,i,n)},_onTouchStart:function(e){e.stopPropagation();var t=e.data,i=e.originalEvent,n=i.targetTouches[0],o=i.currentTarget;t._setContainment(o),i.isTrusted&&t._isEnabled?(t._isTouchStart=!0,t._start={x:n.pageX,y:n.pageY},t._offset={left:o.offsetLeft,top:o.offsetTop,click:{left:n.pageX-t.element.offset().left,top:n.pageY-t.element.offset().top}},t._ui={helper:t.element,offset:t._offset,position:{}},t._trigger("start",e,t._ui)):t._isTouchStart=!1},_onTouchMove:function(e){e.stopPropagation(),e.preventDefault();var i,n,o=e.data,a=e.originalEvent,s=a.targetTouches[0],r=a.currentTarget,l=o._parent,d=o._parent.offset(),c=[],u=0,h=0;o._isTouchStart&&(o._isMove=!0,c[0]=t(l.css("borderLeftWidth"))+t(l.css("paddingLeft"))+d.left,c[1]=t(l.css("borderTopWidth"))+t(l.css("paddingTop"))+d.top,c[2]=l[0].offsetWidth-r.offsetWidth-t(l.css("borderLeftWidth"))-t(l.css("paddingRight"))+d.left,c[3]=l[0].offsetHeight-r.offsetHeight-t(l.css("borderTopWidth"))-t(l.css("paddingBottom"))+d.top,u=s.pageX,s.pageX-o._ui.offset.click.left<c[0]&&(u=c[0]+o._ui.offset.click.left),s.pageX-o._ui.offset.click.left>c[2]&&(u=c[2]+o._ui.offset.click.left),h=s.pageY,s.pageY-o._ui.offset.click.top<c[1]&&(h=c[1]+o._ui.offset.click.top),s.pageY-o._ui.offset.click.top>c[3]&&(h=c[3]+o._ui.offset.click.top),a.isTrusted&&(i=u-o._start.x+o._ui.offset.left,n=h-o._start.y+o._ui.offset.top),o._ui.helper.css("left",i).css("top",n),o.options.zIndex!==!1&&o._ui.helper.css("zIndex",o.options.zIndex),o._ui.position.left=i,o._ui.position.top=n,o._trigger("move",e,o._ui))},_touchEnd:function(e){var t=e.data;e.stopPropagation(),t._isTouchStart&&(t.options.zIndex!==!1&&t._ui.helper.css("zIndex",t._zIndex),1==t._isMove&&(t._trigger("stop",e,t._ui),t._isMove=!1))},_setContainment:function(t){var i=this,n=i.options.containment;"parent"==n&&(n=e(t.offsetParent)),i._parent=i.element.parent()},enable:function(){this._isEnabled=!0},disable:function(){this._isEnabled=!1}})}(jQuery)},function(e,t){!function(e){e.widget("aui.tabbase",{options:{},selectPrev:function(){var e=this._getPrevLi(this._currentSelectedItem);this._changeSelectedItem(e)},selectNext:function(){var e=this._getNextLi(this._currentSelectedItem);this._changeSelectedItem(e)},selectFirst:function(){this._changeSelectedItem(this._firstLi[0])},selectLast:function(){this._changeSelectedItem(this._lastLi[0])},_create:function(){this._dealWithUl(),this._dealWithLi(),this._dealWithContent()},_setOption:function(t,i){var n=this.options[t],o=this._setExtendOption.apply(this,arguments);o&&(e.Widget.prototype._setOption.apply(this,arguments),this._optionChanged(t,{element:this.element,newValue:i,oldValue:n}))},_dealWithContent:function(){this.element.off("keydown"+this.eventNamespace).on("keydown"+this.eventNamespace,'div[role="tabpanel"]',this,function(e){switch(e.keyCode){case af.Utils.KeyCode.UP:case af.Utils.KeyCode.LEFT:e.ctrlKey&&(e.preventDefault(),e.data._currentSelectedItem.focus());break;case af.Utils.KeyCode.PAGE_UP:e.ctrlKey&&(e.preventDefault(),e.data.selectPrev());break;case af.Utils.KeyCode.PAGE_DOWN:e.ctrlKey&&(e.preventDefault(),e.data.selectNext())}})},_dealWithLi:function(){this._li=this._ul.find("li[aria-controls]"),this._li.length&&(this._currentSelectedItem=this._li.filter('.select:not([aria-controls^="javascript:"])'),this._currentSelectedItem.length>1&&(this._currentSelectedItem=e(this._currentSelectedItem[this._currentSelectedItem.length-1])),this._currentSelectedContent=e("#"+this._currentSelectedItem.attr("aria-controls")).attr("aria-hidden","false"),this._firstLi=this._li.filter(":first"),this._lastLi=this._li.filter(":last"))},_dealWithUl:function(){var t=this,i=t.element,n=t._ul=i.children("ul");n.off("click"+t.eventNamespace).on("click"+t.eventNamespace,"li:not(li:has(ul>li))",t,function(t){if("true"!==e(this).attr("aria-selected")){var i=t.data;i._changeSelectedItem(this)}}).off("keydown"+t.eventNamespace).on("keydown"+t.eventNamespace,"li:not(li:has(ul))",t,function(e){switch(e.keyCode){case af.Utils.KeyCode.UP:case af.Utils.KeyCode.LEFT:e.preventDefault(),e.data.selectPrev();break;case af.Utils.KeyCode.DOWN:case af.Utils.KeyCode.RIGHT:e.preventDefault(),e.data.selectNext();break;case af.Utils.KeyCode.HOME:e.preventDefault(),e.data.selectFirst();break;case af.Utils.KeyCode.END:e.preventDefault(),e.data.selectLast()}})},_changeSelectedItem:function(e,t,i){if(this._currentSelectedItem[0]!==e){var n=t?t:this._currentSelectedItem,o=this._selectedItemChanging(n,e);o&&(this._unselectItem(n),this._selectItem(e),i||this._currentSelectedItem.focus(),this._selectedItemChanged(n,e))}},_selectItem:function(t){var i=this._currentSelectedItem=e(t).addClass("select").attr({"aria-selected":"true",tabindex:0});i.parent().closest("li").addClass("select").attr({"aria-selected":"true",tabindex:0}),this._currentSelectedContent=e("#"+i.attr("aria-controls")).show().attr("aria-hidden","false")},_unselectItem:function(t){if(t&&0!==t.length){var i=e(t).removeClass("select").attr({"aria-selected":"false",tabindex:-1});i.parent().closest("li").removeClass("select").attr({"aria-selected":"false",tabindex:-1}),e("#"+i.attr("aria-controls")).hide().attr("aria-hidden","true")}},_getPrevLi:function(e){var t=this._li.index(e),i=this._li[t-1];return i||(i=this._lastLi[0]),i.getAttribute("aria-controls")?i:this._getPrevLi(i)},_getNextLi:function(e){var t=this._li.index(e),i=this._li[t+1];return i||(i=this._firstLi[0]),i.getAttribute("aria-controls")?i:this._getNextLi(i)},_selectedItemChanging:function(e,t){return!0},_selectedItemChanged:function(e,t){},_setExtendOption:function(e,t){return!0},_optionChanged:function(e,t){}})}(jQuery)},function(e,t){!function(e){var t={CONTAINER_CLASS:"aui-btn-container",CONTAINER_BORDER_CLASS:"aui-btnCont-border",BTN_MORE_CLASS:"aui-btnCont-more",LIST_CLASS:"aui-btnCont-listBox",HIDDEN_CLASS:"aui-btnCont-hide",RIGHT_ELEMENT_CLASS:"aui-btnCont-right"};e.widget("aui.btnContainer",{$container:null,$btnMore:null,$list:null,$rightElement:null,_hiddenItems:[],options:{autoClose:!0,hasBorder:!0,saveClicked:!1},_create:function(){this._createContainer(),this._initMember(),this._initEvent()},_init:function(){this.element.contents().filter(function(){return 3===this.nodeType}).remove(),this._refresh()},_refresh:function(){this._checkOverflow(),this._createList()},_initEvent:function(){var i=this;this.$container.children().add(this.$container).resize(function(){e(this).is(":visible")&&i._refresh()}),document.onkeydown=function(e){i._keyEvent(e)},this._on(this.$btnMore,{click:function(i){var i=i||window.event;i.cancelBubble=!0,i.stopPropagation(),this.$list.is(":visible")?this.$list.hide():(e("."+t.LIST_CLASS).hide(),this.setPosition(this.$list,this.$btnMore),this.options.saveClicked||this.$list.children().removeClass("active"),this.$list.css("visibility","visible").show())}}),this._on(this.$list,{click:function(t){for(var t=t||window.event,i=t.target;i.parentNode!=this.$list[0];)i=i.parentNode;var n=this.$container.children().eq(e(i).attr("data-index"));return!n.is(":disabled")&&(n.is(":hidden")?n.click():console.error("No Element matched!"),e(i).addClass("active").siblings().removeClass("active"),this.options.autoClose&&this.$list.hide(),!1)}}),this._on(e("html"),{mousedown:function(i){var i=i||window.event,n=i.target,o=e(n).closest("."+t.LIST_CLASS);i.cancelBubble=!0,i.stopPropagation(),e(n).hasClass(t.BTN_MORE_CLASS)||0!=o.length||e("."+t.LIST_CLASS).hide()}})},_createContainer:function(){this.element.contents().filter(function(){return 3===this.nodeType}).remove(),this.$btnMore=e("<button></button>").addClass(t.BTN_MORE_CLASS).addClass("fi-three-dot-h-a").css("visibility","hidden"),this.$list=e("<div></div>").addClass(t.LIST_CLASS).addClass("id"+this.uuid).html("<button>1</button>"),this.element.attr("id","btnContainer"+this.uuid).append(this.$btnMore),this.options.hasBorder&&this.element.addClass(t.CONTAINER_BORDER_CLASS),e("body").append(this.$list)},_initMember:function(){this.$container=e("#btnContainer"+this.uuid),this.$btnMore=this.$container.children("."+t.BTN_MORE_CLASS),this.$list=e("."+t.LIST_CLASS+".id"+this.uuid),this.$rightElement=this.$container.children("."+t.RIGHT_ELEMENT_CLASS),
this.$rightElement.length>0&&this.$btnMore.css("right",parseFloat(this.$container.css("padding-right"))+this.$rightElement.outerWidth(!0)),this.$list.css("visibility","hidden"),this.setPosition(this.$list,this.$btnMore)},_checkOverflow:function(){var i=this.element.children("."+t.BTN_MORE_CLASS),n=i.outerWidth(!0),o=this,a=this.element,s=a.children().not("."+t.RIGHT_ELEMENT_CLASS),r=a.width();a.css("padding-right",i.outerWidth(!0)),o._hiddenItems=[],this.$rightElement.length>0&&(r-=this.$rightElement.outerWidth(!0)),s.removeClass(t.HIDDEN_CLASS),s.each(function(i,a){if(!e(this).hasClass(t.BTN_MORE_CLASS)&&e(this).is(":visible")&&(n+=e(this).outerWidth(!0),n>r)){if("hidden"!=e(this).css("visibility")){var s=e(this).clone().attr("data-index",e(this).index()).removeAttr("onclick ng-click").prop("onclick",null);o._hiddenItems.push(s)}e(this).addClass(t.HIDDEN_CLASS)}})},_createList:function(){if(0==this._hiddenItems.length)this.$btnMore.hide();else{this.$btnMore.css("visibility","visible").show();var t="";e.each(this._hiddenItems,function(e,i){"hidden"!=i.css("visibility")&&(t+=i.prop("outerHTML"))}),this.$list.html(t)}this.element[0].style.paddingRight=""},_keyEvent:function(i){function n(e){e.addClass("active").focus().siblings().removeClass("active")}var o=e("."+t.LIST_CLASS+":visible").last(),a=i||window.event;o.length>0&&a&&e.inArray(a.keyCode,[40,38,13])!=-1&&(a.preventDefault(),40==a.keyCode?n(0==o.find(".active").length||0==o.children(".active").next().length?o.children(":first"):o.children(".active").next()):38==a.keyCode?n(0==o.find(".active").length||0==o.children(".active").prev().length?o.children(":last"):o.children(".active").prev()):13==a.keyCode&&1==o.children(".active").length&&(e(":focus").blur(),o.children(".active").click()))},setPosition:function(e,t){var t=t||this.$btnMore,i=t.offset();e.css({left:i.left+parseFloat(t.css("padding-left")),top:i.top+t.outerHeight()})}})}(jQuery)},function(e,t){!function(e){var t=-1,i={CAPTCHA_CLASS:"aui-captcha",CODE_CONTAINER_CLASS:"aui-captcha-code-container",CODE_CLASS:"aui-captcha-code",ITALIC_CLASS:"aui-captcha-code-italic",WEIGHT_CLASS:"aui-captcha-code-weight",BUTTON_CLASS:"aui-captcha-button",RIGHT_ICON_CLASS:"aui-captcha-icon",FINISH_CLASS:"fi-round-finish-a",MESSAGE_CLASS:"aui-captcha-message",INPUT_CLASS:"aui-captcha-input"};e.widget("aui.captcha",{_code:"",captchaId:"aui-captcha-code-",iconId:"aui-captcha-icon-",messageId:"aui-captcha-message-",verifyId:"aui-captcha-verify-",options:{isValid:!1,caseSensitivity:!1,length:6,validChanged:e.noop},_create:function(){this._initMembers()._createCaptcha()._loaded()._initEvent()._refresh()},_initMembers:function(){return++t,this._initId(),this._length=this.options.length,this._caseSensitivity=this.options.caseSensitivity,this},_initId:function(){this.captchaId+=t,this.verifyId+=t,this.messageId+=t,this.iconId+=t},_createCaptcha:function(){var e=[],t=-1,n=0,o=this._length;for(e[++t]='<input class="'+i.INPUT_CLASS+'" id="'+this.verifyId+'" />',e[++t]='<div id="'+this.captchaId+'" class="'+i.CODE_CONTAINER_CLASS+'">';n<o;n++)e[++t]='<div onselectstart="return false;"  class="'+i.CODE_CLASS+'"></div>';return e[++t]="</div>",e[++t]='<span id="'+this.iconId+'" class="'+i.FINISH_CLASS+" "+i.RIGHT_ICON_CLASS+'"></span>',e[++t]='<div class="'+i.MESSAGE_CLASS+'" id="'+this.messageId+'"></div>',this.element.html(e.join("")),this},_loaded:function(){var t=this.element,n=this._length;t.addClass(i.CAPTCHA_CLASS),this.$code=t.children("#"+this.captchaId).children(),this.$codes=[];for(var o=0;o<n;o++)this.$codes[o]=e(this.$code[o]);return this.$verify=this.element.find("#"+this.verifyId),this.$message=this.element.children("#"+this.messageId),this.$icon=this.element.children("#"+this.iconId),this},_initEvent:function(){var e=this.eventNamespace;return this.$code.on("click"+e,this,this._onRefreshClick),this.$verify.on("blur"+e,this,this._onInputBlur),this},_onRefreshClick:function(e){e.data._refresh()},_onInputBlur:function(e){var t=e.data,i=!1;t.$verify.val()==t._code&&(i=!0,t.$icon.show(),t.$message.text("")),t.options.isValid=i,t._onValidation(i)},_onValidation:function(e){this._oldValue!=e&&(this._trigger("validChanged",null,$$.Event({element:self.element,oldValue:this._oldValue,newValue:e})),this._oldValue=e)},_trigger:function(t,i,n){return n&&(n.type="captcha"),this.element.trigger(t,n),e.Widget.prototype._trigger.call(this,t,i,n)},_refresh:function(){this.options.isValid=!1,this.$verify.val(""),this.$icon.hide(),this._generateCode()},_generateCode:function(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z",1,2,3,4,5,6,7,8,9],t=[1,2,3,4,5,6],n=[],o=this._length,a=0;for(this.$code.removeClass().addClass(i.CODE_CLASS),capitalsCount=t[Math.floor(Math.random()*t.length)];a<o;a++)n[a]=e[Math.floor(Math.random()*e.length)];if(this._caseSensitivity)for(a=0;a<capitalsCount;a++){var s=t[Math.floor(Math.random()*t.length)]-1;"string"==typeof n[s]&&(n[s]=n[s].toUpperCase())}for(a=0;a<o;a++)this.$codes[a].text(n[a]);this._code=n.join("")},_destroy:function(){var e=this;e._trigger("destroy",null,$$.Event({element:e.element}))},isValid:function(){return this.options.isValid},validate:function(){var e=this.$verify.val();""==e?this.$message.text($$.I18N.captcha.emptyMessage):e!=this._code&&this.$message.text($$.I18N.captcha.errorMessage)}})}(jQuery)},function(e,t){!function(e,t){"use strict";var i={CAROUSEL_CLASS:"aui-carousel",CAROUSEL_CONTAINER_CLASS:"aui-carousel-container",CAROUSEL_HORSE_CLASS:"aui-carousel-horse",CAROUSEL_ARROW_CLASS:"aui-carousel-arrow",CAROUSEL_ARROW_ICON_CLASS:"aui-carousel-arrow-icon",CAROUSEL_ARROW_OVER_ICON_CLASS:"aui-carousel-arrow-icon-over",CAROUSEL_PREV_CLASS:"aui-carousel-prev",CAROUSEL_PREV_ICON_CLASS:"aui-icon-carousel-arrow-left",CAROUSEL_NEXT_CLASS:"aui-carousel-next",CAROUSEL_NEXT_ICON_CLASS:"aui-icon-carousel-arrow-right",CAROUSEL_SHADE_CLASS:"aui-carousel-shade",CAROUSEL_DESCRIPTION_CLASS:"aui-carousel-description",CAROUSEL_SINGLE_LINE_CLASS:"aui-carousel-single-line",CAROUSEL_PAGER_CLASS:"aui-carousel-pager",CAROUSEL_PORTAL_CLASS:"aui-carousel-portal",CAROUSEL_PORTAL_NORMAL_CLASS:"aui-icon-carousel-normal",CAROUSEL_PORTAL_SELECTED_CLASS:"aui-icon-carousel-select",CAROUSEL_PORTAL_SELECTED_COLOR_CLASS:"aui-carousel-portal-current"};t.widget("aui.carousel",{options:{autoplay:!0,delay:4e3,displayLine:1,height:200,template:"",viewModel:{},hasPager:!0,width:500},_create:function(){var e=this;e._createCarousel(),e._createMembers(),e._initEvent()},_setOption:function(e,t){var i=this,n=i.options[e];if(i.options[e]=t,n!=t)switch(e){case"displayLine":i._onDisplayLineChanged(t);break;case"autoplay":i._onAutoplayChanged(t);break;case"delay":i._onDelayChanged(t)}},_onDelayChanged:function(e){var t=this;clearInterval(t._broadcasting),e&&t._play()},_onAutoplayChanged:function(e){var t=this;clearInterval(t._broadcasting),e&&t._play()},_onDisplayLineChanged:function(e){var t=this;t._displayLine=e,t._shadeHeight=1==t._displayLine?50:70,t._shade.height(t._shadeHeight),t._tips&&(t._tips.height(t._shadeHeight-10-22),1==e?t._tips.addClass(i.CAROUSEL_SINGLE_LINE_CLASS):t._tips.removeClass(i.CAROUSEL_SINGLE_LINE_CLASS))},_createCarousel:function(){var e=this,n=e.options,o=e.element;e._displayLine=n.displayLine,o.attr("tabindex",0).addClass(i.CAROUSEL_CLASS).height(n.height).width(n.width).append(e._createContainer()),e.options.hasPager&&o.append(e._createPager()),e._createMembers(),e._updateLayouts(),e._vm={items:ko.observableArray()},t.extend(e._vm,e.options.viewModel),e._vm.items.subscribe(e._onVmChanged,{self:e}),ko.applyBindings(e._vm,o[0])},_createContainer:function(){var e="";return e+='<div class="'+i.CAROUSEL_CONTAINER_CLASS+'" data-bind="foreach:items">',e+='<div class="'+i.CAROUSEL_HORSE_CLASS+'" data-bind="attr:{index:$index}">',e+=this.options.template,e+="</div>",e+="</div>"},_createPager:function(){var e="";return e+='<div class="'+i.CAROUSEL_ARROW_CLASS+" "+i.CAROUSEL_PREV_CLASS+'"><div class="'+i.CAROUSEL_ARROW_ICON_CLASS+" "+i.CAROUSEL_PREV_ICON_CLASS+'"></div></div>',e+='<div class="'+i.CAROUSEL_ARROW_CLASS+" "+i.CAROUSEL_NEXT_CLASS+'"><div class="'+i.CAROUSEL_ARROW_ICON_CLASS+" "+i.CAROUSEL_NEXT_ICON_CLASS+'"></div></div>',e+='<div class="'+i.CAROUSEL_SHADE_CLASS+'"></div>',e+='<div class="'+i.CAROUSEL_PAGER_CLASS+'" data-bind="foreach:items">',e+='<div class="'+i.CAROUSEL_PORTAL_CLASS+" "+i.CAROUSEL_PORTAL_NORMAL_CLASS+'" data-bind="attr:{index:$index}"></div>',e+="</div>"},_createMembers:function(){var e=this,t=e.element;e._selectedIndex=-1,e._start=0,e._container=t.children("."+i.CAROUSEL_CONTAINER_CLASS),e._prev=t.children("."+i.CAROUSEL_PREV_CLASS),e._next=t.children("."+i.CAROUSEL_NEXT_CLASS),e._prevIcon=e._prev.children("."+i.CAROUSEL_PREV_ICON_CLASS),e._nextIcon=e._next.children("."+i.CAROUSEL_NEXT_ICON_CLASS),e._pager=t.children("."+i.CAROUSEL_PAGER_CLASS),e._shade=t.children("."+i.CAROUSEL_SHADE_CLASS)},_initEvent:function(){var e=this,t=e.eventNamespace;e.element.on("keydown"+t,e,e._onKeyDown).on("keyup"+t,e,e._onKeyUp).on("mouseover"+t,e,e._onMouseOver).on("mouseout"+t,e,e._onMouseOut).on("touchstart",e,e._onTouchstart).on("touchend",e,e._onTouchend),e._prev.on("click"+t,e,e._doPrevious).on("mouseover"+t,e,e._onPrevMouseOver).on("mouseout"+t,e,e._onPrevMouseOut),e._next.on("click"+t,e,e._doNext).on("mouseover"+t,e,e._onNextMouseOver).on("mouseout"+t,e,e._onNextMouseOut)},_updateLayouts:function(){var e=this,t=0,i=1==e._displayLine?50:70;e._shadeHeight=i,t=(e.options.height-i)/2,e._shade.height(i),e._prev.css("top",t),e._next.css("top",t)}}),t.extend(t.aui.carousel.prototype,{_onVmChanged:function(){var e=this.self;e._vmTimer=setInterval(function(){clearInterval(e._vmTimer),e._item&&"off"in e._item&&e._item.off(e.eventNamespace),e._onItemsSourceChanged()},10)},_onItemsSourceChanged:function(){var e=this,n=0,o=0;for(e._horses=e._container.children("div[class~="+i.CAROUSEL_HORSE_CLASS+"]"),o=e._horses.length,e._portals=e._pager.children("div[class~="+i.CAROUSEL_PORTAL_CLASS+"]").on("click"+e.eventNamespace,e,e._onPortalClick),e._max=o-1,e._horse=[],e._portal=[];n<o;n++)e._horse[n]=t(e._horses[n]),e._portal[n]=t(e._portals[n]);e._goToPageByIndex(0),e._tips=e._horses.find("div[class~="+i.CAROUSEL_DESCRIPTION_CLASS+"]").height(e._shadeHeight-10-22).width(e.options.width-20),1==e.options.displayLine&&e._tips.addClass(i.CAROUSEL_SINGLE_LINE_CLASS),e._play()},_goToPageByIndex:function(e,t){var n=this,t=(t||"left right").split(" "),o=t[0],t=t[1];e=e<0?0:e,e=e>n._vm.items().length-1?0:e,n._portals.removeClass(i.CAROUSEL_PORTAL_SELECTED_CLASS+" "+i.CAROUSEL_PORTAL_SELECTED_COLOR_CLASS),n._oldSelectedIndex==-1||n._running?n._running=!1:(t=n._oldSelectedIndex>e?"left":"right",o=n._oldSelectedIndex>e?"right":"left"),n._horse[n._oldSelectedIndex]&&n._horseTransition(n._horse[n._oldSelectedIndex],"drop",o),n._horse[e]&&(n._horseTransition(n._horse[e],"slide",t),n._selectedIndex=e,n._portal[e].addClass(i.CAROUSEL_PORTAL_SELECTED_CLASS+" "+i.CAROUSEL_PORTAL_SELECTED_COLOR_CLASS))},_setItemsSource:function(e){var t=this;t.options.itemsSource=e,t._vm.items(ko.mapping.fromJS(e)())},itemsSource:function(e){var t=this;return void 0===e?ko.mapping.toJS(t._vm.items):void t._setItemsSource(e)}}),t.extend(t.aui.carousel.prototype,{_play:function(){var e=this;e.options.autoplay&&(e._broadcasting=setInterval(function(){e._running=!0,e._oldSelectedIndex=e._selectedIndex,e._goToPageByIndex(++e._selectedIndex<=e._max?e._selectedIndex:0)},e.options.delay))},_onKeyDown:function(e){e.which!=t.ui.keyCode.LEFT&&e.which!=t.ui.keyCode.RIGHT||clearInterval(e.data._broadcasting)},_onKeyUp:function(e){var i=e.data;switch(e.which){case t.ui.keyCode.LEFT:i._prev.trigger("click"),i._play();break;case t.ui.keyCode.RIGHT:i._next.trigger("click"),i._play()}},_onMouseOver:function(e){clearInterval(e.data._broadcasting)},_onMouseOut:function(e){var t=e.data;t._play()},_doPrevious:function(e){var t=e&&e.data||this;t._oldSelectedIndex=t._selectedIndex,t._running=!0,t._goToPageByIndex(--t._selectedIndex>=0?t._selectedIndex:t._max,"right left")},goToPrevious:function(){var e=this;clearInterval(e._broadcasting),e._doPrevious(),e._play()},_onPrevMouseOver:function(e){e.data._prev.addClass(i.CAROUSEL_ARROW_OVER_ICON_CLASS)},_onPrevMouseOut:function(e){e.data._prev.removeClass(i.CAROUSEL_ARROW_OVER_ICON_CLASS)},_doNext:function(e){var t=e&&e.data||this;t._oldSelectedIndex=t._selectedIndex,t._running=!0,t._goToPageByIndex(++t._selectedIndex<=t._max?t._selectedIndex:0)},goToNext:function(){var e=this;clearInterval(e._broadcasting),e._doNext(),e._play()},_onNextMouseOver:function(e){e.data._next.addClass(i.CAROUSEL_ARROW_OVER_ICON_CLASS)},_onNextMouseOut:function(e){e.data._next.removeClass(i.CAROUSEL_ARROW_OVER_ICON_CLASS)},_onPortalClick:function(e){var t=e.data;t._oldSelectedIndex=t._selectedIndex,t._goToPageByIndex(this.getAttribute("index"))},_horseTransition:function(e,t,i){e.stop(!0,!0).effect({effect:t,direction:i})}}),t.extend(t.aui.carousel.prototype,{_onTouchstart:function(e){e.preventDefault();var t=e.data;clearInterval(t._broadcasting),t._start=e.originalEvent.changedTouches[0].pageX},_onTouchend:function(e){e.preventDefault();var t=e.data,i=e.originalEvent.changedTouches[0].pageX-t._start;t._play(),t._start=e.originalEvent.changedTouches[0].pageX,i>10?t._doPrevious(e):i<-10&&t._doNext(e)}})}(AUI,jQuery)},function(e,t){"use strict";!function(e){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.checkbox={update:function(t,i,n){var o={isThreeState:!1,isTabStop:!0,tabindex:0,isInline:!1,contentWidth:"auto",disabled:!1,checked:!1},a=ko.unwrap(i());o.disabled=ko.unwrap(a.disabled),o.clickToIntermediate=ko.unwrap(a.clickToIntermediate),o.checked=ko.unwrap(a.checked),o.isThreeState=ko.unwrap(a.isThreeState),o.isTabStop=ko.unwrap(a.isTabStop),o.tabindex=ko.unwrap(a.tabindex),o.isInline=ko.unwrap(a.isInline),o.contentWidth=ko.unwrap(a.contentWidth),ko.isObservable(a.checked)&&(o.click=function(e,t){a.checked(t.newValue),e.stopPropagation(),a.click&&a.click(e,t)}),e(t).checkbox(o)}}),e.widget("aui.checkbox",{options:{isThreeState:!1,clickToIntermediate:!0,checked:!1,isTabStop:!0,tabindex:0,disabled:!1,isInline:!1,contentWidth:"auto",isPisces:!1,click:e.noop,check:e.noop,uncheck:e.noop,indeterminate:e.noop},_create:function(){var e=this;e._render()},_setOption:function(t,i){var n=this,o={oldstate:this.options[t],newstate:i,obj:n,oldValue:this.options[t],newValue:i,element:n.element};if(o.oldValue!=o.newValue&&("disabled"==t&&(n.options.disabled=o.newValue,o.newValue?n._disable():n._enable()),"checked"==t))switch(n.options.checked=o.newValue,n._gotoState(o.newValue),o.newValue){case!0:n.options.check({},e.extend($$._EventArgs,o));break;case!1:n.options.uncheck({},e.extend($$._EventArgs,o));break;case null:n.options.indeterminate({},e.extend($$._EventArgs,o))}},_render:function(){var e=this,t=e.element;e._defaultchecked=e.options.checked,e._initLayOut(),e._initCheckState(),t.on("click"+e.eventNamespace,e,e._click).on("keydown"+e.eventNamespace,e,function(e){e.stopPropagation()}).on("mousedown"+e.eventNamespace,e._box,function(e){e.data.addClass("aui-checkbox-box-down")}).hover(function(){e._box.addClass("aui-checkbox-box-hover")},function(){e._box.removeClass("aui-checkbox-box-hover")}),e._box.on("keydown"+e.eventNamespace,e,e._keydown).on("blur"+e.eventNamespace,e._box,function(e){e.data.removeClass("aui-checkbox-box-down")})},_initLayOut:function(){var t=this,i=t.element,n=i.html();t._pisces=t.options.isPisces?e('<div class="aui-checkbox-pisces"></div>'):"",t._box=e("<div class='aui-checkbox-box aui-checkbox-box-base' ></div>").attr("role","checkbox").attr("aria-span",n),t._box2=e("<div class='aui-checkbox-check-box'></div>"),t._checkdiv=e("<img src='"+$$.path+"/image/checkbox.png' alt=''/>"),t._content=e("<div class='aui-checkbox-content'></div>"),t._box.append(t._box2),t._box2.append(t._checkdiv),t.options.isTabStop?t._box.attr("tabindex",t.options.tabindex):t._box.removeAttr("tabindex"),t._hiddeninput=e("<input type='hidden' name='"+i.attr("id")+"'/>"),i.html("").addClass("aui-checkbox").append(t._pisces).append(t._box).append(t._content).append(t._hiddeninput),t._content.append(n),t.options.disabled&&t._disable();var o=i.attr("contentWidth");"auto"===t.options.contentWidth&&void 0!=o&&(t.options.contentWidth=o),t._content.css("width",t.options.contentWidth),i.width(this._content.width()+29).css("height","0px"==t._content.css("height")?"20px":t._content.css("height")),t.options.isInline&&i.addClass("aui-checkbox-display-inline")},_initCheckState:function(){var e=this._confirmState(this.options.checked);this._gotoState(e)},_gotoState:function(e){var t=this;t.element;switch(t._ischecked=e,e){case!0:t._box.attr("aria-checked","true"),t._checkdiv.removeClass("aui-checkbox-indeterminate aui-checkbox-uncheck").addClass("aui-checkbox-check");break;case!1:t._box.attr("aria-checked","false"),t._checkdiv.removeClass("aui-checkbox-check aui-checkbox-indeterminate").addClass("aui-checkbox-uncheck"),t._hiddeninput.attr("value","false");break;case null:t._box.attr("aria-checked","mixed"),t._checkdiv.attr("aria-checked","mixed").attr("alt","half check state").removeClass("aui-checkbox-check aui-checkbox-uncheck").addClass("aui-checkbox-indeterminate"),t._hiddeninput.attr("value","")}},_confirmState:function(e){var t=!1;return 1!=e&&0!=e&&null!=e||(t=this.options.isThreeState?e:!!e),t},_nextState:function(e){var t=!1;if(this.options.isThreeState&&this.options.clickToIntermediate)switch(e){case!0:t=null;break;case!1:t=!0;break;case null:t=!1}else t=!e;return t},_disable:function(){var e=this;switch(e.element.removeClass("aui-checkbox").addClass("aui-checkbox-disabled"),e._box.removeClass("aui-checkbox-box aui-checkbox-box-hover").addClass("aui-checkbox-box-disabled").removeAttr("tabindex"),e.options.isPisces&&e._pisces.addClass("aui-checkbox-pisces-disabled"),e.options.checked){case!0:e._checkdiv.removeClass("aui-checkbox-check").addClass("aui-checkbox-check-disabled");break;case null:e._checkdiv.removeClass("aui-checkbox-indeterminate").addClass("aui-checkbox-indeterminate-disabled")}},_enable:function(){var e=this;switch(e.element.removeClass("aui-checkbox-disabled").addClass("aui-checkbox"),e._box.removeClass("aui-checkbox-box-disabled aui-checkbox-box-down").addClass("aui-checkbox-box"),e.options.isPisces&&e._pisces.removeClass("aui-checkbox-pisces-disabled"),e.options.isTabStop?e._box.attr("tabindex",e.options.tabindex):e._box.removeAttr("tabindex"),e.options.checked){case!0:e._checkdiv.removeClass("aui-checkbox-check-disabled").addClass("aui-checkbox-check");break;case null:e._checkdiv.removeClass("aui-checkbox-indeterminate-disabled").addClass("aui-checkbox-indeterminate")}},_keydown:function(t){t.keyCode==e.ui.keyCode.SPACE&&(t.stopPropagation(),t.preventDefault(),t.data._click(t))},_click:function(t){t.stopPropagation();var i=t.data,n=i._confirmState(i.options.checked),o=i._nextState(n);if(!i.options.disabled){i._setOption("checked",o),i._box.removeClass("aui-checkbox-box-down"),i.options.isTabStop&&i._box.focus();var a={oldstate:n,newstate:o,obj:i,oldValue:n,newValue:o,element:i.element};i.options.click(t,e.extend($$._EventArgs,a))}},_destroy:function(){this._box.removeClass().off(this.eventNamespace),this._checkdiv.removeClass(),this._content.removeClass(),this.element.removeClass().empty()},getDefaultChecked:function(){return this._defaultchecked},checked:function(e){return 0==arguments.length?this._ischecked:void this._setOption("checked",this._confirmState(e))},refresh:function(){var e=this.element;e.css("height",this._content.css("height")),e.width(this._content.width()+23)},isDisabled:function(e){return 0==arguments.length?this.options.disabled:void this._setOption("disabled",!!e)}})}(jQuery)},function(e,t){"use strict";!function(e){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.colorpicker={update:function(t,i){var n=ko.toJS(ko.unwrap(i()));n.converter=function(e){return void 0!=e?n.optionText?e[n.optionText]:e:""},e(t).colorpicker(n)}}),e.widget("aui.colorpicker",{options:{click:e.noop},_create:function(){this._createColorPicker()},_createWebSafeColor:function(){for(var e=["FF","CC","99","66","33","00"],t=e.length,i=[],n=!1,o=0;o<t;o++)for(var a=0;a<t/2;a++){n=a>=t/2;for(var s=0;s<t;s++)n?i[i.length%18-1]=e[a]+e[s]+e[o]:i[i.length]=e[a]+e[s]+e[o]}for(var o=0;o<6;o++)for(var a=3;a<6;a++)for(var s=0;s<6;s++)i[i.length]=e[a]+e[s]+e[o];return i.join(",")},_getColorData:function(){return this._createWebSafeColor()},_createColorPicker:function(){for(var t=this,i=t._getColorData().split(","),n=[],o=0;o<i.length;o++)n[n.length]='<a style="border-color: #'+i[o]+"; background-color: #"+i[o]+'" href="javascript:void(0)">'+i[o]+"</a>";n[n.length]="<span><em>X</em><strong></strong></span>";var a=e("<div></div>").addClass("aui-colorpicker").attr("tabindex","0");t.element.append(a.html(n.join(""))),a.on("focusin",function(t){var i=e(t.target).closest("a");i&&0!=i.length&&(a.find("em").css("backgroundColor","#"+i.text()),a.find("strong").html("#"+i.text()))}).on("click",function(i){var n=e(i.target).closest("a");if(n&&0!=n.length){var o={oldValue:void 0==t._selectedColor?"":t._selectedColor.text,newValue:n.text(),element:t.element};t.options.click({},e.extend($$._EventArgs,o)),t._selectedColor=n}}).on("mouseover",function(t){var i=e(t.target).closest("a");i&&0!=i.length&&(a.find("em").css("backgroundColor","#"+i.text()),a.find("strong").html("#"+i.text()))}).on("keydown",function(t){if(27==t.keyCode)return!0;var i=e(":tabbable",e(".aui-colorpicker")),n=i.filter(":first");i.filter(":last");if(39==t.keyCode){if("DIV"==t.target.nodeName)return n.focus(1),!0;for(var o=0;o<i.length;o++)if(t.target===i[o]){var a=o+1,s=a%18,r=Math.floor(a/18);return r==Math.floor(o/18)&&e(i[a]).focus(1),!0}}if(37==t.keyCode){if("DIV"==t.target.nodeName)return n.focus(1),!0;for(var o=0;o<i.length;o++)if(t.target===i[o]){var a=o-1,s=a%18,r=Math.floor(a/18);return r==Math.floor(o/18)&&e(i[a]).focus(1),!0}}if(40==t.keyCode){if("DIV"==t.target.nodeName)return n.focus(1),!0;for(var o=0;o<i.length;o++)if(t.target===i[o]){var a=o+1,s=a%18,r=Math.floor(a/18),l=18*(r+1)+s-1;return 0==a?(n.focus(1),!0):(e(i[l]).focus(1),!0)}}if(38==t.keyCode){if("DIV"==t.target.nodeName)return n.focus(1),!0;for(var o=0;o<i.length;o++)if(t.target===i[o]){var a=o-1,s=a%18,r=Math.floor(a/18),d=18*(r-1)+s+1;return 0==a?(n.focus(1),!0):(e(i[d]).focus(1),!0)}}})},_destroy:function(){this.element.off(this.eventNamespace),this.element.empty()},selectedColor:function(t){var i=this.element.find("a");if(0==arguments.length)return void 0==this._selectedColor?"":e(this._selectedColor).text();for(var n=0;n<i.length;n++)e(i[n]).text()==t&&(this._selectedColor=i[n])}})}(jQuery)},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.combobox={init:function(i,n,o,a){var i=t(i),s=n(),r=s.disabled,l=ko.isObservable(r),d=(s.selectedIndex,s.selectedValue),c=s.selectedItem,u=ko.isObservable(d),h=ko.isSubscribable(c),_=ko.toJS(ko.unwrap(s)),p=_.viewModel.items.length,m=_.viewModel.items,f=e.executeEventHandler,g=_.isEnabledChanged;_.selectionChanged;return _.parameters=s.parameters||{},_.viewModel=s.viewModel,p>0?(_.viewModel.items.removeAll(),i.combobox(_),i.combobox("itemsSource",m)):i.combobox(_),(u||h)&&(i.on("selectionChanged",function(e,t){u&&d(t.newValue),h&&c(t.newValue.item)}),u&&d.subscribe(function(){i.combobox("selectedValue",d())}),h&&c.subscribe(function(){try{i.combobox("selectedItem",c())}catch(e){}})),l&&(i.combobox("option","isEnabledChanged",function(e,t){r(t.newValue),f(null,"isEnabledChanged",g,e,t)}),r.subscribe(function(){try{i.combobox("option","disabled",r())}catch(e){}})),{controlsDescendantBindings:!0}}});var i=-1,n={COMBOBOX_CLASS:"aui-combobox",COMBOBOX_DISABLED_CLASS:"aui-combobox-disabled",INPUT_CLASS:"aui-combobox-input",CONTENT_CLASS:"aui-combobox-content",CONTENT_DISABLED_CLASS:"aui-combobox-content-disabled",MOUSEENTER_CLASS:"aui-combobox-mouseenter",FOCUSED_CLASS:"aui-combobox-focused",DROPDOWN_CLASS:"aui-combobox-dropdown",ICON_DROPDOWN:"fi-triangle-down-bs",POPUP_CLASS:"aui-combobox-popup",LISTBOX_CLASS:"aui-combobox-listbox",SELECTION_CLASS:"aui-combobox-selection",SELECTION_ITEM_CLASS:"aui-combobox-selection-item",SELECTION_CONTENT_CLASS:"aui-combobox-selection-content",CONTENT_20_CLASS:"aui-combobox-selection-content-20",SELECTION_MOUSEOVER_CLASS:"aui-combobox-selection-mouseover",SELECTION_SELECTED_CLASS:"aui-combobox-selection-selected",GROUP_NAME_CLASS:"aui-combobox-group-name",GROUP_LINE_CLASS:"aui-combobox-group-line",CREATE_NEW_CLASS:"aui-combobox-crate-new",MESSAGE_CLASS:"aui-combobox-message",SELECTED_TEMPLATE_CLASS:"aui-combobox-selected-template"},o={freeze:0,pass:1,cancel:2};e.combobox=function(e){var i=null;switch(e=e.toLowerCase()){case"lockstatus":i=t.extend(!0,i,o)}return i},t.widget("aui.combobox",{$window:null,$body:null,$input:null,$container:null,$dropdown:null,$popup:null,$listbox:null,$selection:null,$selections:[],$groupNames:null,inputId:"aui-combobox-input-",listboxId:"aui-combobox-listbox-",selectedId:"aui-combobox-selected-",popupId:"aui-combobox-popup-",contentContainerId:"aui-combobox-content-container-",messageId:"aui-combobox-message-",_isOpened:!1,_isTemplate:!1,_items:null,_listboxHeight:0,_listboxMaxHeight:0,_newValue:{index:-1,item:{}},_oldValue:{index:-1,item:{}},_selectionCount:0,_oldSelectedIndex:-1,options:{createTemplate:null,dataTextField:"",dataValueField:"",disabled:!1,groupBy:"",height:null,itemTemplate:null,labelledby:"",parameters:{},popupHeight:"auto",popupMaxHeight:300,popupWidth:"auto",selectedIndex:-1,selectedValue:null,selectedItem:null,selectedTemplate:null,selectionHeight:"auto",triggerDefaultChanged:!0,waterMark:e.I18N.combobox.waterMark,width:"auto",hasFilter:!1,delay:300,viewModel:{},hidden:t.noop,itemsSourceChanged:t.noop,selectionChanged:t.noop,selectionChanging:t.noop,shown:t.noop,autoSort:!0,sortAssert:null,itemsSource:null},_create:function(){this._initMembers()._createCombobox()._loaded()._initEvent()._applyBinding()},_initMembers:function(){var e=this;e.options.itemsSource;return++i,this._changingTimer=null,this._groups={},this.$groupNames=[],this._autoSort=e.options.autoSort,this._delay=this.options.delay,e._initId(),e._isTemplate=!1,this._hasFilter=e.options.hasFilter,this.options.selectedTemplate&&(this._hasFilter=!1),e._groupBy=e.options.groupBy.split(" "),e._firstProperty=e._groupBy[1],e._groupBy=e._groupBy[0],e.element.addClass(n.COMBOBOX_CLASS),e.$window=t(window),e.$body=t("body"),ko.isObservable(e.options.viewModel.items)||(e.options.viewModel.items=ko.observableArray()),e.options.viewModel.selectedItems=ko.observableArray(),e._items=e.options.viewModel.items,e._items.subscribe(e._onVmChanged,{self:e}),e},_initId:function(){this.inputId+=i,this.listboxId+=i,this.selectedId+=i,this.popupId+=i,this.contentContainerId+=i,this.messageId+=i},_createCombobox:function(){var e=this;return e.element.html(e._createContent()+e._createDropdown()),e.$body.append(e._createPopup()),e},_createContent:function(){var e=this,t=-1,i=(n.CONTENT_CLASS,[]);return i[++t]='<input id="'+e.inputId+'" placeholder="'+this.options.waterMark+'" class="'+n.INPUT_CLASS+'" autocomplete="off" role="combobox" aria-haspopup="true" aria-expanded="false" aria-autocomplete="list" wrap="off"  aria-activedescendant="" />',i[++t]='<div id="'+e.contentContainerId+'" class="aui-combobox-content-container" data-bind="stopBindings:combobox">',"string"==typeof e.options.selectedTemplate&&(i[++t]='<div class="'+n.SELECTED_TEMPLATE_CLASS+'" data-bind="foreach:selectedItems">',i[++t]=e.options.selectedTemplate,i[++t]="</div>",e._isTemplate=!0),i[++t]="</div>",i.join("")},_createDropdown:function(){return'<div unselectable="on" class="'+n.DROPDOWN_CLASS+" "+n.ICON_DROPDOWN+'" ></div>'},_createPopup:function(){var t=this,i=-1,o=t.options.createTemplate,a=n.SELECTION_CONTENT_CLASS,s=t._groupBy,r=[];return""!=s&&(a+=" "+n.CONTENT_20_CLASS),r[++i]='<div data-bind="stopBindings:combobox">',r[++i]='<div class="'+n.POPUP_CLASS+'" id="'+t.popupId+'">',r[++i]='<div id="'+this.messageId+'" class="'+n.MESSAGE_CLASS+'">'+e.I18N.combobox.noMatches+"</div>",null!=o&&(r[++i]='<div class="'+n.CREATE_NEW_CLASS+'">',r[++i]=o,r[++i]="</div>"),r[++i]='<div class="'+n.LISTBOX_CLASS+'" id="'+t.listboxId+'" role="listbox" data-bind="foreach:items">',""!=s?r[++i]='<div class="'+n.SELECTION_CLASS+'" role="option"  data-bind="attr:{\'data-group\':'+s+",index:$index,'aria-span':"+t.options.dataTextField+' }">':r[++i]='<div class="'+n.SELECTION_CLASS+'" role="option"  data-bind="attr:{index:$index,\'aria-span\':'+t.options.dataTextField+' }">',null==t.options.itemTemplate?r[++i]=t._getDefaultTemplate(a):r[++i]=t.options.itemTemplate,r[++i]="</div>",r[++i]="</div>",r[++i]="</div>",r[++i]="</div>",r.join("")},_getDefaultTemplate:function(e){var t=this,i=[],o=-1;return i[++o]='<div class="'+n.SELECTION_ITEM_CLASS+'">',i[++o]='<span class="'+e+'" data-bind="text:'+t.options.dataTextField+'"></span>',i[++o]="</div>",i.join("")},_loaded:function(){var e=this,i=e.element,o=e.options.itemsSource,a=e.options;return e.$container=i.children("#"+e.contentContainerId).hide(),e.$template=t(e.$container.children()[0]),e.$input=i.children("#"+e.inputId),""!=e.options.labelledby&&e.$input.attr("aria-labelledby",e.options.labelledby),a.height&&e._setHeight(a.height),e.$input.attr("role","combobox").prop("readonly",!e._hasFilter).attr("aria-readonly",!e._hasFilter).attr("aria-expanded",!1),e.$dropdown=i.children('div[class~="'+n.DROPDOWN_CLASS+'"]'),e.$popup=e.$body.find("#"+e.popupId),e.$message=e.$popup.children("#"+e.messageId),e.$listbox=e.$popup.children("#"+e.listboxId),null==a.width?a.width=150:e._setWidth(a.width),"auto"!=a.popupMaxHeight&&e._setPopupMaxHeight(a.popupMaxHeight),"auto"!=a.popupHeight&&e._setPopupHeight(a.popupHeight),e._updatePopupPosition(),e.$createNew=e.$popup.children('div[class="'+n.CREATE_NEW_CLASS+'"]'),e.$createNew.on("click",e,e._onCreateNewClick).on("mousedown",e._onCreateNewMouseDown),a.disabled===!0&&e._setDisabled(!1,a.disabled),t.isArray(o)&&o.length>0&&e.options.viewModel.items(ko.mapping.fromJS(o)()),this},_onCreateNewClick:function(e){e.data._hide()},_onCreateNewMouseDown:function(e){e.stopPropagation(),e.preventDefault()},disabled:function(e){var t=this;return null==e?t.options.disabled:void t._setOption("disabled",e)},_setDisabled:function(t,i){var o=this;o.$input.prop("disabled",i),i===!1?(o.$container.removeClass(n.CONTENT_DISABLED_CLASS),o.element.removeClass(n.COMBOBOX_DISABLED_CLASS)):(o.$container.addClass(n.CONTENT_DISABLED_CLASS),o.element.addClass(n.COMBOBOX_DISABLED_CLASS)),t!=i&&e.executeEventHandler(o,"isEnabledChanged",o.options.isEnabledChanged,null,e.Event({element:o.element,oldValue:t,newValue:i}))},_initEvent:function(){var t=this;return t.$window.on("resize",t,t._onWindowResize),t.element.on("mousedown",t,t._onElementMousedown),t.element.on("mouseup",t,t._onElementMouseup),t.$input.on("mouseenter",t,t._onContentMouseEnter).on("mouseleave",t,t._onContentMouseLeave).on("keydown",t,t._onContentKeydown).on("focus",t,t._onInputFocus).on("blur",t,t._onInputBlur),t.$dropdown.on("mouseenter",t,t._onContentMouseEnter).on("mouseleave",t,t._onContentMouseLeave),t.$container.on("mouseenter",t,t._onContentMouseEnter).on("mouseleave",t,t._onContentMouseLeave),t.$listbox.on("keydown",t,t._onListboxKeydown).on("mousedown",t,t._onselectionMouseDown).on("mousewheel",t,t._onselectionMousewheel),e.close(t.element,"combobox","hide"),this},_onElementMousedown:function(t){var i=t.data;e.closeExcept(i.element,!0),i._isContentMouseDown=!0,i.$input.focus(),i.options.disabled===!1&&(i._isOpened?i._hide():i._show())},_onElementMouseup:function(e){e.data._isContentMouseDown=!1},_onselectionMousewheel:function(t){var i=t.data,n=1;t.preventDefault(),t.deltaY>0&&(n=-1),i.$listbox.scrollTop(i.$listbox.scrollTop()+60*n),
e.closeExcept(i.element,!0)},_applyBinding:function(){var e=this;ko.applyBindings(e.options.viewModel,e.$popup[0]),e._isTemplate&&ko.applyBindings(e.options.viewModel,e.$template[0])},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"selectedIndex":i.selectedIndex(t);break;case"selectedItem":i.selectedItem(t);break;case"selectedValue":i.selectedValue(t);break;case"disabled":i._setDisabled(n,t);break;case"width":i._setWidth(t);break;case"height":i._setHeight(t);break;case"popupWidth":i._setPopupWidth(t);break;case"popupHeight":i._setPopupHeight(t);break;case"popupMaxHeight":i._setPopupMaxHeight(t);break;case"selectionHeight":i._setSelectionHeight(t);break;case"waterMark":i._setWatermark(t)}},_setWatermark:function(e){this.$input.attr("placeholder",e)},_setWidth:function(e){var t=this,i=t.element;i.width(e)},_setPopupWidth:function(){var e=this.options.popupWidth;e=t.isNumeric(e)?e:this.element.width(),this.$popup.width(e)},_setPopupHeight:function(e){var t=this,i=t.options.popupMaxHeight;e=e>i?i:e,t.$popup.height(e),null!=t.options.createTemplate&&(e-=24),t.$listbox.height(e)},_setPopupMaxHeight:function(e){var t=this;t.$popup.css("max-height",e),null!=t.options.createTemplate&&(e-=42),t._listboxMaxHeight=e,t.$listbox.css("max-height",e)},_setSelectionHeight:function(e){this.$selection.height(e)},_setHeight:function(e){var t=this;t.element.height(e)},_onContentMouseEnter:function(e){var t=e.data;t.options.disabled===!1&&e.data.element.addClass(n.MOUSEENTER_CLASS)},_onContentMouseLeave:function(e){var t=e.data;t.element.removeClass(n.MOUSEENTER_CLASS),t._isContentMouseDown=!1},_onListboxKeydown:function(e){var i=e.data;e.which==t.ui.keyCode.TAB||e.which==t.ui.keyCode.ESCAPE?(e.preventDefault(),i._hide(),i.$input.focus()):8==e.which?e.preventDefault():(e.which==t.ui.keyCode.UP||e.which==t.ui.keyCode.DOWN||e.which==t.ui.keyCode.ENTER?i._isListboxKeydown=!0:i._isListboxKeydown=!1,i._onContentKeydown(e))},_onContentKeydown:function(e){var i=e.data;if(i.options.disabled===!1)switch(i._hasFilter?(229==e.which||32==e.which||8==e.which||e.which>=48&&e.which<=57||e.which>=65&&e.which<=90||e.which>=96&&e.which<=111||e.which>=186&&e.which<=192||e.which>=219&&e.which<=222)&&(i._startTimer(i._delay),8==e.which&&""==i.$input.val()&&e.preventDefault()):8==e.which&&e.preventDefault(),e.which){case t.ui.keyCode.ENTER:i._onElementEnter();break;case t.ui.keyCode.LEFT:case t.ui.keyCode.RIGHT:e.preventDefault();break;case t.ui.keyCode.DOWN:e.preventDefault(),i._selectedNext();break;case t.ui.keyCode.UP:e.preventDefault(),i._selectedLast()}},_startTimer:function(e){var t=this;t._clearTimer(),t._timer=setInterval(function(){t._onTimer(t)},e)},_clearTimer:function(){null!=this._timer&&clearInterval(this._timer)},_onTimer:function(e){e._clearTimer(),e._filterSelection()},_getFilterCondition:function(){var e="";return e=this._isCaseSensitive?this.$input.val():this.$input.val().toLowerCase()},_filterSelection:function(){var e=this,t=0,i=0,n=e._getFilterCondition();if(e._firstIndex=-1,this._isFilter=!0,e._groupBy)for(var o in e._groups)e._groups[o].count=e._groups[o].total;if(ko.utils.arrayForEach(e._items(),function(o){var a=e._getDisplayName(o);e.$selections[t].show(),a.indexOf(n)==-1?(e.$selections[t].hide(),e._groupBy&&e._groups[e.$selections[t].data("group")].count--):(i++,e._firstIndex==-1&&(e._firstIndex=t)),t++}),e._groupBy)for(var o in e._groups){var a=e._groups[o];0==a.count?(a.ele&&a.ele.hide(),a.line&&a.line.hide()):(a.ele&&a.ele.show(),a.line&&a.line.show())}this.$popup.is(":hidden")?this._show():(e.$selection&&e.$selection.width(e._getSelectionWidth()),this._updatePopupPosition()),0==i?this.$message.show():this.$message.hide(),this._firstIndex!=-1&&(this.options.selectedIndex=this._firstIndex,this.options.selectedValue=this._items()[this._firstIndex][this.options.dataValueField](),this._setSelectedIndex(this._firstIndex)),this.$input.focus()},_getDisplayName:function(e){var t,i=this.options.dataTextField;return t=this._isCaseSensitive?e[i]():e[i]().toLowerCase()},_selectedLast:function(){var e=this,t=(e._selectionCount,e.options.dataValueField),i=e.options.selectedIndex-1;i=e._getNextIndex(!1,e.options.selectedIndex),i>=0&&(e.options.selectedIndex=i,e.options.selectedValue=e._items()[i][t](),e._setSelectedIndex(i))},_selectedNext:function(){var e,t=this,i=t._selectionCount,n=t.options.dataValueField;e=t._getNextIndex(!0,t.options.selectedIndex),e<i&&(t.options.selectedIndex=e,t.options.selectedValue=t._items()[e][n](),t._setSelectedIndex(e))},_getNextIndex:function(e,t){var i=this,n=-1,o=this.$selections;return n=e?++t<o.length-1?t:o.length-1:--t>0?t:0,this.$popup.is(":visible")&&this.$selections[n].is(":hidden")&&(n=n>i._firstIndex?i._getNextIndex(e,n):i._firstIndex),n},_onElementEnter:function(){var e=this;e._isOpened?e._hide():e._show()},insert:function(e,t){var i=this,n=i._selectionCount;e>-1&&e<=n&&(t=ko.mapping.fromJS(t),i._items.splice(e,0,t))},addItems:function(e,t){var i=this,t=t||0,n=i._selectionCount;t>-1&&t<=n&&(e=ko.mapping.fromJS(e)(),e.splice(0,0,t,0),ko.observableArray.fn.splice.apply(i._items,e))},removeAll:function(){this._items.removeAll()},getListBoxId:function(){return this.listboxId},_destroy:function(){e.offClose(this.element),this.element.off(),this.$selection=null,this.options.selectedIndex=-1,this.$popup.parent().remove(),this._trigger("destroy",null,e.Event({element:this.element}))}}),t.extend(t.aui.combobox.prototype,{_setSelectedIndex:function(e,i){this.$selection&&(e>=-1&&e<this._selectionCount?(this.$selection.removeAttr("tabindex").removeAttr("id").removeClass(n.SELECTION_SELECTED_CLASS),e>-1?this.$selections[e]&&(this.$selections[e].attr("tabindex",0).attr("id",this.selectedId).addClass(n.SELECTION_SELECTED_CLASS),this._forzenFocus||(this._isFilter?this._isFilter=!1:this.$selections[e].focus())):this.$container.hide(),this._isOpened||this._onSelectionChanging(e,i)):t.error("The selected index "+e+" was outside the bounds of the options."))},_onSelectionChanged:function(t,i,n,o){this.options.selectedItem=n.item,this._oldSelectedIndex=t,this.options.selectedIndex=t,this.options.selectedValue=n.value,this.$input.val(n.item[this.options.dataTextField]),this._isTemplate&&(this.$container.show(),this.options.viewModel.selectedItems(n.item)),!this.options.triggerDefaultChanged&&o||this._trigger("selectionChanged",null,e.Event({element:this.element,oldValue:i,newValue:n}))},_onSelectionChanging:function(t,i){var n=this,a=this._oldSelectedIndex,s=n.options.dataValueField,r={index:-1,item:{},value:null},l={index:-1,item:{},value:null};clearInterval(this._changingTimer),this._oldSelectedIndex!=t&&(this._isSelectionChanging=!0,this._oldValue=r=a==-1?r:{index:a,item:ko.mapping.toJS(n._items()[a]||{})},n._oldValue.value=n._oldValue.item[s],n._newValue=l=t==-1?l:{index:t,item:ko.mapping.toJS(n._items()[t])},n._newValue.value=n._newValue.item[s],this._trigger("selectionChanging",null,e.Event({element:this.element,oldValue:r,newValue:l})),this._isSelectionChanging||(this._lock=o.pass),this._lock==o.freeze?this._changingTimer=setInterval(function(){n._lock>0&&(clearInterval(n._changingTimer),n._lock==o.pass&&n._onSelectionChanged(t,r,l))},150):this._onSelectionChanged(t,r,l,i))},selectedIndex:function(e){var i=this;return t.isNumeric(e)?(i.options.selectedIndex=e,void i._setSelectedIndex(e)):i.options.selectedIndex},selectedItem:function(t){var i=this,n=i.options.dataValueField;return i.options.selectedItem=t,0==arguments.length?i._newValue.item:void(e.isObject(t)?i.selectedValue(t[n]):null===t&&i.selectedValue(null))},selectedValue:function(e){var t=-1;return 0==arguments.length?this._newValue.item[this.options.dataValueField]:void(this._newValue.value!=e&&(this.options.selectedValue=e,this.options.selectedIndex=-1,t=this._getIndexByValue(e),this._forzenFocus=!0,this._setSelectedIndex(t)))},_getIndexByValue:function(e){for(var t=0,i=-1,n=this._items(),o=this.options.dataValueField,a=n.length;t<a;t++){var s,r=n[t];if(s=ko.isObservable(r[o])?r[o]():r[o],s===e){i=t;break}}return i}}),t.extend(t.aui.combobox.prototype,{_getSelectionWidth:function(){var e,t=this;t.$selection,t.options;return this.$popup.is(":hidden")&&(this.$popup.show(),this._setPopupWidth()),t.$selection.width("auto"),e=t.$selection.filter(":visible").width(),t.$listbox.scrollLeft(1e9),e+=t.$listbox.scrollLeft()},_onVmChanged:function(){var i,o=this.self,a=o.options,s=0,r=o.namespace,l=null,d=o._items().length;o._selectionCount=d,o.$popup.css("opacity",0),l=setInterval(function(){var c,u=t.Event();if(clearInterval(l),d>0){for(o.$selection instanceof t&&o.$selection.off(r),o.$selection=o.$listbox.children('div[class~="'+n.SELECTION_CLASS+'"]'),o.$selections=[];s<d;s++)o.$selections[s]=t(o.$selection[s]);""!=o._groupBy&&0!=d&&o._updateGroupName(),i=o._getSelectionWidth(),o.$selection.width(i).css("font-weight","normal").off(r).on("mousedown",o,o._onselectionMouseDown).on("mouseup",o,o._onSelectionClick).on("mouseover",o,o._onselectionMouseOver).on("mouseout",o,o._onselectionMouseOut).on("blur",o,o._onSelectionBlur),"auto"!=a.selectionHeight&&o._setSelectionHeight(a.selectionHeight),c=o._getDefaultSelectedIndex(),c>-1&&o._setSelectedIndex(c,!0)}o.$popup.show().width(o.element.width()),o._listboxHeight=o.$listbox.height(),o.$listbox.scrollLeft(0),o.$popup.hide(),o.$popup.css("opacity",1),o._trigger("itemsSourceChanged",u,e.Event({element:o.element,newValue:o._convertItems()}))})},_getDefaultSelectedIndex:function(){var e,t=-1;return null!=this.options.selectedItem?e=this.options.selectedItem[this.options.dataValueField]:void 0==e&&(e=this.options.selectedValue),void 0!=e&&(t=this._getIndexByValue(e)),t==-1&&(t=this.options.selectedIndex),t},_convertItems:function(){for(var e=0,t=ko.mapping.toJS(this._items),i=t.length;e<i;e++)delete t[e][this._firstProperty];return t},_emptyGroup:function(){var e,t=this._groups;for(e in this._groups)t[e].ele.remove(),t[e].line&&t[e].line.remove()},_updateGroupName:function(){var e,i=this,o=i._groupBy,a=i._firstProperty,s=i._items(),r=0,l=0,d=s.length,c=null;for(i._groups={};l<d;l++){var u=s[l];e=u[o](),e!==c&&(i._groups[e]={total:0},null!=c&&(i._groups[c].line=t('<div class="'+n.GROUP_LINE_CLASS+'"></div>'),i.$selections[l-1].after(i._groups[c].line)),c=e,r+=24,a?u[a](!0):(i._groups[e].ele=t('<div class="'+n.GROUP_NAME_CLASS+'" >'+s[l][o]()+"</div>"),i.$selections[l].before(i._groups[e].ele))),i._groups[e].total++,i.$selections[l].data("distance",r)}},_onselectionMouseDown:function(e){e.stopPropagation(),e.preventDefault()},_onSelectionClick:function(e){var t=e.data;t.options.selectedIndex=this.getAttribute("index")-0,t._hide()},_onselectionMouseOver:function(e){e.stopPropagation(),e.data.$selections[this.getAttribute("index")].addClass(n.SELECTION_MOUSEOVER_CLASS)},_onSelectionBlur:function(e){var i=e.data,o=t(document.activeElement);1!=i._isOpened||i._isContentMouseDown||i.options.selectedIndex!=this.getAttribute("index")||o.attr("id")==i.inputId||o.attr("id")==i.listboxId||i._isListboxKeydown?i._isListboxKeydown=!1:(i.element.removeClass(n.FOCUSED_CLASS),i._hide())},_onselectionMouseOut:function(e){e.stopPropagation(),e.data.$selections[this.getAttribute("index")].removeClass(n.SELECTION_MOUSEOVER_CLASS)},getSearchCondition:function(){return this.$input.val()},setLock:function(e){this._lock=e},itemsSource:function(e){var i,n,o=this,a=o._groupBy,s=o._firstProperty;if(this._emptyGroup(),this._oldSelectedIndex=-1,this.$input.val(""),this.$selection=null,void 0===e)return ko.mapping.toJS(o._items);if(o.options.itemsSource=e,i=ko.mapping.fromJS(e),n=e.length,o._autoSort&&(t.isFunction(o.options.sortAssert)?i.sort(o.options.sortAssert):a&&i.sort(function(e,i){var n=a;return n in e?e[n]()==i[n]()?0:e[n]()<i[n]()?-1:1:void t.error('Can not read property "'+n+'" of source. Please reset "groupBy" property at combobox initialize.')})),i=i(),a&&o._firstProperty)for(var r=0;r<n;r++)i[r][s]=ko.observable(!1);o._items(i)}}),t.extend(t.aui.combobox.prototype,{_updatePopupPosition:function(){var e=this,t="left top+";t+=e.element.height(),e.$popup.css({top:0}),e.$popup.position({my:t,at:"left top+2",of:e.element,collision:"flipfit flipfit",within:e.options.within})},_onWindowResize:function(e){var t=e.data;t._updatePopupPosition(),t.$popup.hide()},_onInputFocus:function(e){e.data.element.addClass(n.FOCUSED_CLASS)},_onInputBlur:function(e){var i,o=e.data;o._isContentMouseDown||(0==o._isOpened?o.element.removeClass(n.FOCUSED_CLASS):i=setInterval(function(){clearInterval(i);var e=t(document.activeElement);e.hasClass(n.SELECTION_CLASS)||e.hasClass(n.LISTBOX_CLASS)||1!=o._isOpened||"gridcell"==e.attr("role")||o._hide()}))},_show:function(){var t=this,i=t.options.selectedIndex;return t._isOpened=!0,e.closeVisibility(t.element,!0),this.$popup.show(),this._setPopupWidth(),t._updatePopupPosition(),t.$selection&&t.$selection.width(t._getSelectionWidth()),t.$listbox.scrollLeft(0),t.$listbox.scrollTop(0),t.$input.attr("aria-expanded",!0).focus(),this._setSelectedIndex(i),t._trigger("shown",null,e.Event({element:t.element,oldValue:t._oldValue,newValue:t._newValue})),t},_trigger:function(e,i,n){var o=this;return n&&(n.parameters=o.options.parameters[e]||{},n.type="combobox"),o.element.trigger(e,n),t.Widget.prototype._trigger.call(o,e,i,n)},_hide:function(){var t=this;return t._isOpened=!1,e.closeVisibility(t.element,!1),t.$input.attr("aria-expanded",!1).focus(),t.$popup.hide(),t._onSelectionChanging(t.options.selectedIndex),t._trigger("hidden",null,e.Event({element:t.element,oldValue:t._oldValue,newValue:t._newValue})),t},show:function(){var e=this;e._isOpened||e._show()},hide:function(){var e=this;e._isOpened&&e._hide()},open:function(){this._show()},hidePopup:function(){this._hide()}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";function i(e){return e.templateName()}function n(e){return e.backgroundTemplateName()}function o(e){return e.headerBackgroundTemplateName()}function a(e){return e.headerTemplateName()}ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.datagrid={init:function(e,i){var e=t(e),n=i(),o=ko.toJS(ko.unwrap(n)),a=o.viewModel.items.length,s=e.append('<div id="'+o.id+'"></div>').children(),r=o.viewModel.items;return o.viewModel=n.viewModel,a>0?(n.viewModel.items.removeAll(),s.datagrid(o),s.datagrid("itemsSource",r)):s.datagrid(o),{controlsDescendantBindings:!0}}});var s={auiDisplayBlock:"aui-display-block",auiDisplayNone:"aui-display-none",DATAGRID_CLASS:"aui-datagrid",DATAGRID_TABLE_CLASS:"aui-datagrid-table",DATAGRID_SCROLL_CONTAINER:"aui-datagrid-scroll-container",HEADER_CONTAINER_CLASS:"aui-datagrid-header-container",DATAGRID_HEADER_CLASS:"aui-datagrid-header",HEADER_CELLS_CLASS:"aui-datagrid-header-cell",HEADER_CELLS_FOCUS_CLASS:"aui-datagrid-header-cell-focus",HEADER_CELLS_CONTENT_CLASS:"aui-datagrid-header-cell-content",HEADER_CONTENT_CLASS:"aui-datagrid-header-content",DYNAMIC_HEADER_CONTENT_CLASS:"aui-datagrid-dynamic-header-content",HEADER_NOT_SORT_CLASS:"aui-datagrid-header-not-sort",HEADER_SETTINGS_CLASS:"aui-datagrid-header-settings",FILL_COLUMN:"aui-datagrid-fill-column",HEADER_FILTER_CONTAINER:"aui-datagrid-filter-cintainer",HEADER_SETTINGS_POPUP_CLASS:"aui-datagrid-header-settings-popup",HEADER_SETTING_CLASS:"aui-datagrid-header-setting",HEADER_SETTING_ICON_CLASS:"",HEADER_SETTING_HIDDEN_ACTION_CLASS:"aui-datagrid-header-setting-hidden-action",HEADER_SETTING_HIDDEN_ICON_CLASS:"fi-close-bs",HEADER_SORT_CLASS:"aui-datagrid-sort",HEADER_SORT_ASC_CLASS:"fi-datagrid-sort-list-up-as",HEADER_SORT_DESC_CLASS:"fi-datagrid-sort-list-down-as",HEADER_FILTER_CLASS:"fi-datagrid-filter",HEADER_SORT_DESC_FILTER_CLASS:"fi-datagrid-filter-and-sort-down",HEADER_SORT_ASC_FILTER_CLASS:"fi-datagrid-filter-and-sort-up",HEADER_DRAG_CLASS:"aui-datagrid-header-drag",HEADER_DRAG_DISABLED_CLASS:"aui-datagrid-header-drag-disabled",LAST_CELL_CLASS:"aui-datagrid-last-column",BLOCK_FILTER_CLASS:"aui-datagrid-block-filter",BLOCK_FILTER_CONTAINER_CLASS:"aui-datagrid-block-filter-container",BLOCK_FILTER_ITEM_CONTAINER_CLASS:"aui-datagrid-block-filter-item-container",BLOCK_FILTER_SELECT_ALL_CLASS:"aui-datagrid-block-filter-select-all",BLOCK_FILTER_ACTION_CLASS:"aui-datagrid-block-filter-action",SORT_ACTION_CLASS:"aui-datagrid-sort-action",BLOCK_FILTER_ACTION_MOUSEENTER_CLASS:"aui-datagrid-block-filter-action-mouseenter",BLOCK_FILTER_BUTTON_CONTAINER_CLASS:"aui-datagrid-block-filter-button-container",BLOCK_FILTER_SEARCH_CLASS:"aui-datagrid-block-filter-search",HEADER_SETTING_CLEAR_CLASS:"aui-datagrid-header-setting-clear",HEADER_SETTING_CLEAR_DISABLED_CLASS:"aui-datagrid-header-setting-clear-disable",HEADER_SETTING_CLEAR_ACTION_CLASS:"aui-datagrid-filter-clear-action",HEADER_SETTING_CLEAR_ICON_CLASS:"fi-datagrid-clear-filter",HEADER_SETTING_CLEAR_DISABLED_IMG_CLASS:"aui-datagrid-filter-clear-action-disabled-img",HEADER_SETTING_HIDDEN_CLASS:"aui-datagrid-header-setting-hidden",BELT_FILTER_CLASS:"aui-datagrid-belt-filter",BELT_FILTER_CELL_CLASS:"aui-datagrid-belt-filter-cell",BELT_FILTER_CHECKBOX_CLASS:"aui-datagrid-belt-checkbox",BELT_FILTER_NUMBER_CLASS:"aui-datagrid-belt-number",BELT_FILTER_NIMBER_COMBOBOX_CLASS:"aui-datagrid-belt-number-combobox",BELT_FILTER_COMBOBOX_CLASS:"aui-datagrid-belt-combobox",BELT_FILTER_INPUT_CLASS:"aui-datagrid-belt-input",DRAG_POPUP_CLASS:"aui-datagrid-popup",BLOCK_FILTER_POPUP_EXPAND:"aui-datagrid-filter-popup-expand",BLOCK_FILTER_POPUP:"aui-datagrid-filter-popup",DATAGRIR_MESSAGE_CONTAINER_CLASS:"aui-datagrid-message-container",DATAGRIR_MESSAGE_CLASS:"aui-datagrid-message",DATAGRID_CONTENT_CLASS:"aui-datagrid-content",DRAG_RULER_CLASS:"aui-datagrid-drag-ruler",CONTENT_ROW_PRESENTER:"aui-datagrid-row-presenter",ROW_CLASS:"aui-datagrid-row",ROW_MOUSEOVER_CLASS:"aui-datagrid-row-mouseover",SINGLE_ROW_CLASS:"aui-datagrid-single-row",EVEN_ROW_CLASS:"aui-datagrid-even-row",SELECTED_ROW_CLASS:"aui-datagrid-row-selected",DETAILS_ROW_CLASS:"aui-datagrid-details-row",CELL_CLASS:"aui-datagrid-cell",CELL_BACKGROUND_PANEL_CLASS:"aui-datagrid-background-panel",IE_PANEL:"aui-datagrid-ie-panel",CELL_FOCUS_CLASS:"aui-datagrid-cell-focus",CELL_CONTENT_CLASS:"aui-datagrid-cell-content",CELL_TEXT_CONTENT_CLASS:"aui-datagrid-cell-text",CELL_CHECKBOX_CLASS:"aui-datagrid-cell-checkbox",CELL_WIDGET_CLASS:"aui-datagrid-cell-widget",CELL_POPUP_WIDGET_CLASS:"aui-datagrid-popup-widget",HIDE_TD_CLASS:"aui-datagrid-hide-column",CELL_EDITING_CLASS:"aui-datagrid-cell-editing",LOCKED_AREA_CLASS:"aui-datagrid-locked",UNLOCKED_AREA_CLASS:"aui-datagrid-unLocked"},r={visible:0,collapsed:1},l={normal:0,search:1,filter:2},d={none:0,belt:1,block:2,search:3},c={input:0,combobox:1,checkbox:2,number:3,date:4},u={equal:0,notEqual:1,lessThan:2,lessThanOrEqual:3,greaterThan:4,greaterThanOrEqual:5},h={text:0,checkbox:1,template:2,title:3,ellipsis:0},_={normal:0,editing:1},p={none:0,asc:1,desc:2},m={visibleWhenSelected:0,visibleWhenClick:1,visible:2,collapsed:3,click:4},f={normal:{add:[],remove:["_isMouseOver","_isSelected"]},mouseout:{add:[],remove:["_isMouseOver"]},mouseover:{add:["_isMouseOver"],remove:[]},selected:{add:["_isSelected"],remove:[]},unSelected:{add:[],remove:["_isSelected"]},changeVisualStates:function(e){for(var t=e.add,i=e.remove,n=0,o=t.length,a=i.length;n<o;n++)this[t[n]](1);for(n=0;n<a;n++)this[i[n]](-1)}},g={string:0,date:1,number:2};e.datagrid=function(e){var i=null;switch(e=e.toLowerCase()){case"visibility":i=t.extend(!0,i,r);break;case"columntype":i=t.extend(!0,i,h);break;case"detailsmode":i=t.extend(!0,i,m);break;case"celleditingclass":i=s.CELL_EDITING_CLASS;break;case"cellwidgetclass":i="aui-datagrid-cell-widget";break;case"cellPopupWidget":i="aui-datagrid-popup-widget";break;case"cellmode":i=t.extend(!0,i,_);break;case"constant":i=t.extend(!0,i,s);break;case"sortmode":i=t.extend(!0,i,p);break;case"filter":i=t.extend(!0,i,d);break;case"filterbelt":i=t.extend(!0,i,c);break;case"numberfilterbelt":i=t.extend(!0,i,u);break;case"message":i=t.extend(!0,i,l);break;case"sorttype":i=t.extend(!0,i,g);break;default:i={}}return i},t.extend(t.aui.datagrid.prototype,{options:{columns:[],filtered:t.noop,filtering:t.noop,filterType:d.none,frozenColumnCount:0,height:"auto",hasZebraCrossing:!0,isBackground:!1,isColumnResizable:!1,isFilterCaseSensitive:!1,isReadOnly:!0,isSortable:!1,itemsSourceChanged:t.noop,maxHeight:0,minCellWidth:40,noneMessage:null,noneSearchMessage:"",noneFilterMessage:"",rowClick:t.noop,rowDetailsTemplate:"",rowDetailsVisibilityMode:m.collapsed,rowDoubleClick:t.noop,rowHeight:"auto",rowMouseover:t.noop,rowMouseout:t.noop,sorted:t.noop,sorting:t.noop,viewModel:{},width:"auto",initPart:function(){},isResponsive:!1,parameters:{}},_create:function(){this._initMembers()._initColumnVisibility()._initColumnSort()._initRowDetails()._createCellMembers()._initColumnFilter()._createDataGrid()._applyBinding()._initColumnResize()._initCellEdit()._loaded()._initEvent()._updateLayout()},_initMembers:function(){var e=this;return e._cellClassPre="datagrid_cell",e._colClassPre="datagrid_column",e._display="_display",e._isSelected="_isSelected",e._isMouseOver="_isMouseOver",e._itemsCount=0,e._filterType=e.options.filterType,e._isBackground=e.options.isBackground,e._hasZebraCrossing=e.options.hasZebraCrossing,e._hasFilter=e.options.filterType!=d.none,e._columns=e.options.columns,e._width=e.options.width,e._rowHeight=e.options.rowHeight,e._isPercentage="string"==typeof e._width&&"auto"!=e._width,e._viewWidth=e._getViewWidth(),e._contentWidth=e._getTotalWidth(),e._frozenColumnCount=e.options.frozenColumnCount||0,e._frozenWidth=e._getFrozenWidth(),e._scrollableViewWidth=0,e._scrollableContentWidth=e._contentWidth-e._frozenWidth,e._canUserResize=e.options.isColumnResizable,e._hasDetails=e.options.hasDetails,e._hasDetails!==!0||e._createDetailMembers||t.error('Please add "aui.datagrid.detail.js" when using datagrid detail.'),e._settingTabbableIndex=-1,e._openingSettingIndex=-1,e.options.frozenColumnCount=e._frozenColumnCount=e._frozenColumnCount>=e.options.columns.length?0:e._frozenColumnCount,e._item=null,e._lockedItem=null,e._unLockedItem=null,e._cells=null,e._frozenColumn=[],e._rows=[],e._hiddenColumns=[],e._selectedIndex=-1,e._mouseoverIndex=-1,e._selectedItem=null,this._initVM(),this},_initVM:function(){this._vm={},ko.isObservable(this.options.viewModel.items)||(this.options.viewModel.items=ko.observableArray()),ko.isObservable(this.options.viewModel.dynamicColumns)||(this.options.viewModel.dynamicColumns=ko.observableArray()),t.extend(this._vm,this.options.viewModel),this._vm.dynamicColumns.subscribe(this._onDynamicColumnsChanged,{self:this}),this._vm.items.subscribe(this._onVmChanged,{self:this}),this._vm._dynamicTemplate=i,this._vm._dynamicBackgroundTemplate=n,this._vm._dynamicHeaderBackgroundTemplate=o,this._vm._dynamicHeaderTemplate=a,this._vm._getDynamicCellClass=this._getDynamicCellClass},_initColumnVisibility:function(){return t.isFunction(this._createColumnVisibilityMembers)&&this._createColumnVisibilityMembers(),this},_initColumnSort:function(){return this.options.isSortable===!0&&(t.isFunction(this._createSortMembers)?this._createSortMembers():t.error('Please add "aui.datagrid.sort.js" when using datagrid sort.')),this},_createHeaderCache:function(){var e=this,i=0,n=e._headerCell.length,o=e._headerCell,a=e._headerContent,s=(e._headerOptions,e._headerSorts),r=e._headerDrags;for(e._headerCache=[];i<n;i++){var l=t(o[i]),d=l.attr("columnindex");e._allColumns[i]=e.element.find("."+e._cellClassPre+"_"+i),e._allTableCols[i]=e.element.find("."+e._colClassPre+"_"+i),e._headerCache[d]={cell:l,index:d,container:t(a[i]),sort:t(s[i]),drag:t(r[i])}}return this},_initRowDetails:function(){return this._hasDetails===!0&&this._createDetailMembers(),this},_initColumnFilter:function(){return this._hasFilter&&this._initFilterMembers(),this},_initColumnResize:function(){return this._isWidthNumeric()||"auto"==this._width||(this._canUserResize=!1),this._canUserResize===!0&&(t.isFunction(this._createResizingMembers)?this._createResizingMembers():t.error('Please add "aui.datagrid.columnsresize.js" when using resize column.')),this},_initCellEdit:function(){return t.isFunction(this._createEditMembers)&&this._createEditMembers(),this},_applyBinding:function(){return ko.applyBindings(this._vm,this.element.parent()[0]),this},_loaded:function(){return this._initHeaderPart()._createHeaderCache()._initCellPart(),this._trigger("loaded",null,e.Event({element:this.element})),this},_initHeaderPart:function(){return this._headerWrapper=this.element.find("div[class~="+s.DATAGRID_HEADER_CLASS+"]"),this._headerUnLocked=this._headerWrapper.find(".aui-datagrid-unLocked"),this._headerContainer=this.element.find("div[class~="+s.HEADER_CONTAINER_CLASS+"]"),this._header=this._headerContainer.find("table[class~="+s.DATAGRID_TABLE_CLASS+"]"),2==this._header.length?(this._lockedHeader=t(this._header[0]),this._unlockedHeader=t(this._header[1])):this._unlockedHeader=this._header,this._columns=this.options.columns.concat(this._vm.dynamicColumns()),this._headerCell=this._header.find("."+s.HEADER_CELLS_CLASS),"msie"==e.browser.browser&&this._headerCell.children("."+s.CELL_BACKGROUND_PANEL_CLASS).height(this._headerCell.height()),this._headerContent=this._headerCell.children("div[class="+s.HEADER_CONTENT_CLASS+"]"),this._headerSorts=this._headerContent.children("div[class~="+s.HEADER_SETTING_CLASS+"]"),this._headerDrags=this._headerContent.children("div[class~="+s.HEADER_DRAG_CLASS+"]"),this._headerCache=[],this._allColumns=[],this._allTableCols=[],this},_initCellPart:function(){return this._messageContainer=this.element.children("."+s.DATAGRIR_MESSAGE_CONTAINER_CLASS),this._message=this._messageContainer.children("."+s.DATAGRIR_MESSAGE_CLASS),this._content=this.element.children('div[class="'+s.DATAGRID_CONTENT_CLASS+'"]'),this._unLockedContent=this._content.children('div[class="'+s.UNLOCKED_AREA_CLASS+'"]'),this._lockedContent=this._content.children('div[class~="'+s.LOCKED_AREA_CLASS+'"]'),this._unLockeds=this.element.find('div[class="'+s.UNLOCKED_AREA_CLASS+'"]'),this._unLockedTables=this._unLockeds.children("table"),this._lockeds=this.element.find('div[class~="'+s.LOCKED_AREA_CLASS+'"]'),this._lockedTables=this._lockeds.children("table"),this._rowPresenter=this._content.find("."+s.CONTENT_ROW_PRESENTER).hide(),0!=this._frozenColumnCount&&(this._lockedRowPresenter=t(this._rowPresenter[0]),this._unlockedRowPresenter=t(this._rowPresenter[1])),this._fillColumn=this._unLockedTables.find('col[class="'+s.FILL_COLUMN+'"]'),this._horizontalScroll=this.element.find("."+s.DATAGRID_HORIZONTAL_SCROLLER_CLASS),this},_initEvent:function(){var e=this.eventNamespace;return"auto"!=this._width&&1!=this.options.isResponsive||(this._window=t(window).on("resize"+e,this,this._onWindowResize)),this._rowPresenter.on("keydown"+e,this,this._onRowPresenterKeyDown),this._headerCell.on("focus"+e,this,this._onHeaderCellFocus).on("blur"+name,this,this._onHeaderCellBlur).on("mouseover"+e,this,this._onHeaderMouseover).on("mouseout"+e,this,this._onHeaderMouseout).on("click"+e,this,this._onHeaderClick),this._hasFilter||this.options.isSortable===!0,this._canUserResize&&this._headerDrags.on("mousedown"+e,this,this._onDragerMouseDown),this._lockedContent.on("scroll",this,this._onLockedScroll),this._unLockedContent.on("scroll",this,this._onContentScroll),this._headerUnLocked.on("scroll",this,this._onHeaderScroll),this.options.filterType==d.belt&&this._initBeltFilter(),this._initHeaderSettings(),1==this.options.isResponsive&&this._initResponsiveSetting(),this},_onHeaderClick:function(i){var n=i.data,o=t(this);n._isCellFocus||"msie"!=e.browser.browser||o.focus(),t.isFunction(n._triggerSort)&&n._triggerSort(o)},_updateCellFocus:function(e,t){t?e.addClass(s.CELL_FOCUS_CLASS):e.removeClass(s.CELL_FOCUS_CLASS)},_onHeaderCellFocus:function(e){var i=e.data;i._isCellFocus=!0,e.data._updateCellFocus(t(this).children(":first"),!0)},_onHeaderCellBlur:function(e){var i=e.data;i._isCellFocus=!1,e.data._updateCellFocus(t(this).children(":first"),!1)},_onCellFocus:function(i){var n=i.data,o=null,a=e.Event(),s=n._currentSelectedCell;n._isCellFocus=!0,s.cell=t(this),n._updateCellFocus("msie"==e.browser.browser?s.cell.children(":first").children(":first"):s.cell.children(":first"),!0),o=s.rowIndex=s.cell.attr("rowIndex")-0,s.columnIndex=s.cell.attr("columnIndex")-0,s.showPart=t(s.cell.children("div")[0]),s.editingPart=t(s.cell.children("div")[1]),s.bindName=n._columns[s.columnIndex].binding,void 0!=s.bindName&&(s.oldValue=n._getCellValue(s.bindName,o)),s.editingElement=s.editingPart.find("."+e.datagrid("cellEditingClass")),s.mode=1===s.mode?1:_.normal,a.oldValue=n._oldRowValue,n._selectedIndex!=o&&n._onSelectedItemChanging(this.parentElement),1==n._hasDetails&&n.options.rowDetailsVisibilityMode==m.visibleWhenSelected&&"none"==n._details[o].style.display&&(a.parameters.isExpanded=t(n._details[o]).is(":hidden"),n._showCurrentDetail(o),a.newValue=n._vm.items()[n._selectedIndex],a.parameters.items=n._vm.items(),e.executeEventHandler(n,"riowDetailsVisibilityChanged",n.options.riowDetailsVisibilityChanged,i,a))},_onCellBlur:function(i){var n=i.data,o=t(this);n._isCellFocus=!1,n._updateCellFocus("msie"==e.browser.browser?o.children(":first").children(":first"):o.children(":first"),!1)},_setOption:function(e,i){var n=this;switch(t.Widget.prototype._setOption.apply(n,arguments),n.options[e]=i,e){case"rowDetailsVisibilityMode":n._updateDetailsVisibilityMode&&n._updateDetailsVisibilityMode(i)}},_getAscendingMsg:function(t){var i="";switch(t){case g.date:i=e.I18N.datagrid.oldToNew;break;case g.number:i=e.I18N.datagrid.ascending;break;default:i=e.I18N.datagrid.sortAToZ}return i},_getDescendingMsg:function(t){var i="";switch(t){case g.date:i=e.I18N.datagrid.newToOld;break;case g.number:i=e.I18N.datagrid.descending;break;default:i=e.I18N.datagrid.sortZToA}return i},_onRowClick:function(i){var n=i.data,o=n._details,a={element:n.element,parameters:{}},s=this.getAttribute("index");a.oldValue=n._oldRowValue,n._onSelectedItemChanging(this),a.newValue=n._vm.items()[n._selectedIndex],a.parameters.items=n._vm.items(),n._hasDetails&&(a.parameters.isExpanded=t(o[s]).is(":hidden"),n.options.rowDetailsVisibilityMode!=m.visibleWhenClick&&n.options.rowDetailsVisibilityMode!=m.click||(n._showCurrentDetail(s),e.executeEventHandler(n,"riowDetailsVisibilityChanged",n.options.riowDetailsVisibilityChanged,i,a))),n._trigger("rowClick",null,e.Event({element:n.element,oldValue:n._oldRowValue,newValue:n._vm.items()[n._selectedIndex],parameters:{items:n._vm.items()}}))},_onDoubleClickRow:function(t){var i=t.data,n={element:i.element};this.getAttribute("index");n.oldValue=i._oldRowValue,n.newValue=i._vm.items()[i._selectedIndex],e.executeEventHandler(i,"rowDoubleClick",i.options.rowDoubleClick,null,n)},deleteRowByIndex:function(e){return ko.mapping.toJS(this._vm.items.splice(e,1)[0])},deleteRowsByAttribute:function(e,t){for(var i=this,n=i._vm.items().length-1,o=[];n>=0;n--)i._vm.items()[n][e]()===t&&(o[o.length]=i._vm.items.remove(i._vm.items()[n])[0]);return ko.mapping.toJS(o)},getColumnsSetting:function(){return this.options.columns},getRowsByAttribute:function(e,t){for(var i=this,n=0,o=i._vm.items().length,a=[];n<o;n++)i._vm.items()[n][e]()===t&&a.push(i._vm.items()[n]);return ko.mapping.toJS(a)},selectedIndex:function(){return this._selectedIndex},unSelectedItem:function(e){var i=this;item=i._vm.items()[i._selectedIndex],item&&(item._isSelected(0),t.isFunction(e)&&e(item),i._selectedIndex=-1)},selectedItem:function(){var e,t=this,i=t._selectedIndex,n=t._item.length;return e=i!=-1&&i<n?ko.mapping.toJS(t._vm.items()[i]):null},updateRowByIndex:function(e,t){var i=this,n=null,o=i._vm.items().length;e>=0&&e<o&&(n=i._vm.items()[e],i._setCellValue(n,t))},_setCellValue:function(e,i){if(t.isFunction(e))e(i);else{var n="";for(n in e)void 0!==i[n]&&this._setCellValue(e[n],i[n])}},updateColumnByAttribute:function(e,i,n){for(var o=this,a=o._vm.items().length-1,s=t.isArray(o._vm.items()[a])&&t.isArray(i);a>=0;a--){
var r=o._vm.items()[a];n&&!n(r)||(s?r[e](i[a]):r[e](i))}},clearItems:function(){var e=this;return ko.mapping.toJS(e._vm.items.removeAll())},getRowByIndex:function(e){var t=this._vm.items(),i=t.length;if(e>-1&&e<i)return ko.mapping.toJS(t[e])},getRowIndex:function(e){var i=t(e).parents("."+s.CELL_CLASS),n=-1;return i.length>0&&(n=t(i[0]).attr("rowIndex")),n},clickRow:function(t,i,n){e.updateEventHandler(this,"rowClick",t,i,n)},setDataStatus:function(e){var i=this;i._createSortMembers?t.extend(i._sortCache,e.sort):void 0!=e.sort&&t.error('Please add "aui.datagrid.sort.js" when using datagrid sort.'),i._createBeltFilter?i._filterType==d.belt?t.extend(i._BeltAssert,e.filter):t.extend(i._BlockAssert,e.filter):void 0!=e.filter&&t.error('Please add "aui.datagrid.filter.js" when using datagrid filter.'),i._searchKey=e.search},getDataStatus:function(){var e=this;return{sort:e._sortCache,filter:e._filterType==d.belt?e._BeltAssert:e._BlockAssert,search:e._searchKey}},_destroy:function(){var t=this.eventNamespace;try{this._item&&this._item.off(t),this._cells&&this._cells.off(t),this.element.off(t),this._vm.items.removeAll(),this.options.isReadOnly===!1&&this._destroyEdit(),this._canUserResize===!0&&this._destroyColumnResize(),this._rowPresenter.remove(),this._content.remove(),this._headerDrags.remove(),this._headerSorts.remove(),this._headerContent.remove(),this._headerCell.remove(),this._header.remove()}catch(i){e.log("datagrid destroy error: "+i.message)}finally{this._trigger("destroy",null,e.Event({element:this.element}))}}}),t.extend(t.aui.datagrid.prototype,{_createDataGrid:function(){var e=this,i=-1,n=[],o=e.element,a=e.options.height+45,r=e._viewWidth;return e._filterType==d.belt&&(a+=45),o.addClass(s.DATAGRID_CLASS),t.isNumeric(r)&&o.css("width",r),t.isNumeric(e.options.height)&&o.height(a),e._createResizingMembers&&(n[++i]='<div class="'+s.DRAG_POPUP_CLASS+'">',n[++i]='<div class="'+s.DRAG_RULER_CLASS+'" tabindex="0"></div>',n[++i]="</div>"),n[++i]=e._createHeader(),e._filterType==d.belt&&(e._createBeltFilter?n[++i]=e._createBeltFilter():t.error('Please add "aui.datagrid.filter.js" when using datagrid filter.')),n[++i]=e._createMessage(),n[++i]=e._createRows(),o.html(n.join("")),e._container=o.wrap('<div style="position:relative;"></div>').parent().prepend(e._createHeaderSettings()),1==e.options.isResponsive&&e._container.append(e._createResponsiveRows()),this},_createHeader:function(){var e=this,t=e._columns,i=t.length,n=e._frozenColumnCount,o=-1,a=[];return a[++o]='<div class="'+s.DATAGRID_HEADER_CLASS+'">',"string"!=typeof e.options.width?a[++o]='<div class="'+s.DATAGRID_SCROLL_CONTAINER+" "+s.HEADER_CONTAINER_CLASS+'" style="width:'+e._viewWidth+'px;">':a[++o]='<div class="'+s.DATAGRID_SCROLL_CONTAINER+" "+s.HEADER_CONTAINER_CLASS+'">',0!=n&&0==e._isPercentage?(a[++o]=e._createHeaderTable(0,n,!0),a[++o]=e._createHeaderTable(n,i,!0)):a[++o]=e._createHeaderTable(0,i,!1),a[++o]="</div>",a[++o]="</div>",a.join("")},_createMessage:function(){return'<div class="'+s.DATAGRIR_MESSAGE_CONTAINER_CLASS+'" ><div class="'+s.DATAGRIR_MESSAGE_CLASS+'">'+this.options.noneMessage+"</div></div>"},_createRows:function(){var e=this,t=e._columns,i=(e._viewWidth,t.length),n=("auto"==e.options.rowHeight?e.options.rowHeight:e.options.rowHeight+"px",e._frozenColumnCount),o=-1,a=[];return"string"!=typeof e.options.width?a[++o]='<div class="'+s.DATAGRID_CONTENT_CLASS+'" style="width:'+e._viewWidth+'px;">':a[++o]='<div class="'+s.DATAGRID_CONTENT_CLASS+'">',0!=n&&0==e._isPercentage?(a[++o]=e._createRowTable(0,n,!0),a[++o]=e._createRowTable(n,i,!0)):a[++o]=e._createRowTable(0,i,!1),a.join("")},_getContainerProperty:function(e,t){var i,n=this,o="auto"==n._viewWidth?n.element.width():n._viewWidth,a=0,r=0;return e?0==t?(r=n._getFrozenWidth(),i=s.LOCKED_AREA_CLASS):(a=n._getFrozenWidth()+"px",r=o-n._getFrozenWidth()-17,i=s.UNLOCKED_AREA_CLASS):(i=s.UNLOCKED_AREA_CLASS,r=o-17),r+="string"==typeof n.options.width&&"auto"!=n.options.width?"%":"px",{width:r,containerClass:i,frozenWidth:a}},_createHeaderTable:function(e,t,i){var n=this,o=n._columns,a=(o.length,n._frozenColumnCount,""),r="",l=0,d=n._getContainerProperty(i,e),c=-1,u=[];for(u[++c]='<div class="'+d.containerClass+'" style="margin-left:'+d.frozenWidth+';" >',"string"==typeof n.options.width&&"auto"!=n.options.width?u[++c]='<table class="'+s.DATAGRID_TABLE_CLASS+'" role="grid" style="width:100%;">':u[++c]='<table class="'+s.DATAGRID_TABLE_CLASS+'" role="grid" style="width:'+d.width+';">',u[++c]="<colgroup>",l=e;l<t;l++)"string"==typeof n.options.width&&"auto"!=n.options.width?u[++c]='<col class="'+n._getColumnClass(l)+'" style="width: '+o[l].width+'%" " />':u[++c]='<col class="'+n._getColumnClass(l)+'" style="width: '+o[l].width+'px" data-width="'+o[l].width+'" />';for(i||("string"==typeof n.options.width&&"auto"!=n.options.width?(u[++c]="<!-- ko foreach: $root.dynamicColumns -->",u[++c]="<col data-bind=\"style:{width:width()+'%'}\" >",u[++c]="<!-- /ko -->"):(u[++c]="<!-- ko foreach: $root.dynamicColumns -->",u[++c]="<col data-bind=\"style:{width:width()+'px'}\" >",u[++c]="<!-- /ko -->")),(!i||e>0)&&(u[++c]='<col class="'+s.FILL_COLUMN+'" />'),i&&0==e&&(u[++c]="<col />"),u[++c]="</colgroup>",u[++c]="<thead>",u[++c]='<tr role="row">',l=e;l<t;l++)a=s.HEADER_CELLS_CLASS+" "+n._getCellClass(l,!0),u[++c]='<th tabindex="0" role="columnheader" class="'+a+'" columnindex="'+l+'">',u[++c]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'">',"string"==typeof o[l].headerBackgroundTemplate&&(u[++c]=o[l].headerBackgroundTemplate),u[++c]="</div>",u[++c]='<div class="'+s.HEADER_CONTENT_CLASS+'" columnindex="'+l+'" >',null==o[l].headerTemplate?(u[++c]='<div class="'+s.HEADER_CELLS_CONTENT_CLASS+'">',u[++c]=o[l].name,u[++c]="</div>"):u[++c]=o[l].headerTemplate,o[l].isSortable||o[l].hasHiddenColumn||o[l].filterCheckName?u[++c]='<div tabindex="0" role="button" aria-span="sort" class="'+s.HEADER_SETTING_CLASS+" "+s.HEADER_SETTING_ICON_CLASS+'" columnindex="'+l+'"></div>':u[++c]='<div style="display:none;" class="'+s.HEADER_SETTING_CLASS+'" columnindex="'+l+'"></div>',r=s.HEADER_DRAG_CLASS,0!=n.options.isColumnResizable&&o[l].isResizable!==!1||(r+=" "+s.HEADER_DRAG_DISABLED_CLASS),u[++c]='<div class="'+r+'" data-index="'+l+'"></div>',u[++c]="</div>",u[++c]="</th>";return i||(u[++c]="<!-- ko foreach: {data:$root.dynamicColumns,as:'hItem'} -->",u[++c]='<th tabindex="0" role="columnheader"  data-bind="attr:{class:\''+s.HEADER_CELLS_CLASS+" '+ $root._getDynamicCellClass($data,$index(),"+l+",'"+n._cellClassPre+"'), columnindex:$index()+"+l+'}">',u[++c]="<!-- ko if: !!hItem.headerBackgroundTemplateName -->",u[++c]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'" data-bind="template:{name:$root._dynamicHeaderBackgroundTemplate,data:$data},attr:{columnIndex:$index()+'+l+'}">',u[++c]="</div>",u[++c]="<!-- /ko -->",u[++c]="<!-- ko if: !hItem.headerBackgroundTemplateName -->",u[++c]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'" data-bind="attr:{columnIndex:$index()+'+l+'}">',u[++c]="</div>",u[++c]="<!-- /ko -->",u[++c]="<!-- ko if: !hItem.headerTemplateName -->",u[++c]='<div class="'+s.HEADER_CONTENT_CLASS+'" columnindex="'+l+'" >',u[++c]='<div data-bind="text:name"></div>',u[++c]="</div>",u[++c]="<!-- /ko -->",u[++c]="<!-- ko if: !!hItem.headerTemplateName -->",u[++c]='<div class="'+s.DYNAMIC_HEADER_CONTENT_CLASS+'" data-bind="template:{name:$root._dynamicHeaderTemplate,data:$data},attr:{columnIndex:$index()+'+l+'}"></div>',u[++c]="<!-- /ko -->",u[++c]="</th>",u[++c]="<!-- /ko -->"),(!i||e>0)&&(u[++c]="<th></th>"),u[++c]="</tr>",u[++c]="</thead>",u[++c]="</table>",u[++c]="</div>",u.join("")},_createRowTable:function(i,n,o){var a=this,r=a._columns,l="auto"==a.options.rowHeight?a.options.rowHeight:a.options.rowHeight+"px",d=null,c="",u="",_=0,p=a._getContainerProperty(o,i),f=-1,g=[];for("string"==typeof a.options.width&&"auto"!=a.options.width?(g[++f]='<div class="'+p.containerClass+'" style="margin-left:'+p.frozenWidth+';overflow-x:hidden;" >',g[++f]='<table class="'+s.DATAGRID_TABLE_CLASS+'" role="grid" style="width:100%;">'):(g[++f]='<div class="'+p.containerClass+'" style="margin-left:'+p.frozenWidth+';" >',g[++f]='<table class="'+s.DATAGRID_TABLE_CLASS+'" role="grid" style="width:'+p.width+';">'),g[++f]="<colgroup>",_=i;_<n;_++)"string"==typeof a.options.width&&"auto"!=a.options.width?g[++f]='<col class="'+a._getColumnClass(_)+'" style="width: '+r[_].width+'%" />':g[++f]='<col class="'+a._getColumnClass(_)+'" style="width: '+r[_].width+'px" />';for(o||("string"==typeof a.options.width&&"auto"!=a.options.width?(g[++f]="<!-- ko foreach: $root.dynamicColumns -->",g[++f]="<col data-bind=\"style:{width:width()+'%'}\" >",g[++f]="<!-- /ko -->"):(g[++f]="<!-- ko foreach: $root.dynamicColumns -->",g[++f]="<col data-bind=\"style:{width:width()+'px'}\" >",g[++f]="<!-- /ko -->")),(!o||i>0)&&(g[++f]='<col class="'+s.FILL_COLUMN+'" />'),o&&0==i&&(g[++f]="<col />"),g[++f]="</colgroup>",g[++f]='<tbody class="'+s.CONTENT_ROW_PRESENTER+'" data-bind="foreach: {data:items,as:\'item\'}">',"string"==typeof this.options.rowStyle?g[++f]='<tr role="row" class="'+s.ROW_CLASS+" "+s.SELECTED_ROW_CLASS+'" data-bind="attr:{index: $index},css:{\''+s.SELECTED_ROW_CLASS+"':"+a._isSelected+"()>0,'"+s.ROW_MOUSEOVER_CLASS+"':"+a._isMouseOver+"()>0},style:{display:"+a._display+","+this.options.rowStyle+'}">':g[++f]='<tr role="row" class="'+s.ROW_CLASS+" "+s.SELECTED_ROW_CLASS+'" data-bind="attr:{index: $index},css:{\''+s.SELECTED_ROW_CLASS+"':"+a._isSelected+"()>0,'"+s.ROW_MOUSEOVER_CLASS+"':"+a._isMouseOver+"()>0},style:{display:"+a._display+'}">',_=i;_<n;_++){switch(c=s.CELL_CLASS+" "+a._getCellClass(_),u=a._getCellWidth(_),d=r[_],g[++f]='<td role="gridcell" tabindex="0" columnIndex="'+_+'" class="'+c+'" data-bind="attr:{rowIndex: $index}">',"msie"==e.browser.browser&&(g[++f]='<div class="'+s.IE_PANEL+'">'),g[++f]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'">',"string"==typeof d.backgroundTemplate&&(g[++f]=d.backgroundTemplate),g[++f]="</div>","auto"!=l?g[++f]='<div columnIndex="'+_+'"  class="'+s.CELL_CONTENT_CLASS+'" data-bind="attr:{rowIndex: $index}" style="height:'+l+";line-height:"+l+'">':g[++f]='<div columnIndex="'+_+'"  class="'+s.CELL_CONTENT_CLASS+'" data-bind="attr:{rowIndex: $index}">',d.type){case h.title:g[++f]='<div data-bind="text:'+d.binding+",attr:{title:"+d.binding+'}" style="overflow:hidden;text-overflow:ellipsis"  class="'+s.CELL_TEXT_CONTENT_CLASS+'"></div>';break;case h.ellipsis:g[++f]='<div data-bind="text:'+d.binding+",attr:{title:"+d.binding+'}" style="overflow:hidden;text-overflow:ellipsis; white-space:nowrap;"  class="'+s.CELL_TEXT_CONTENT_CLASS+'"></div>';break;case h.text:g[++f]='<div data-bind="text: '+d.binding+'"  class="'+s.CELL_TEXT_CONTENT_CLASS+'"></div>';break;case h.template:g[++f]=d.columnTemplate;break;case h.checkbox:g[++f]='<div class="'+s.CELL_CHECKBOX_CLASS+'"><input class="'+s.CELL_WIDGET_CLASS+'" type="checkbox" data-bind="checked: '+d.binding+'"/></div>';break;default:g[++f]='<div data-bind="text: '+d.binding+'"  class="'+s.CELL_TEXT_CONTENT_CLASS+'"></div>'}g[++f]="</div>",0==a.options.isReadOnly&&void 0!=d.cellEditingTemplate&&(d.binding||t.error('The "binding" property for column "'+d.name+'" is undefined.Please check your initialize settings for datagrid.'),g[++f]='<div class="'+s.CELL_EDITING_CLASS+'" style="display:none;">'+d.cellEditingTemplate+"</div>"),"msie"==e.browser.browser&&(g[++f]="</div>"),g[++f]="</td>"}if(o||(g[++f]="<!-- ko foreach: {data:$root.dynamicColumns,as:'dItem'} -->",g[++f]='<td tabindex="0" role="gridcell" data-bind="attr:{class:\''+s.CELL_CLASS+" '+ $root._getDynamicCellClass($data,$index(),"+_+",'"+a._cellClassPre+"'), rowIndex:$parentContext.$index,columnIndex:$index()+"+_+'}">',"msie"==e.browser.browser&&(g[++f]='<div class="'+s.IE_PANEL+'">'),g[++f]="<!-- ko if: !!dItem.backgroundTemplateName -->",g[++f]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'" data-bind="template:{name:$root._dynamicBackgroundTemplate,data:$data},attr:{rowIndex:$parentContext.$index,columnIndex:$index()+'+_+'}">',g[++f]="</div>",g[++f]="<!-- /ko -->",g[++f]="<!-- ko if: !dItem.backgroundTemplateName -->",g[++f]='<div class="'+s.CELL_BACKGROUND_PANEL_CLASS+'" data-bind="attr:{rowIndex:$parentContext.$index,columnIndex:$index()+'+_+'}">',g[++f]="</div>",g[++f]="<!-- /ko -->","auto"!=l?g[++f]='<div data-bind="template:{name:$root._dynamicTemplate,data:$data},attr:{rowIndex:$parentContext.$index,columnIndex:$index()+'+_+'}" class="'+s.CELL_CONTENT_CLASS+'" style="height:'+l+";line-height:"+l+'">':g[++f]='<div data-bind="template:{name:$root._dynamicTemplate,data:$data},attr:{rowIndex:$parentContext.$index,columnIndex:$index()+'+_+'}" class="'+s.CELL_CONTENT_CLASS+'">',"msie"==e.browser.browser&&(g[++f]="</div>"),g[++f]="</td>",g[++f]="<!-- /ko -->"),(!o||i>0)&&(g[++f]='<td data-bind="attr:{rowIndex: $index}"></td>'),g[++f]="</tr>",a._hasDetails){var v=a.options.rowDetailsVisibilityMode===m.visible?"block":"none";g[++f]='<tr class="'+s.DETAILS_ROW_CLASS+'" data-bind="attr:{rowIndex: $index}" style="display:'+v+'"><td colspan="'+a.options.columns.length+'">'+a.options.rowDetailsTemplate+"</td></tr>"}return g[++f]="</tbody>",g[++f]="</table>",g[++f]="</div>",g.join("")}}),t.extend(t.aui.datagrid.prototype,{_isWidthNumeric:function(){var e=this;return t.isNumeric(e._width)&&"string"!=typeof e._width},_getViewWidth:function(){var e=this,t=e._width;return e._isWidthNumeric()||"auto"==e._width?t:t+"%"},_getCurrentFrozenWidth:function(){for(var e=this,t=0,i=0,n=e._allTableCols,o=e._frozenColumnCount;t<o;t++)i+=parseInt(n[t][0].style.width);return i},_getFrozenWidth:function(){for(var e=this,t=0,i=0,n=e._columns,o=e._frozenColumnCount;t<o;t++)i+=n[t].width;return i},_getTotalWidth:function(){for(var e=this,t=e._columns,i=t.length,n=0,o=0;n<i;n++)o+=t[n].width;return o},_setTableWidth:function(){var e=this,t=0,i=e._allTableCols,n=e._columns.length,o=e._getCurrentFrozenWidth(),a="auto"==e._viewWidth?e.element.width():e._viewWidth,r=e._frozenColumnCount?a-o:a,l=0;for(r=e._hasVerticalScroll?r-17:r;t<n;t++)i[t].hasClass(s.HIDE_TD_CLASS)||(l+=i[t].width());l-=o,l>r&&(r=l),e._unLockedTables.width(r)},_getCellWidth:function(e){var i=this,n=i._columns[e],o=0;return o=i._isWidthNumeric()||"auto"==i._width?t.isNumeric(n.width)?n.width+"px":"auto":n.width+"%"},_getColumnLeft:function(e){var t=this,i=0,n=0;if(e>0)for(;n<e;n++)i+=t._columns[n].width;return i=t._isWidthNumeric()||"auto"==t._width?i+"px":i+"%"},_updateLayout:function(){var e=this,t=e.options.maxHeight;return e._content.css("height",e.options.height),"auto"==e.options.height&&t>0&&(e._lockedContent.css("max-height",t),e._unLockedContent.css("max-height",t)),e._scrollableViewWidth=e.element.width()-e._frozenWidth,this}}),t.extend(t.aui.datagrid.prototype,{_getRowCells:function(e){return e.children("div")},_initializeCells:function(){var i=this,n=i.eventNamespace,o=i._cells;o.off(n).on("focus"+n,i,i._onCellFocus).on("blur"+n,i,i._onCellBlur).on("click"+n,i,function(n){i._isCellFocus||"msie"!=e.browser.browser||t(this).focus()}),i._cellWidgets.off(n).on("click"+n,function(e){e.stopPropagation()}).on("keydown"+n,function(e){return 27!=e.which&&13!=e.which&&e.stopPropagation(),!0}),i._cellEditing.on("blur",i,i._editingCellLostFocus),i.options.isReadOnly===!1&&o.on("dblclick"+n,i,i._onCellDoubleClick)},_addZebraLists:function(){var e=this;e._hasZebraCrossing&&(e._frozenColumnCount>0?(e._addZebraListsByItems(e._lockedItem),e._addZebraListsByItems(e._unLockedItem)):e._item&&e._addZebraListsByItems(e._item))},_addZebraListsByItems:function(e){e=e.filter(":visible"),e.filter(":even").removeClass(s.SINGLE_ROW_CLASS+" "+s.EVEN_ROW_CLASS).addClass(s.SINGLE_ROW_CLASS),e.filter(":odd").removeClass(s.SINGLE_ROW_CLASS+" "+s.EVEN_ROW_CLASS).addClass(s.EVEN_ROW_CLASS)},_onRowMouseOver:function(t){var i=t.data,n=this.getAttribute("index"),o={element:i.element,parameters:{}};o.newValue=i.index==-1?null:i._vm.items()[n],i._mouseoverIndex!=-1&&f.changeVisualStates.call(i._vm.items()[n],f.mouseout),f.changeVisualStates.call(i._vm.items()[n],f.mouseover),i._mouseoverIndex=n,e.executeEventHandler(i,"rowMouseover",i.options.rowMouseover,t,o)},_onRowMouseout:function(t){var i=t.data,n={element:i.element,parameters:{}},o=this.getAttribute("index");n.newValue=i.index==-1?null:i._vm.items()[o],f.changeVisualStates.call(i._vm.items()[this.getAttribute("index")],f.mouseout),e.executeEventHandler(i,"rowMouseout",i.options.rowMouseout,t,n)}}),t.extend(t.aui.datagrid.prototype,{_createCellMembers:function(){return this._currentSelectedCell={cell:void 0,rowIndex:void 0,columnIndex:void 0,showPart:void 0,editingPart:void 0,bindName:void 0,oldValue:void 0,editingElement:void 0,isReadOnly:function(e){var t=!1;return void 0!==this.cell?e.options.isReadOnly!==!0&&e._columns[this.columnIndex].isReadOnly!==!0&&0!==this.editingElement.length||(t=!0):t=!0,t},mode:_.normal},this},_getCellValue:function(e,i){for(var n=this,o=0,a=e.split("."),s=n._vm.items()[i],r=a.length;o<r;o++)s=s[a[o]],t.isFunction(s)&&(s=s());return s},_editingCellLostFocus:function(e){e.data._goToShowMode()},_getColumnClass:function(e){var t=this,i=t._columns[e].visibility,n=t._colClassPre+"_"+e;return i==r.collapsed&&(n+=" "+s.HIDE_TD_CLASS),n},_getCellClass:function(e,t){var i=this,n=i._columns[e],o=i._cellClassPre+"_"+e;return n.visibility==r.collapsed&&(o+=" "+s.HIDE_TD_CLASS),t===!0&&n.isSortable!==!0&&(o+=" "+s.HEADER_NOT_SORT_CLASS),o},_getDynamicCellClass:function(e,t,i,n,o){var e=ko.mapping.toJS(e),a=n+"_"+(t+i);return e.visibility==r.collapsed&&(a+=" "+s.HIDE_TD_CLASS),a}}),t.extend(t.aui.datagrid.prototype,{_hasVerticalScroll:!1,_onWindowResize:function(e){e.data._resizeDatagrid()},_resizeDatagrid:function(){var e=this;return"string"==typeof e.options.width&&"auto"!=e.options.width||(e._setTableWidth(),e._updateLockedHeight()),1==e.options.isResponsive&&(e._updateSelectAllLocation(),"auto"==e.options.height&&(e.element.height("auto"),e.element.height(e.element.height()+15))),e._blockFilters instanceof t&&e._blockFilters.hide(),e.options.isResponsive&&(e._responsiveSettingSortContainer.dialog("hide"),e._responsiveSettingFilterContainer.dialog("hide")),e},_onHeaderScroll:function(e){var t=e.data;t._unLockedContent.scrollLeft(t._headerUnLocked.scrollLeft())},_onLockedScroll:function(e){var t=e.data;t._unLockedContent.scrollTop(t._lockedContent.scrollTop())},_onContentScroll:function(e){var t=e.data;t._lockedContent.scrollTop(t._unLockedContent.scrollTop()),t._headerUnLocked.scrollLeft(t._unLockedContent.scrollLeft())},updateLayout:function(){var e=this;e._resizeDatagrid()._resetVerticalScroll()},resetVerticalScroll:function(){this._resetVerticalScroll()},_resetVerticalScroll:function(){var e=this,t=e._unLockedContent,i=(e._headerWrapper,t.scrollTop());return i>0?(e._updateHeaderWrapper(17),e._hasVerticalScroll=!0):(t.scrollTop(1),t.scrollTop()>0?(e._updateHeaderWrapper(17),e._hasVerticalScroll=!0):(e._updateHeaderWrapper(0),e._hasVerticalScroll=!1),t.scrollTop(0)),"string"==typeof e.options.width&&"auto"!=e.options.width||e._setTableWidth(),e._updateLockedHeight(),e},_updateLockedHeight:function(){var e=this._unLockedContent,t=e.scrollLeft(),i=this.options.height,n=0;return t>0?n=17:(e.scrollLeft(1),e.scrollLeft()>0&&(n=17),e.scrollLeft(0)),"auto"==i&&(i=this._content.height()),this._lockedContent.height(i-n),this},_updateHeaderWrapper:function(e){var t=this,i=(t.element,t._headerWrapper);"string"!=typeof t.options.width?i.children().width(t._viewWidth-e):i.css("paddingRight",e)}}),t.extend(t.aui.datagrid.prototype,{_onRowPresenterKeyDown:function(e){var t=e.data,i=t._currentSelectedCell,n=i.isReadOnly(t)===!1;switch(e.which){case 113:n&&t._goToEditingMode();break;case 27:n&&t._goToShowMode(!0);break;case 13:n&&t._goToShowMode(!1);break;case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:e.preventDefault(),t._goToNextCell(e.which)}},_goToNextCell:function(e){var t=this,i=t._currentSelectedCell,n=i.rowIndex,o=i.columnIndex,a=null;switch(e){case 33:n=0;break;case 34:n=t._vm.items().length-1;break;case 35:o=t._getLastColumnIndex(t._columns.length-1);break;case 36:o=t._getFirstColumnIndex(0);break;case 37:o=t._getNextCellIndex(o,!1);break;case 38:n=t._getNextRowIndex(n,!1);break;case 39:o=t._getNextCellIndex(o,!0);break;case 40:n=t._getNextRowIndex(n,!0)}n==i.rowIndex&&o==i.columnIndex||(a=t._rowPresenter.children('tr[class~="'+s.ROW_CLASS+'"][index="'+n+'"]').find('td[class~="'+s.CELL_CLASS+'"][columnIndex = "'+o+'"]'),a.focus())},_getNextCellIndex:function(e,t){var i=this,n=i._columns,o=r.collapsed,a=n.length,s=e;return t?++s<a&&(n[s].visibility===o&&(s=i._getNextCellIndex(s,!0)),e=s):--s>=0&&(n[s].visibility===o&&(s=i._getNextCellIndex(s,!1)),e=s),e},_getLastColumnIndex:function(e){var t=this;return t._columns[e].visibility===r.collapsed&&(e=t._getLastColumnIndex(e-1)),e},_getFirstColumnIndex:function(e){var t=this;return t._columns[e].visibility===r.collapsed&&(e=t._getLastColumnIndex(e+1)),e},_getNextRowIndex:function(e,t){var i=this,n=e;return t?++n<i._item.length&&(e=n):--n>=0&&(e=n),e}}),t.extend(t.aui.datagrid.prototype,{showMessage:function(e){var t=this;0==t._vm.items().length&&this._showMessage(e)},_showMessage:function(t){var i=this;if("number"==typeof t)switch(t){case l.normal:t=i.options.noneMessage||e.I18N.datagrid.noneMessage;break;case l.search:t=i.options.noneSearchMessage;break;case l.filter:t=i.options.noneFilterMessage}i._message.text(t),i._messageContainer.show()}}),t.extend(t.aui.datagrid.prototype,{_createHeaderSettings:function(){var t=this,i=t._columns,n=i.length,o=0,a=-1,r=[];for(r[++a]='<div class="'+s.BLOCK_FILTER_POPUP+'"></div>',t.options.isResponsive&&(r[++a]='<div class="aui-datagrid-responsive-popup"></div>'),r[++a]='<div class="'+s.HEADER_FILTER_CONTAINER+'" style="position:relative;top:0px;margin-right:1px;">';o<n;o++)(i[o].isSortable||i[o].hasHiddenColumn||i[o].filterCheckName)&&(r[++a]='<div role="listbox" tabindex="0" index="'+o+'" class="'+s.HEADER_SETTINGS_POPUP_CLASS+'" style="width:100%;" >',r[++a]='<div class="'+s.BLOCK_FILTER_CONTAINER_CLASS+'" columnindex="'+o+'">',r[++a]='<div style="width:230px;height:100%;border: 1px solid #B5B5B5;position:relative;right:0;background:#FFFFFF">',i[o].isSortable&&(i[o].filterCheckName&&t._filterType==d.block?r[++a]='<div class="aui-datagrid-header-setting-sort-container" style="border-bottom:1px solid #ABABAB;height:60px;color:#000000;height:50px;">':r[++a]='<div class="aui-datagrid-header-setting-sort-container" style="color:#000000;height:50px;">',r[++a]='<div role="option" tabindex="0" index="'+o+'" class="'+s.BLOCK_FILTER_ACTION_CLASS+" "+s.SORT_ACTION_CLASS+'"><div class="aui-datagrid-filter-descending fi-datagrid-sort-list-up-as"></div>'+t._getAscendingMsg(i[o].sortType)+"</div>",r[++a]='<div role="option" tabindex="0" index="'+o+'" class="'+s.BLOCK_FILTER_ACTION_CLASS+'"><div class="aui-datagrid-filter-ascending fi-datagrid-sort-list-down-as"></div>'+t._getDescendingMsg(i[o].sortType)+"</div>",r[++a]="</div>"),(i[o].hasHiddenColumn||i[o].filterCheckName)&&(r[++a]='<div style="border-bottom:1px solid #ABABAB;">'),i[o].hasHiddenColumn&&(r[++a]='<div role="option" tabindex="0" index="'+o+'" class="'+s.BLOCK_FILTER_ACTION_CLASS+" "+s.HEADER_SETTING_HIDDEN_CLASS+'"><div class="'+s.HEADER_SETTING_HIDDEN_ACTION_CLASS+" "+s.HEADER_SETTING_HIDDEN_ICON_CLASS+'"></div>'+e.I18N.datagrid.hideColumn+"</div>"),i[o].filterCheckName&&t._filterType==d.block&&(r[++a]='<div role="option" tabindex="0" index="'+o+'" class="'+s.BLOCK_FILTER_ACTION_CLASS+" "+s.HEADER_SETTING_CLEAR_DISABLED_CLASS+" "+s.HEADER_SETTING_CLEAR_CLASS+'">',r[++a]='<div index="'+o+'" class="'+s.HEADER_SETTING_CLEAR_ACTION_CLASS+" "+s.HEADER_SETTING_CLEAR_DISABLED_IMG_CLASS+" "+s.HEADER_SETTING_CLEAR_ICON_CLASS+'"></div>'+e.I18N.datagrid.clearFiltersFrom+i[o].name+"</div>"),(i[o].hasHiddenColumn||i[o].filterCheckName)&&(r[++a]="</div>"),r[++a]='<div class="aui-datagrid-header-setting-filter-container" index="'+o+'">',i[o].filterCheckName&&t._filterType==d.block&&(t.options.columns[o].filterCheckDisplayName=t.options.columns[o].filterCheckDisplayName||"value",r[++a]='<div class="aui-datagrid-header-setting-filter-content">',r[++a]='<div style="height:24px;margin:7px 0 7px 10px;"><input index="'+o+'" type="text" class="'+s.BLOCK_FILTER_SEARCH_CLASS+'" /></div>',r[++a]='<div index="'+o+'" class="'+s.BLOCK_FILTER_SELECT_ALL_CLASS+'">'+e.I18N.datagrid.selectAllforFilter+"</div>",r[++a]='<div class="'+s.BLOCK_FILTER_ITEM_CONTAINER_CLASS+'" data-bind="foreach: '+t.options.columns[o].filterItems+'">',r[++a]='<div class="aui-datagrid-block-filter-checkbox" data-bind="style:{display:_display},text:'+t.options.columns[o].filterCheckDisplayName+",checkbox:{click:_onCheckBoxClick,checked:"+t.options.columns[o].filterCheckName+'}"></div>',r[++a]="</div>",r[++a]="</div>",r[++a]='<div class="'+s.BLOCK_FILTER_BUTTON_CONTAINER_CLASS+'" style="text-align:right;width:100%"><input index="'+o+'" type="button" value="'+e.I18N.datagrid.filterOK+'" /><input index="'+o+'" type="button" value="'+e.I18N.datagrid.filterCancel+'" /></div>'),r[++a]="</div>",r[++a]="</div>",r[++a]="</div>",r[++a]="</div>");return r[++a]="</div>",r.join("")},_initHeaderSettings:function(){var e=this,i=0,n=e.element.parent(),o=e._columns.length;for(e._filterSearchBoxs=n.find("."+s.BLOCK_FILTER_SEARCH_CLASS),e._filterSearchBox=[],e._filterContainer=n.find("."+s.HEADER_FILTER_CONTAINER),e._blockFilters=n.find("."+s.HEADER_SETTINGS_POPUP_CLASS),e._blockFilter=[],e._blockFilterContainer=[],e._blockFilterContainers=e._blockFilters.find("."+s.BLOCK_FILTER_CONTAINER_CLASS),e._blockFilterPopup=n.find("."+s.BLOCK_FILTER_POPUP),e._blockFilters.hide(),e._blockFilterClears=e._blockFilters.find("."+s.HEADER_SETTING_CLEAR_CLASS),e._blockFilterClear=[],e._blockFilterClearImg=[],e._headerSettingHiddens=e._blockFilters.find("."+s.HEADER_SETTING_HIDDEN_CLASS),e._blockFilterButtonArea=e._blockFilters.find("."+s.BLOCK_FILTER_BUTTON_CONTAINER_CLASS),e._blockFilterSelectAlls=e._blockFilters.find("."+s.BLOCK_FILTER_SELECT_ALL_CLASS),e._blockFilterSelectAll=[],e._blockFilterOKs=e._blockFilterButtonArea.children("input[type=button]:even").button({defaultButtonStyle:"red"}),e._blockFilterOk=[],e._blockFilterCancels=e._blockFilterButtonArea.children("input[type=button]:odd").button(),e._blockFilterCancel=[],e._blockFilterAction=e._blockFilters.find("."+s.BLOCK_FILTER_ACTION_CLASS),e._blockFilterCheckBoxes=e._blockFilters.find(".aui-datagrid-block-filter-checkbox"),e._blockFilterCheckBoxes.data("self",e),e._headerSettingSortContainer=e._blockFilters.find(".aui-datagrid-header-setting-sort-container"),e._headerSettingDESC=e._headerSettingSortContainer.children("div:odd"),e._headerSettingASC=e._headerSettingSortContainer.children("div:even"),e._headerSettingFilterContainer=[],e._headerSettingFilterContent=[];i<o;i++)e._blockFilter[i]=n.find("div[class~="+s.HEADER_SETTINGS_POPUP_CLASS+"][index="+i+"]"),e._blockFilterContainer[i]=n.find("div[class~="+s.BLOCK_FILTER_CONTAINER_CLASS+"][columnindex="+i+"]"),e._blockFilterOk[i]=e._blockFilterButtonArea.children("input[type=button]:even[index="+i+"]"),e._blockFilterCancel[i]=e._blockFilterButtonArea.children("input[type=button]:odd[index="+i+"]"),e._blockFilterClear[i]=e._blockFilter[i].find("div[class~="+s.HEADER_SETTING_CLEAR_CLASS+"][index="+i+"]"),e._blockFilterClearImg[i]=e._blockFilter[i].find("div[class~="+s.HEADER_SETTING_CLEAR_ACTION_CLASS+"][index="+i+"]"),e._blockFilterSelectAll[i]=e._blockFilter[i].find("div[class~="+s.BLOCK_FILTER_SELECT_ALL_CLASS+"][index="+i+"]"),e._headerSettingFilterContainer[i]=e._blockFilter[i].find("div[class~=aui-datagrid-header-setting-filter-container][index="+i+"]"),e._headerSettingFilterContent[i]=e._headerSettingFilterContainer[i].children("div[class~=aui-datagrid-header-setting-filter-content]"),e._filterSearchBox[i]=n.find("input[class~="+s.BLOCK_FILTER_SEARCH_CLASS+"][index="+i+"]");e._filterType==d.block&&(t.fn.searchbox||t.error('Please add "aui.searchbox.js" when using datagrid filter.'),e._filterSearchBoxs.searchbox({height:24,searched:function(){for(var t=(e._columns,this._mInput.attr("index")),i=e._columns[t].filterItems,n=e._vm[i](),o=!1,a=n.length,s=e._filterSearchBox[t].searchbox("searchKeywords"),r=0;r<a;r++)e._vm[i]()[r]._active()===!0&&(e._vm[i]()[r]._display("table-row"),o=e.options.isFilterCaseSensitive?e._vm[i]()[r].value().toString().indexOf(s)==-1:e._vm[i]()[r].value().toString().toLowerCase().indexOf(s.toLowerCase())==-1,o&&e._vm[i]()[r]._display("none"))},stopped:function(){for(var t=(e._columns,this._mInput.attr("index")),i=e._columns[t].filterItems,n=e._vm[i](),o=n.length,a=0;a<o;a++)n[a]._display("table-row")}}),t.fn.checkbox||t.error('Please add "aui.checkbox.js" when using datagrid filter.'),e._blockFilterSelectAlls.checkbox({isThreeState:!0,datagrid:e,checked:!0,click:e._onBlockFilterSelectAllClick}).css("width","100%")),e._blockFilters.on("mousedown",function(t){t.stopPropagation();this.getAttribute("index");e._blockFilterPopup.trigger("mousedown")}).on("keydown",e,function(e){if(e.which==t.ui.keyCode.TAB||e.which==t.ui.keyCode.DOWN||e.which==t.ui.keyCode.UP){var i=e.data,n=t(":tabbable",i._blockFilters),o=n.filter(":first"),a=n.filter(":last");if(e.which==t.ui.keyCode.DOWN)return i._settingTabbableIndex++,i._settingTabbableIndex==n.length&&(i._settingTabbableIndex=0),n[i._settingTabbableIndex].focus(),!1;if(e.which==t.ui.keyCode.UP)return i._settingTabbableIndex--,i._settingTabbableIndex==-1&&(i._settingTabbableIndex=n.length-1),n[i._settingTabbableIndex].focus(),!1;if(e.shiftKey){if(i._settingTabbableIndex--,e.target===o[0])return a.focus(1),i._settingTabbableIndex=n.length-1,!1}else if(i._settingTabbableIndex++,e.target===a[0])return i._settingTabbableIndex=0,o.focus(1),!1}else e.which==t.ui.keyCode.ESCAPE&&e.data._closeHeaderSettingByIndex(this.getAttribute("index"))}),e._blockFilterContainers.on("mousedown",function(e){e.stopPropagation()}),e._blockFilterPopup.on("mousedown",e,e._onSettingPopupMouseDown),e._blockFilterOKs.on("click",e,e._onHeaderSettingOKClick),e._blockFilterCancels.on("click",e,e._onHeaderSettingCancelClick),e._blockFilterClears.on("click",e,e._onBlockFilterClearClick),e._headerSettingHiddens.on("click",e,e._onHeaderSettingHiddenClick),e._blockFilterAction.on("mouseenter",e._onBlockFilterMouseEnter).on("mouseleave",e._onBlockFilterMouseLeave),e._headerSettingDESC.on("keydown",e,e._onDescKeyDown).on("click",e,e._onDescClick),e._headerSettingASC.on("keydown",e,e._onAscKeyDown).on("click",e,e._onAscClick)},_onDescKeyDown:function(e){e.which==t.ui.keyCode.ENTER&&e.data._sortActionClick(p.desc)},_onDescClick:function(e){e.data._sortActionClick(p.desc)},_onAscKeyDown:function(e){e.which==t.ui.keyCode.ENTER&&e.data._sortActionClick(p.asc)},_onAscClick:function(e){e.data._sortActionClick(p.asc)},_sortActionClick:function(e){var i=this._openingSettingIndex-0;t(this._headerCell[i]).data("grid-sort")!=e&&this._doSort(i,e),this._closeHeaderSettingByIndex(i)},_onHeaderSettingHiddenClick:function(e){var t=e.data,i=parseInt(t._filterColumnIndex);t._blockFilterCancel[i].trigger("click"),t.setColumnVisibility(i,1)},_onSettingKeyDown:function(e){e.stopPropagation(),e.which==t.ui.keyCode.ENTER&&t(this).trigger("click")},_onSettingClick:function(e){e.stopPropagation();var t=e.data,i=this.getAttribute("columnindex"),n=(t._content.scrollLeft(),0),o=0,a=t._blockFilterContainer[i];t._settingTabbableIndex=-1,t._openingSettingIndex=i,t._blockFilters.css({"margin-left":t.element.css("margin-left"),left:t.element.position().left}),n=t._headerCache[i].cell.offset().left-t.element.offset().left,n=n>0?n:0,o=n+230-t._blockFilter[i].width(),o>0&&(n-=o),t._blockFilter[i].show(),t._blockFilterPopup.show(),t._blockFilter[i].focus(),t.options.isResponsive&&t._appendFilter(!1),a.css("left",n),t.options.columns[i].filterCheckName&&t._saveFilterStatusByIndex(i)},_onSettingPopupMouseDown:function(e){var t=e.data;t._closeHeaderSettingByIndex(t._openingSettingIndex);
},_onHeaderSettingCancelClick:function(e){e.data._closeHeaderSettingByIndex(this.getAttribute("index"))},_closeHeaderSettingByIndex:function(e){var t=this;t.options.columns[e].filterCheckName&&t._filterType==d.block&&(t._cancelSettingFilter(e,t._currentFilterStatus),t._filterSearchBoxs.searchbox("stopped")),t._blockFilter[e].hide(),t._blockFilterPopup.hide(),t._headerCell[e].focus()},_cancelSettingFilter:function(e,t){var i=this,n=i._columns,o=i._columns[e].filterCheckName,a=n[e].filterItems;if(o){for(var s=i._vm[a](),r=s.length,l=0;l<r;l++)s[l][o](t[l][o]);i._controlSelectAll({newValue:!0})}},_onHeaderSettingOKClick:function(e){var t=e.data,i=this.getAttribute("index"),n=t._columns,o=n[i].filterCheckName,a=!0;n[i].filterItems;t._blockFilter[i].hide(),t._blockFilterPopup.hide(),t._headerCell[i].focus(),o&&(t._filterSearchBoxs.searchbox("stopped"),a=t._blockFilterSelectAll[i].checkbox("option","checked"),1!=a?(t.options.isResponsive&&t._responsiveSettingFilterByItem[i].css("display","inline-block"),t._blockFilterClear[i].removeClass(s.HEADER_SETTING_CLEAR_DISABLED_CLASS),t._blockFilterClearImg[i].removeClass(s.HEADER_SETTING_CLEAR_DISABLED_IMG_CLASS),t._filterItems(!1,{_index:i,_name:n[i].filterName,_filterCheckName:n[i].filterCheckName,_filterItems:ko.toJS(t._vm[n[i].filterItems]),_caseSensitive:t.options.isFilterCaseSensitive,_customFilter:n[i].customFilter,_assert:t._blockFilterAssert})):1==a&&(t.options.isResponsive&&t._responsiveSettingFilterByItem[i].hide(),t._clearBlockFilter(i)))},_onBlockFilterMouseEnter:function(){t(this).addClass(s.BLOCK_FILTER_ACTION_MOUSEENTER_CLASS)},_onBlockFilterMouseLeave:function(){t(this).removeClass(s.BLOCK_FILTER_ACTION_MOUSEENTER_CLASS)}}),t.extend(t.aui.datagrid.prototype,{_onDynamicColumnsChanged:function(){var e=this.self,t=(ko.mapping.toJS(e._vm.dynamicColumns()),null);t=setInterval(function(){clearInterval(t),e._initHeaderPart()._createHeaderCache()._initCellPart()})},_onHeaderMouseover:function(i){var n=i.data,o=t(this),a=o.attr("columnindex")-0;n._columns[a].isSortable&&(o.data("grid-sort")&&o.data("grid-sort")!=e.datagrid("sortmode").none||n._headerSorts.filter('[columnindex="'+a+'"]').addClass(s.HEADER_SORT_ASC_CLASS))},_onHeaderMouseout:function(i){var n=i.data,o=t(this),a=o.attr("columnindex")-0;n._columns[a].isSortable&&(o.data("grid-sort")&&o.data("grid-sort")!=e.datagrid("sortmode").none||n._headerSorts.filter('[columnindex="'+a+'"]').removeClass(s.HEADER_SORT_ASC_CLASS))},_onVmChanged:function(){var t=this.self,i=t._vm.items(),n=i.length,o=null,a=0;for(n>0?t._messageContainer.hide():t._showMessage(l.normal);a<n;a++)i[a][t._isSelected]||(i[a][t._display]=ko.observable("table-row"),i[a][t._isSelected]=ko.observable(-1),i[a][t._isMouseOver]=ko.observable(-1));t._selectedIndex-0>=n&&(t._selectedIndex=-1),t._rowPresenter.hide(),o=setInterval(function(){clearInterval(o),--t._lockConut>0||(t._item&&"off"in t._item&&t._item.off(t.eventNamespace),1==t.options.isResponsive&&t._responsiveRowHeaders&&"off"in t._responsiveRowHeaders&&(t._responsiveRowHeaders.off(t.eventNamespace),t._responsiveRowHeaderCheckParts.off(t.eventNamespace)),t._vm.items().length>0?(t.options.initPart(),t._onItemsSourceChanged()):(t._resetVerticalScroll(),t._itemsCount!=t._vm.items().length&&t._trigger("itemsSourceChanged",null,e.Event({element:t.element,newValue:t._vm.items()}))),t._itemsCount=t._vm.items().length)},10)},_setItemsSource:function(e){this.options.itemsSource=e,this._lockConut=1,0==this._vm.items().length||0==e.length?this._vm.items(ko.mapping.fromJS(e)()):(this._lockConut=Math.abs(this._vm.items().length-e.length),this._synchronousData(this._vm.items(),e,!0))},_synchronousData:function(e,i,n){var o,a,s,r,l=this,d=0;for(t.isArray(e)?a=e.length:"object"==typeof e&&(a=1),t.isArray(i)?r=i.length:"object"==typeof i&&(r=1),s=a>r?r:a;d<s;d++){var c,u;t.isArray(e)?c=e[d]:"object"==typeof e&&(c=e),t.isArray(i)?u=i[d]:"object"==typeof i&&(u=i);for(o in c)ko.isObservable(c[o])?t.isArray(c[o]())?t.isArray(u[o])?c[o](ko.mapping.fromJS(u[o])()):c[o]([]):u?ko.isObservable(u[o])?c[o](u[o]()):c[o](u[o]):c[o](null):l._synchronousData(c[o],u[o])}if(a<=r&&e&&n)for(d=a;d<r;d++){var c=ko.mapping.fromJS(i[d]);delete c.__ko_mapping__,l._vm.items.push(c)}else for(d=0;d<a-r;d++)l._vm.items.pop()},itemsSourceChanged:function(t,i){e.updateEventHandler(this.options.itemsSourceChanged,t,i)},_onItemsSourceChanged:function(){var i=this,n=null,o=i._rowPresenter,a=null,l=i._frozenColumnCount,d=i.eventNamespace,c=0,u=(i._vm.items().length,i._columns.length);for(i._rows=[],1==i.options.isResponsive&&i._initResponsiveRowMember(),n=i._item=o.children('tr[class~="'+s.ROW_CLASS+'"]'),0!=i._frozenColumnCount&&(i._lockedItem=i._lockedRowPresenter.children('tr[class~="'+s.ROW_CLASS+'"]'),i._unLockedItem=i._unlockedRowPresenter.children('tr[class~="'+s.ROW_CLASS+'"]')),i._cells=n.children('td[class~="'+s.CELL_CLASS+'"]'),i._cellWidgets=i._cells.find('[class~="'+s.CELL_WIDGET_CLASS+'"]'),i._cellPopupWidgets=i._cells.find('[class~="'+s.CELL_POPUP_WIDGET_CLASS+'"]').css("position","fixed"),i._cellEditing=i._cells.find('[class~="'+s.CELL_EDITING_CLASS+'"]'),c=0;c<u;c++)a=i._allColumns[c]=i.element.find("."+i._cellClassPre+"_"+c),c<l&&(i._frozenColumn[c]=a);for(n.off(d).on("click"+d,i,i._onRowClick).on("dblclick"+d,i,i._onDoubleClickRow).on("mouseover"+d,i,i._onRowMouseOver).on("mouseout"+d,i,i._onRowMouseout),i._initializeCells(),1==i.options.isResponsive&&(i._responsiveRowHeaders=i._responsiveContainer.find(".aui-datagrid-responsive-row-header").on("click"+d,i,i._onResponsiveRowHeaderClick),i._responsiveRowContents=i._responsiveContainer.find(".aui-datagrid-responsive-row-content"),i._responsiveRowHeaderCheckParts=i._responsiveContainer.find(".aui-datagrid-responsive-row-header-checkPart").on("click",function(e){e.stopPropagation()})),i._hasDetails===!0&&(i._details=o.children('tr[class="'+s.DETAILS_ROW_CLASS+'"]'),i._setDetailsRowIndex()),c=u-1;c>=0;c--)i.setColumnVisibility&&i.setColumnVisibility(c,i._columns[c].visibility||r.visible,!!c);i._rowPresenter.show(),i._addZebraLists(),i._resetVerticalScroll(),i._unLockedContent.scrollTop(0),0==i._isBackground&&t.isFunction(i._updateFilter)&&i._updateFilter(),i._itemsCount!=i._vm.items().length&&i._trigger("itemsSourceChanged",null,e.Event({element:i.element,newValue:i._vm.items()}))},_trigger:function(e,i,n){var o=this;return n&&(n.parameters=o.options.parameters[e],n.type="datagrid"),o.element.trigger(e,n),t.Widget.prototype._trigger.call(o,e,i,n)},_onSelectedItemChanging:function(e){var i=this,n=e.getAttribute("index"),o=null;n!=i._selectedIndex&&(o=i._selectedItem=t(e),void 0!=i._selectedIndex&&i._selectedIndex!=-1&&f.changeVisualStates.call(i._vm.items()[i._selectedIndex],f.unSelected),i._oldRowValue=i._selectedIndex==-1?null:i._vm.items()[i._selectedIndex],i._selectedIndex=n,void 0!=n&&f.changeVisualStates.call(i._vm.items()[n],f.selected))},itemsSource:function(e){var t=this;return void 0===e?ko.mapping.toJS(t._vm.items):(t._selectedIndex=-1,void t._setItemsSource(e))}})}(AUI,jQuery)},function(e,t){!function(e,t){var i=null;t.extend(t.aui.datagrid.prototype,{_createResizingMembers:function(){var n=this;i=e.datagrid("constant"),n._drag_popup=n.element.find("."+i.DRAG_POPUP_CLASS),n._meter=n.element.find("."+i.DRAG_RULER_CLASS),n._distance=0,n._start=0,n._dragCell=null,n._mouseDownResize=0,n._home=t(document)},_onDragerMouseDown:function(e){e.stopPropagation();var t=e.data,i=this.getAttribute("data-index"),n=t._headerCache[i],o=t._drag_popup,a=t._meter,s=(t._distance,n.drag),r=n.cell;t._content.height(),t._rowPresenter.height();o.show(),t._dragCell=r,t._mouseDownResize=new Date,t._start=e.clientX+s.width(),e.offsetX?t._start-=e.offsetX:e.originalEvent&&e.originalEvent.layerX&&(t._start-=e.originalEvent.layerX),a.css({height:t.element.height()}).offset({left:t._start,top:r.offset().top}),t._home.on("mousemove"+t.eventNamespace,t,t._onMeterMove).on("mouseup"+t.eventNamespace,t,t._onMeterUp),window.captureEvents?window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP):a[0].setCapture()},_onMeterUp:function(e){e.stopPropagation();var t,i=e.data,n=(i.options.minCellWidth,new Date-i._mouseDownResize),o=i._distance,a=i._dragCell,s=0,r=0;n>=200&&0!==o&&(s=a.attr("columnIndex")-0,t=i._allTableCols[s],r=t.data("width")+o,t.css("width",r),t.data("width",r),s<i._frozenColumnCount&&(i._lockedTables.width(parseInt(i._lockedHeader[0].style.width)+o),i._unLockeds.css("marginLeft",i._lockedHeader.width()))),i._resetVerticalScroll(),i._home.off(i.eventNamespace),window.releaseEvents?window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP):i._meter[0].releaseCapture(),a.focus(),i._drag_popup.hide()},_onMeterMove:function(e){var t=e.data,i=t._dragCell,n=(parseInt(i.css("width"))+e.clientX-t._start,t._start-parseInt(i.css("width"))+t.options.minCellWidth),o=e.clientX,a=o<n?n:o;t._distance=a-t._start,t._meter.css({left:a})},_resetLeft:function(e){for(var t=this,i="",n=e+1,o=t.options.columns.length,a=t._blockFilter,s=0;n<o;n++)i=t._allColumns[n],s=parseInt(i.css("left"))+t._distance,i.css("left",s),a[n].css("left",s)},_destroyColumnResize:function(){var e=this;e._home.off(e.eventNamespace),e._meter.remove(),e._drag_popup.remove()}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=null,n=null;t.extend(t.aui.datagrid.prototype,{_createColumnVisibilityMembers:function(){i=e.datagrid("constant"),n=e.datagrid("visibility")},getColumnVisibility:function(e){var t;if(e<this._columns.length){var t=this._columns[e].visibility;t=void 0===t?n.visible:t}return t},setColumnVisibility:function(e,t,o){var a=this,t=void 0==t?n.visibility:t,s=a._allColumns[e],r=a._allTableCols[e];a._viewWidth;e>=a._frozenColumnCount&&(a._columns[e].visibility=t,t==n.visible?(s.removeClass(i.HIDE_TD_CLASS),r.removeClass(i.HIDE_TD_CLASS),delete a._hiddenColumns[e]):(a._hiddenColumns[e]=r,s.addClass(i.HIDE_TD_CLASS),r.addClass(i.HIDE_TD_CLASS))),1!=o&&a._resetVerticalScroll()}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=null,n=null;t.extend(t.aui.datagrid.prototype,{_createDetailMembers:function(){this._details=null,i=e.datagrid("constant"),n=e.datagrid("detailsMode")},_showCurrentDetail:function(e){var t=this,i=t.options.rowDetailsVisibilityMode,o=t._details,a=o.length-1;if(e<=a){switch(i){case n.visibleWhenSelected:case n.visibleWhenClick:"none"==o[e].style.display?(o.hide(),o[e].style.display="table-row"):o[e].style.display="none";break;case n.click:"none"==o[e].style.display?o[e].style.display="table-row":o[e].style.display="none"}i!==n.visible&&this._resetVerticalScroll()}},_setDetailsRowIndex:function(){for(var e=0,t=this._details,i=t.length;e<i;e++)t[e].setAttribute("index",e)},_updateDetailsVisibilityMode:function(e){var t=this,i=t._details;i.hide(),n.visible==e&&i.show(),t._resetVerticalScroll()},showDetailRowByIndex:function(e){var t=this,i=t._vm.items().length;e>=0&&e<i&&(t._details[e].style.display="table-row")},hideDetailRowByIndex:function(e){var t=this,i=t._vm.items().length;e>=0&&e<i&&(t._details[e].style.display="none")},showDetails:function(){var e=this;e._details.show()},hideDetails:function(){var e=this;e._details.hide()}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=null;t.extend(t.aui.datagrid.prototype,{_createEditMembers:function(){i=e.datagrid("cellMode")},_goToShowMode:function(e){var t=this,n=t._currentSelectedCell;if(n.mode===i.editing){var o=n.oldValue;n.editingPart.css("display","none"),n.showPart.css("display","block"),n.cell.focus(),e===!0?t._vm.items()[n.rowIndex][n.bindName](o):t._isBackground||(1==t.options.columns[n.columnIndex].isSortable&&t._sortColumn(n.columnIndex,t._sortMode),t._hasFilter&&t._doFilter()),n.mode=i.normal}},_goToEditingMode:function(){var e=this,t=e._currentSelectedCell;t.mode==i.normal&&0==t.isReadOnly(e)&&(t.showPart.css("display","none"),t.editingPart.css("display","block"),t.editingElement.focus(),t.mode=i.editing)},_onCellDoubleClick:function(e){var t=e.data;t._goToEditingMode()},_destroyEdit:function(){var e=this,t=e._currentSelectedCell;null!=t&&null!=t.editingElement&&t.editingElement.off(e.eventNamespace)}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=null,n=null,o=null,a=null,s=null;t.extend(t.aui.datagrid.prototype,{_initFilterMembers:function(){var t=this;t._columns;i=e.datagrid("constant"),n=e.datagrid("filter"),o=e.datagrid("message"),a=e.datagrid("filterBelt"),s=e.datagrid("numberFilterBelt"),t._BeltAssert=[],t._BlockAssert=[],t._filterValues=[],t._filterUnCheckedValues=[],t._filterColumnIndex=-1,t._blockFilterWidth=230,t._searchAssert=null,t._searchKey="",t._currentFilterStatus=[],t._filterTimer=null,t._filterType==n.block&&t._convertBlockFilterItems()},_convertBlockFilterItems:function(){for(var e=this,t=0,i=0,n="",o=e._vm,a=e._columns,s=null,r=a.length,l=0;t<r;t++)if(n=a[t].filterItems,"function"==typeof o[n])for(s=o[n](),o[n].subscribe(e._convertFilterItems,{self:e,name:"_"+n+"timer"}),l=s.length,i=0;i<l;i++)s[i]._display=ko.observable("table-row"),s[i]._onCheckBoxClick=e._blockFilterCheckBoxClick,s[i]._active=ko.observable(!0)},_convertFilterItems:function(e){for(var t=this.self,i=0,n=this.name,o=e.length;i<o;i++)e[i].hasOwnProperty("_display")||(e[i]._display=ko.observable("table-row")),e[i].hasOwnProperty("_onCheckBoxClick")||(e[i]._onCheckBoxClick=t._blockFilterCheckBoxClick),e[i].hasOwnProperty("_active")||(e[i]._active=ko.observable(!0));t[n]=setInterval(function(){clearInterval(t[n]),t._onFilterItemsChanged()},10)},_onFilterItemsChanged:function(){var e=this;e._blockFilterCheckBoxes=e._blockFilters.find(".aui-datagrid-block-filter-checkbox"),e._blockFilterCheckBoxes.data("self",e)},_createBeltFilter:function(){var e=this,t=e._columns,n=t.length,o=e._viewWidth,s=0,r="";for(o="string"==typeof o?"100%":o+"px",r+='<div class="'+i.DATAGRID_SCROLL_CONTAINER+'" style="background:#dddddd;border: 1px solid #ABABAB;border-top:0;">',r+='<div class="'+i.BELT_FILTER_CLASS+'">';s<n;s++){var l=e._getCellClass(s),d=e._getCellWidth(s),c=t[s].belt;switch(r+='<div class="'+i.BELT_FILTER_CELL_CLASS+" "+l+'" columnindex="'+s+'" style="width:'+d+";left:"+e._getColumnLeft(s)+'">',c){case a.input:r+='<input type="text" class="'+i.BELT_FILTER_INPUT_CLASS+'" columnindex="'+s+'" />';break;case a.combobox:r+='<select class="'+i.BELT_FILTER_COMBOBOX_CLASS+'" data-bind="options: '+t[s].filterItems+",optionsText: 'name',optionsValue:'value'\" columnindex=\""+s+'"></select>';break;case a.checkbox:r+='<div class="'+i.BELT_FILTER_CHECKBOX_CLASS+'" columnindex="'+s+'"></div>';break;case a.number:r+='<input class="'+i.BELT_FILTER_NUMBER_CLASS+'" columnindex="'+s+'" style="width:40px;" type="text" />',r+='<select class="'+i.BELT_FILTER_NIMBER_COMBOBOX_CLASS+'" columnindex="'+s+'">',r+='<option value="0">equal</option>',r+='<option value="1">not equal</option>',r+='<option value="2">less than</option>',r+='<option value="3">less than or equal</option>',r+='<option value="4">greater than</option>',r+='<option value="5">greater than or equal</option>',r+="</select>";break;case a.DateTime:r+='<input type="text" />'}r+="</div>"}return r+="</div>",r+="</div>"},_initBeltFilter:function(){var e=this;e.element.find("."+i.BELT_FILTER_CHECKBOX_CLASS).checkbox({isthreestate:!0,checked:null,click:e._checkboxFilter,tabindex:1,datagrid:e}),e.element.find("."+i.BELT_FILTER_INPUT_CLASS).textbox().on("keydown",this,e._stringFilter),e.element.find("."+i.BELT_FILTER_NUMBER_CLASS).textbox({displayMode:"inline-block"}).on("keydown",this,e._numberFilter),e.element.find("."+i.BELT_FILTER_NIMBER_COMBOBOX_CLASS).on("change",this,e._numberSelectChanged),e.element.find("."+i.BELT_FILTER_COMBOBOX_CLASS).on("change",this,e._comboboxChanged)},_updateFilterValues:function(e){for(var t=this,i=t._columns,n="",o="",a=i.length,s=0;s<a;s++)i[s].filterName&&(n=i[s].filterName,o=e[n](),t._filterValues[s]=t._filterValues[s]||[],t._filterValues[s].indexOf(o)==-1&&t._filterValues[s].push(o))},_updateFilterStatus:function(){return},_checkFilterItem:function(e,t,i){for(var n=e.value(),o=!1,a=t.length,s=0;s<a;s++)if(n==t[s]){o=!0;break}e._active(o),e._display(o?"block":"none")},_startTimer:function(e,t,i){var n=this;n._clearFilterTimer(),n._filterTimer=setInterval(function(){var e=!1;i._value=t.value,""==i._value&&(e=!0),n._onFilterTimer(n,e,i)},e)},_onFilterTimer:function(e,t,i){e._clearFilterTimer(),e._filterItems(t,i)},_clearFilterTimer:function(){var e=this;null!=e._filterTimer&&clearInterval(e._filterTimer)},_inputFilter:function(e,t){var i=e.data,n=e.which;(8==n||229==n||32==n||n>=48&&n<=57||n>=65&&n<=90||n>=96&&n<=111||n>=186&&n<=192||n>=219&&n<=222)&&i._startTimer(300,e.target,t)},_stringFilter:function(e){var t=e.data,i=t._columns,n=this.getAttribute("columnindex"),o=(e.which,i[n].filterName);t._inputFilter(e,{_index:n,_name:o,_assert:t._containsAssert})},_checkboxFilter:function(e,t){var i=t.element,n=i.attr("columnindex"),o=i.checkbox("option","datagrid"),a=o._columns,s=t.newValue,r=null==s;name=a[n].filterName,o._filterItems(r,{_index:n,_value:s,_name:name,_assert:o._checkBoxAssert})},_numberFilter:function(e){var t=e.data,i=t._columns,n=this.getAttribute("columnindex"),o=(e.which,null==t._BeltAssert[n]?s.equal:t._BeltAssert[n]._type),a=i[n].filterName;t._inputFilter(e,{_index:n,_name:a,_assert:t._numberAssert,_type:o})},_numberSelectChanged:function(e){var t=e.data,i=t._columns,n=this.getAttribute("columnindex"),o=null==t._BeltAssert[n]?"":t._BeltAssert[n]._value,a=parseInt(this.value),s=i[n].filterName;t._filterItems(!1,{_index:n,_value:o,_name:s,_assert:t._numberAssert,_type:a})},_comboboxChanged:function(e){var t=e.data,i=t._columns,n=this.getAttribute("columnindex"),o=parseInt(this.value),a=i[n].filterName;t._filterItems(!1,{_index:n,_value:o,_name:a,_assert:t._comboboxAssert})},_getFilterCondition:function(e){for(var i=this,o=0,a=!0,s=i._filterType==n.belt?i._BeltAssert:i._BlockAssert,r=s.length;o<r;o++){var l=s[o];null!=l&&a&&(a=i._filterType==n.belt?a&&l._assert(e,l._name,l._value,l._type):t.isFunction(l._customFilter)?a&&l._customFilter(e,l):a&&l._assert(e,l))}return t.isFunction(i._searchAssert)&&a&&(a=a&&i._searchAssert(e,i._searchKey)),a},_checkBoxAssert:function(e,t,i){return null==i||e[t]()==i},_equalAssert:function(e,t){return e==t},_containsAssert:function(e,t){return e.indexOf(t)!=-1},_notContainsAssert:function(e,t,i){return e[t]().indexOf(i)==-1},_comboboxAssert:function(e,t,i){return e[t]()==i},_numberAssert:function(e,t,i,n){if(""==i)return!0;switch(n){case s.equal:return e[t]()==i;case s.notEqual:return e[t]()!=i;case s.lessThan:return e[t]()<i;case s.lessThanOrEqual:return e[t]()<=i;case s.greaterThan:return e[t]()>i;case s.greaterThanOrEqual:return e[t]()>=i;default:return e[t]()==i}},beforeFilter:function(t,i){e.updateEventHandler(this.options.filtering,t,i)},_addFilterStatus:function(t){var n=this,o=n._headerCache,a=o[t],s=a.sort;n._sortCache&&n._sortCache._index==t?n._sortCache._mode==e.datagrid("sortmode").asc?s.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_SORT_ASC_FILTER_CLASS):s.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_SORT_DESC_FILTER_CLASS):s.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_FILTER_CLASS)},_filterItems:function(t,i){var o=this,a=i._index,s=o._headerCache,r=s[a];r.sort;o._filterType==n.belt?(null!=o._BeltAssert[a]&&delete o._BeltAssert[a],t||(o._BeltAssert[a]=i)):(null!=o._BlockAssert[a]&&delete o._BlockAssert[a],t||(o._BlockAssert[a]=i)),t||o._addFilterStatus(a),o._trigger("filtering",null,e.Event({element:o.element,newValue:{sort:o._sortCache,filter:o._filterType==n.belt?o._BeltAssert:o._BlockAssert,search:o._searchKey}})),o._isBackground||o._doFilter(t)},_updateFilter:function(){for(var e=this,t=0,n=e._columns,o=!1,a=e._columns.length;t<a;t++)if(n[t].filterName){var s=ko.toJS(e._vm[n[t].filterItems]);e._isColumnFiltered(s,n[t].filterCheckName)&&(e._BlockAssert[t]={_index:t,_name:n[t].filterName,_filterCheckName:n[t].filterCheckName,_filterItems:s,_caseSensitive:e.options.isFilterCaseSensitive,_customFilter:n[t].customFilter,_assert:e._blockFilterAssert},o=!0,e._addFilterStatus(t),e._blockFilterClear[t].removeClass(i.HEADER_SETTING_CLEAR_DISABLED_CLASS),e._blockFilterClearImg[t].removeClass(i.HEADER_SETTING_CLEAR_DISABLED_IMG_CLASS))}o&&e._doFilter()},_isColumnFiltered:function(e,t){for(var i=0,n=!1,o=e.length;i<o;i++)if(e[i][t]===!1){n=!0;break}return n},_doFilter:function(t){var i=this,n=0,a=i._vm.items(),s=0,r=a.length;for(i._filterValues=[],i._filterUnCheckedValues=[];n<r;n++){var l=a[n],d=i._getFilterCondition(l);l[i._display]("table-row"),d?i._updateFilterValues(l):(l[i._display]("none"),s++)}i._updateFilterStatus(),s==r?(i._showMessage(o.filter),i._rowPresenter.hide()):(i._rowPresenter.show(),i._messageContainer.hide()),i._resetVerticalScroll(),i._addZebraLists(),i._trigger("filtered",null,e.Event({element:i.element,newValue:i.getRowsByAttribute("_display","table-row")}))},searchItems:function(t,i){var o=this;o._searchAssert=t,o._searchKey=i,e.executeEventHandler(o,"searching",o.options.searching,null,e.Event({element:o.element,newValue:{sort:o._sortCache,filter:o._filterType==n.belt?o._BeltAssert:o._BlockAssert,search:o._searchKey}})),o._isBackground||o._doFilter()},setSearchKey:function(e){this._searchKey=e}}),t.extend(t.aui.datagrid.prototype,{_blockFilterCheckBoxClick:function(e,t){e.stopPropagation();var i=t.element.data("self");i._controlSelectAll(t)},_controlSelectAll:function(e){for(var t=this,i=e.newValue,n=t._filterColumnIndex,o=t._columns[n].filterItems,a=t._vm[o](),s=t._columns[n].filterCheckName,r=0,l=!0,d=a.length,c=d,i=e.newValue;r<d;r++)0==a[r][s]()&&(l=!1,c--);0==i?t._blockFilterSelectAll[n].checkbox("option","checked",!1):l&&t._blockFilterSelectAll[n].checkbox("option","checked",!0),0==c?t._blockFilterOk[n].button("disable"):(c<d&&t._blockFilterSelectAll[n].checkbox("option","checked",null),t._blockFilterOk[n].button("enable"))},_onBlockFilterSelectAllClick:function(e,t){var i=t.element.checkbox("option").datagrid,n=t.oldValue,o=t.newValue,a=(i._columns,i._filterColumnIndex),s=i._columns[a].filterItems,r=i._columns[a].filterCheckName,l=i._vm[s](),d=l.length,c=0;for(null==n&&(t.element.checkbox("option","checked",!0),o=!0),null==o?(t.element.checkbox("option","checked",!1),o=!1,i._blockFilterOk[a].button("disable")):1==o&&i._blockFilterOk[a].button("enable");c<d;c++)l[c][r](o)},_blockFilterAssert:function(e,i){var n=0,o=!0,a=i._name,s=i._filterCheckName,r=i._filterItems,l=i._caseSensitive,d=!1,c=r.length;for("string"!=typeof a&&t.error('The "filterName" for column '+i._index+" is undefined.Please check your initialize settings for datagrid."),void 0===e[a]&&t.error('The "filterName" for column '+i._index+" is incorrect.Please check your initialize settings for datagrid.");n<c&&(0==r[n][s]&&(d=l?e[a]()==r[n].value:"string"==typeof e[a]()?e[a]().toLowerCase()==r[n].value.toLowerCase():e[a]()==r[n].value,o=!o||!d),0!=o);n++);return o},_saveFilterStatusByIndex:function(e){var t=this,i=t._columns,n=i[e].filterCheckName,o=i[e].filterItems;t._filterColumnIndex=e,n&&(t._currentFilterStatus=ko.mapping.toJS(t._vm[o]))},_clearBlockFilter:function(e){var i=this,n=i._columns,o=i._columns[e].filterItems,a=i._columns[e].filterCheckName,s=i._vm[o](),r=s.length,l=0,d=i._headerCache,c=d[e];for(c.sort;l<r;l++)s[l][a](!0);i._blockFilterSelectAll[e].checkbox("option","checked",!0),i._filterItems(!0,{_index:e,_name:n[e].filterName,_filterCheckName:n[e].filterCheckName,_filterItems:ko.toJS(i._vm[n[e].filterItems]),_assert:i._blockFilterAssert}),i._removeFilterStatus(e),t(i._blockFilter[e]).hide(),i._blockFilterPopup.hide()},_removeFilterStatus:function(e){var t=this,n=t._headerCache,o=n[e],a=o.sort;t._sortCache&&t._sortCache._index==e?2==t._sortCache._mode?a.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_SETTING_ICON_CLASS+" "+i.HEADER_SORT_DESC_CLASS):a.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_SETTING_ICON_CLASS+" "+i.HEADER_SORT_ASC_CLASS):a.removeClass().addClass(i.HEADER_SETTING_CLASS+" "+i.HEADER_SETTING_ICON_CLASS),t.options.isResponsive&&t._responsiveSettingFilterByItem[e].hide()},_onBlockFilterClearClick:function(e){var t=e.data,n=i.HEADER_SETTING_CLEAR_DISABLED_CLASS,o=this.getAttribute("index");t._blockFilterClear[o].hasClass(n)||(t._clearBlockFilter(o),t._blockFilterClear[o].addClass(n),t._blockFilterClearImg[o].addClass(i.HEADER_SETTING_CLEAR_DISABLED_IMG_CLASS)),t.options.isResponsive&&t._responsiveSettingFilterByItem[o].hide()}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=e.datagrid("constant"),n=e.datagrid("filter"),o=e.datagrid("SortMode");t.extend(t.aui.datagrid.prototype,{_createSortMembers:function(){this._sortCache={},this._sortedIndex=-1},_sortData:function(n){var o=this,a=o._rowPresenter;t.isFunction(n)&&(o._isItemsChanged=!0,o._vm.items.sort(n)),o._singleItem=a.children('div[class~="'+i.ROW_CLASS+'"]:even'),o._evenItem=a.children('div[class~="'+i.ROW_CLASS+'"]:odd'),o._details=a.children('div[class="'+i.DETAILS_ROW_CLASS+'"]'),o._selectedIndex!=-1&&o._onSelectedItemChanging(o._item[o._selectedIndex]),o._addZebraLists(),o._trigger("sorted",null,e.Event({element:o.element,newValue:{newValue:o.getRowsByAttribute("_display","table-row")}}))},_triggerSort:function(e){var t=parseInt(e.attr("columnindex"));this._columns[t].isSortable===!0&&this._doSort(t,e.data("grid-sort")!=o.asc?o.asc:o.desc)},_doSort:function(i,a){var s=this._headerCache,r=(s[i],t(this._headerSorts[i]),null),l=this._columns[i];i>this._columns.length&&t.error("Sort index is more than columns length."),i!=this._sortedIndex&&this._removeColumnSort(this._sortedIndex),this._sortedIndex=i,a==o.asc?(this._toASC(i),r=l.sortASC):(this._toDESC(i),r=l.sortDESC),this._sortCache={_index:i,_name:this._columns[i].name,_mode:a},this._trigger("sorting",null,e.Event({element:this.element,newValue:{sort:this._sortCache,filter:this._filterType==n.belt?this._BeltAssert:this._BlockAssert,search:this._searchKey}})),this._isBackground||this._sortData(r)},_removeColumnSort:function(n){t(this._headerSorts[n]).removeClass(i.HEADER_SORT_ASC_CLASS+" "+i.HEADER_SORT_DESC_CLASS),t(this._headerCell[n]).removeClass(i.HEADER_SORT_CLASS).data("grid-sort",e.datagrid("sortmode").none).removeAttr("aria-sort")},_toASC:function(n){t(this._headerSorts[n]).removeClass(i.HEADER_SORT_DESC_CLASS).addClass(i.HEADER_SORT_ASC_CLASS),t(this._headerCell[n]).addClass(i.HEADER_SORT_CLASS).data("grid-sort",e.datagrid("sortmode").asc).attr("aria-sort","ascending")},_toDESC:function(n){t(this._headerSorts[n]).removeClass(i.HEADER_SORT_ASC_CLASS).addClass(i.HEADER_SORT_DESC_CLASS),t(this._headerCell[n]).addClass(i.HEADER_SORT_CLASS).data("grid-sort",e.datagrid("sortmode").desc).attr("aria-sort","descending")},_sortColumn:function(e){var t=this._headerCell[e].data("grid-sort");this._columns[index].isSortable===!0&&t&&this._doSort(index,t)},beforeSort:function(t,i){e.updateEventHandler(this.options.sorting,t,i)},setColumnSortStatus:function(t,i){this._removeColumnSort(this._sortedIndex),i==e.datagrid("sortMode").asc?this._toASC(t):i==e.datagrid("sortMode").desc&&this._toDESC(t),this._sortedIndex=t},clearSort:function(){var e=this;e._removeColumnSort(e._sortedIndex),e._sortCache={}}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.datepicker={init:function(i,n,o,a){var i=e(i),s=n(),r=s.disabled,l=s.selectedDate,d=s.selectedTimeZone,c=ko.isObservable(r),u=ko.isObservable(l),h=ko.isObservable(d),_=ko.toJS(ko.unwrap(s)),p=t.executeEventHandler,m=_.timeZoneChanged,f=_.selectionChanged;_.isEnabledChanged;i.datepicker(_),u&&(i.datepicker("option","selectionChanged",function(e,t){l(t.newValue),p(null,"selectionChanged",f,e,t)}),l.subscribe(function(){i.datepicker("option","selectedDate",l())})),h&&(i.datepicker("option","timeZoneChanged",function(e,t){d(t.newValue),p(null,"timeZoneChanged",m,e,t)}),d.subscribe(function(){i.datepicker("option","selectedTimeZone",d())})),c&&(i.datepicker("option","isEnabledChanged",function(e,t){r(t.newValue),p(null,"isEnabledChanged",m,e,t)}),r.subscribe(function(){i.datepicker("option","disabled",r())}))}});var i=-1,n={DATE_PICKER_WRAP:"aui-datepicker-wrap",DATE_PICKER:"aui-datepicker",DATE_PICKER_DISABLED:"aui-datepicker-disabled",POPUP_CLASS:"aui-datepicker-popup",CALENDAR_CLASS:"aui-datepicker-calendar",CONTENT_CLASS:"aui-datepicker-content",ICON_CLASS:"aui-datepicker-icon",ICON_FONT_CLASS:"fi-calendar-a",EXTEND_CLASS:"aui-datepicker-extend",MINUTE_CLASS:"aui-datepicker-minute",TODAY_CONTAINER_CLASS:"aui-datepicker-today-container",TODAY_CLASS:"aui-datepicker-extend-today",TIMEZONE_HEADER_CLASS:"aui-datepicker-timezone-header",OK_CLASS:"aui-datepicker-ok",CANCEL_CLASS:"aui-datepicker-cancel",VALIDATION_CLASS:"aui-datepicker-validation",INLINE_BLOCK_CLASS:"aui-datepicker-ib",MONTH_ITEM_PAST_CLASS:"aui-gcalendar-past-item",MONTH_ITEM_FEATURE_CLASS:"aui-gcalendar-month-feature-item"};e.widget("aui.datepicker",{validationId:"aui-datepicker-validation-",popupId:"aui-datepicker-popup-",calenarId:"aui-datepicker-calendar-",gCalendarId:"aui-datepicker-gcalendar-",contentId:"aui-datepicker-today-content-",todayId:"aui-datepicker-today-",hourId:"aui-datepicker-hour-",colonId:"aui-datepicker-colon-",minuteId:"aui-datepicker-minute-",timezoneContainerId:"aui-datepicker-timezone-container-",timezoneId:"aui-datepicker-timezone-",savingTimeId:"aui-datepicker-saving-time-",$window:null,$body:null,$popup:null,$calendar:null,$gcalendar:null,$content:null,$today:null,$todayTd:null,$timezoneContainer:null,$timezone:null,$savingTime:null,$hour:null,$colon:null,$minute:null,$left:null,$validation:null,$yearItem:null,$monthItem:null,$decadeItem:null,hour12Items:null,hour24Items:null,timezones:null,isShow:!1,iFormat:null,options:{dateTimeFormat:"dd-MM-yy",disabled:!1,hasTimePicker:!1,hasTimeZone:!1,hasCalendar:!0,is24HourSupported:!0,isReadOnly:!0,parameters:{},selectedDate:null,selectedStartDate:null,selectedTimeZone:null,timezones:null,useBrowserFormat:!1,validateTime:!1,zIndex:1,selectionChanged:e.noop,timeZoneChanged:e.noop,todayClick:e.noop,shown:e.noop,hidden:e.noop},_create:function(){this._initMembers()._createDatePicker()._initCalendar()._loaded()._initWidget()._initEvent()},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"disabled":i._setDisabled(n,t);break;case"selectedDate":case"selectedStartDate":var o=0;i._isChangeLock=!0,i._setSelectedDate(n,t)&&++o,i._selectedHour(n,t)&&++o,i._selectedMinute(n,t)&&++o,o>0&&i._onSelectionChanged(n,t),i._isChangeLock=!1;break;case"selectedTimeZone":i._setSelectedTimeZone(t);break;case"timezones":i._setTimeZones(t),i._onTimeZoneSelected(n,t);break;case"hasTimePicker":i._updateTimeArea(t)}},_selectedHour:function(e,t){var i=!1;return t?this._newHour!=t.getHours()&&(i=!0,this.$hour.combobox("selectedValue",t.getHours())):(i=!0,this.$hour.combobox("selectedIndex",-1)),i},_selectedMinute:function(e,t){var i=!1;return t?this._newMinute!=t.getMinutes()&&(i=!0,this.$minute.combobox("selectedValue",t.getMinutes())):(i=!0,this.$minute.combobox("selectedIndex",-1)),i},_setDisabled:function(e,i){var o=this;1==i?(o.$content.prop("disabled",!0),o.element.addClass(n.DATE_PICKER_DISABLED).removeAttr("tabindex"),o.$hour.combobox("option","disabled",!0),o.$minute.combobox("option","disabled",!0)):(o.$content.prop("disabled",!1),o.element.removeClass(n.DATE_PICKER_DISABLED).attr("tabindex",0),o.$hour.combobox("option","disabled",!1),o.$minute.combobox("option","disabled",!1)),e!=i&&t.executeEventHandler(o,"isEnabledChanged",o.options.isEnabledChanged,null,t.Event({element:o.element,oldValue:e,newValue:i}))},_updateTimeArea:function(e){var t=this;e?(t.$hour.show(),t.$colon.show(),t.$minute.show()):(t.$hour.hide(),t.$colon.hide(),t.$minute.hide())},_setTimeZones:function(e){var t=this;t.$timezone.combobox("itemsSource",e)},_initMembers:function(){var o,a=this;for(++i,a._initId(),a.iFormat={i:0,f:a.options.dateTimeFormat},this._hasTimePicker=this.options.hasTimePicker,
a.hour12Items=[],a.hour24Items=[],a._newHour=null,a._newMinute=null,a.timezones=[],a.minuteItems=[],a.$body=e("body"),a.element.attr("unselectable","on").addClass(n.DATE_PICKER),o=0;o<60;o++){var s=o;o<10&&(s="0"+s),a.minuteItems[o]={name:s,value:o}}for(a.hour12Items[0]={name:"12 "+t.I18N.gcalendar.am,value:0},o=1;o<12;o++)a.hour12Items[o]={name:o+" "+t.I18N.gcalendar.am,value:o};for(a.hour12Items[12]={name:"12 "+t.I18N.gcalendar.pm,value:12},o=13;o<24;o++)a.hour12Items[o]={name:o-12+" "+t.I18N.gcalendar.pm,value:o};for(o=0;o<24;o++)a.hour24Items[o]={name:o,value:o};return a.timezones=a.options.timezones||t.I18N.timezones,a},_initId:function(){var e=this;e.popupId+=i,e.calenarId+=i,e.gCalendarId+=i,e.contentId+=i,e.todayId+=i,e.hourId+=i,e.colonId+=i,e.minuteId+=i,e.timezoneContainerId+=i,e.timezoneId+=i,e.savingTimeId+=i,e.okId+=i,e.cancelId+=i,e.validationId+=i},_createDatePicker:function(){var e=this,t=-1,i=[];return i[++t]='<input id="'+e.contentId+'" class="'+n.CONTENT_CLASS+'" readonly="true" role="combobox" aria-expanded="false" aria-disabled="false" aria-readonly="true" />',i[++t]='<div class="'+n.ICON_CLASS+'"><div class="'+n.ICON_FONT_CLASS+'"></div></div>',e.element.html(i.join("")),e},_initCalendar:function(){var t=this;return t.$body.append(t._createPopup()),this.element.addClass(n.INLINE_BLOCK_CLASS).wrap('<div class="'+n.DATE_PICKER_WRAP+'"></div>'),this.$container=this.element.parent(),this._hasTimePicker&&this.$container.append(this._createTimePicker()),t.$popup=e("#"+t.popupId).css("z-index",t.options.zIndex),t.$calendar=e("#"+t.calenarId).css("z-index",t.options.zIndex),t.$gcalendar=e("#"+t.gCalendarId).gcalendar({selectionChanged:t._onCalendarSelectionChanged,enterDown:t._onMonthViewEnterDown,parameters:{selectionChanged:t,enterDown:t}}),t},_createPopup:function(){var e=this,i=-1,o=[];return o[++i]='<div class="'+n.POPUP_CLASS+'" id="'+e.popupId+'" style="display:none;"></div>',o[++i]='<div class="'+n.CALENDAR_CLASS+'" id="'+e.calenarId+'">',o[++i]='<div id="'+e.gCalendarId+'"></div>',o[++i]='<div class="'+n.TODAY_CONTAINER_CLASS+'"><input id="'+e.todayId+'" class="'+n.TODAY_CLASS+'" type="button" value="'+t.I18N.datepicker.today+'"></div>',o[++i]="</div>",o.join("")},_updatePopupPosition:function(){var e=this,t="left top+";return e.isShow&&(e.$popup.show(),e.$calendar.attr("aria-hidden",!1).show(),e.$savingTime.checkbox("refresh")),t+=e.element.height(),e.$calendar.position({my:t,at:"left top+2",of:e.element,collision:"flipfit flipfit",within:e.options.within}),e},_createTimePicker:function(){var e=-1,t=[];return t[++e]='<div id="'+this.hourId+'" class="'+n.INLINE_BLOCK_CLASS+'"></div>',t[++e]='<div id="'+self.colonId+'" class="'+n.INLINE_BLOCK_CLASS+'" style="height:38px;line-height:38px;">:</div>',t[++e]='<div id="'+this.minuteId+'" class="'+n.INLINE_BLOCK_CLASS+'"></div>',t.join("")},_createTime:function(){var e=this,i=-1,o=[];return o[++i]='<div style="margin-left:5px;margin-right:5px;">',o[++i]='<table class="'+n.EXTEND_CLASS+'" cellspacing="0" cellpadding="0">',o[++i]='<colgroup><col style="width:71px"><col style="width:7px;"><col><col></colgroup>',o[++i]="<tbody>",o[++i]="<tr>",o[++i]='<td><div id="'+e.hourId+'"></div></td>',o[++i]='<td><span id="'+e.colonId+'">:</span></td>',o[++i]='<td><div class="'+n.MINUTE_CLASS+'" id="'+e.minuteId+'"></div></td>',o[++i]='<td style="text-align:right;"></td>',o[++i]="</tr>",o[++i]="</tbody>",o[++i]="</table>",o[++i]='<div id="'+e.validationId+'" class="'+n.VALIDATION_CLASS+'">'+t.I18N.datepicker.earlierTime+"</div>",o[++i]='<div id="'+e.timezoneContainerId+'">',o[++i]='<div class="'+n.TIMEZONE_HEADER_CLASS+'">'+t.I18N.datepicker.timeZone+"</div>",o[++i]='<div id="'+e.timezoneId+'"></div>',o[++i]="<div id="+e.savingTimeId+' type="checkbox">'+t.I18N.datepicker.savingTime+"</div>",o[++i]="</div>",o[++i]="</div>",o.join("")},_loaded:function(){var t=this,i=t.$calendar;return t.$window=e(window),t.$content=t.element.find("#"+t.contentId).attr("aria-owns",t.calenarId),t.$today=i.find("#"+t.todayId),t.$hour=this.$container.children("#"+t.hourId),t.$colon=i.find("#"+t.colonId),t.$minute=this.$container.children("#"+t.minuteId),t.$validation=i.find("#"+t.validationId),t.$timezoneContainer=i.find("#"+t.timezoneContainerId),t.$timezone=i.find("#"+t.timezoneId),t.$savingTime=i.find("#"+t.savingTimeId),t.$left=i.find("#"+t.$gcalendar.gcalendar("getId","left")),t.$yearItem=t.$gcalendar.gcalendar("getViewItem").yearItem,t.$monthItem=t.$gcalendar.gcalendar("getViewItem").monthItem,t.$decadeItem=t.$gcalendar.gcalendar("getViewItem").decadeItem,t.options.selectedDate?(t.options.selectedStartDate=t.options.selectedDate,t._setSelectedDate(null,t.options.selectedDate)):t.options.selectedStartDate&&(t.options.selectedDate=t.options.selectedStartDate,t._setSelectedDate(null,t.options.selectedDate)),t.options.hasCalendar||this.element.hide(),t._updateTimeArea(t.options.hasTimePicker),t},_initEvent:function(){var e=this,i=e.eventNamespace;return e.$window.on("resize"+i,e,e._onWindowResize),e.element.on("keydown"+i,e,e._onElementKeydown).on("mousedown"+i,e,function(){t.closeExcept(e.element,!0)}).on("click"+i,e,e._onElementClick),e.$today.on("click"+i,e,e._onTodayClick),e.$calendar.on("mousedown"+i,e,function(){t.closeExcept(e.element,!0)}).on("mousewheel",e,function(i){t.closeExcept(e.element,!0)}).on("keydown"+i,e,e._onCalendarKeyDown),e.$gcalendar.on("click"+i,e,e._onCalendarClick),e.$yearItem.on("keydown"+i,e,e._onViewItemKeydown),e.$monthItem.on("click"+i,e,e._onMonthItemClick).on("mousedown"+i,e,e._onMonthItemDown).on("keydown"+i,e,e._onViewItemKeydown),e.$decadeItem.on("keydown"+i,e,e._onViewItemKeydown),t.close(e.element,"datepicker","close"),e},_onMonthItemDown:function(t,i){var o=e(t.target.parentNode);self._isPaging=!0,o.hasClass(n.MONTH_ITEM_PAST_CLASS)||o.hasClass(n.MONTH_ITEM_FEATURE_CLASS)||(self._isPaging=!1)},_onMonthItemClick:function(t,i){e(t.target.parentNode);self._isPaging||t.data._clickOk()},_onViewItemKeydown:function(t){t.data;t.shiftKey&&t.which==e.ui.keyCode.TAB&&t.preventDefault()},_onWindowResize:function(e){e.data._updatePopupPosition()},_onCalendarClick:function(e){e.stopPropagation()},_onCalendarKeyDown:function(t){var i=t.data;switch(t.which){case e.ui.keyCode.ESCAPE:i._showOrHide(),i.$content.focus();break;case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault()}},_onElementKeydown:function(t){var i=t.data;t.which==e.ui.keyCode.ENTER&&i._showOrHide()},_onElementClick:function(e){var t=e.data;1!=t.options.disabled&&e.data._showOrHide()},_showOrHide:function(){var e=this;e.isShow?(t.closeVisibility(e.element,!1),e.isShow=!1,e.$content.attr("aria-expanded",!1),e.$popup.hide(),e.$calendar.attr("aria-hidden",!0).hide(),e.$content.focus(),e.$gcalendar.gcalendar("option","displayMode",t.gcalendar("view").month),e._trigger("hidden",null,t.Event({element:e.element}))):(e.isShow=!0,t.closeVisibility(e.element,!0),e.$content.attr("aria-expanded",!0),e._updatePopupPosition()._setSelectedDayFocus(),e.$gcalendar.gcalendar("option","selectedDate",new Date),e._trigger("shown",null,t.Event({element:e.element})))},_setSelectedDayFocus:function(){var e=this;e.$gcalendar.gcalendar("getSelectedDayItem").focus()},_onShow:function(){var e=this;return e._hasTimePicker&&e._setSelectedTimeZone(e.options.selectedTimeZone),e},_initWidget:function(){var e=this,t=e.hour12Items;return e.$hour.on("shown",e,e._onComboboxShow).on("hidden",e,e._onComboboxHidden).on("selectionChanged",e,e._onHourChanged).combobox({width:this.options.is24HourSupported?60:75,waterMark:"",dataTextField:"name",dataValueField:"value"}),e.$minute.on("selectionChanged",e,e._onMinuteChanged).combobox({width:60,waterMark:"",dataTextField:"name",dataValueField:"value"}),e.options.disabled===!0&&e._setDisabled(!1,!0),e.options.is24HourSupported&&(t=e.hour24Items),e.$hour.combobox("itemsSource",t),e.$minute.combobox("itemsSource",this.minuteItems),e.$timezone.on("shown",e,e._onComboboxShow).on("hidden",e,e._onComboboxHidden).combobox({width:"198",dataTextField:"displayName",dataValueField:"id",selectionChanged:e._onTimeZoneChanged,parameters:{selectionChanged:e}}),e.$timezone.combobox("itemsSource",e.timezones),e.$savingTime.checkbox({contentWidth:189}),e.options.hasTimeZone?e.$timezoneContainer.show():e.$timezoneContainer.hide(),e._setTime(e.options.selectedDate),e._onShow(),e},_onComboboxShow:function(e){t.closeLock(e.data.element,!0)},_onComboboxHidden:function(e){t.closeLock(e.data.element,!1)},_updateTime:function(e){var t=!0;return this.$hour.combobox("selectedIndex")!=-1&&this.$minute.combobox("selectedIndex")!=-1?(e.setHours(this.$hour.combobox("selectedIndex")),e.setMinutes(this.$minute.combobox("selectedIndex"))):t=!1,t},_onTimeChanged:function(e,t){var i=!0;this._isChangeLock||isNaN(t)||(i=this._updateTime(t),i&&(this.options.selectedDate=t,this._newHour=t.getHours(),this._validateDate(),this._onSelectionChanged(e,t)))},_onMinuteChanged:function(e,t){var i=e.data,n=new Date(Date.parse(i.options.selectedDate)),o=i.options.selectedDate;i._onTimeChanged(o,n)},_onHourChanged:function(e,t){var i=e.data,n=new Date(Date.parse(i.options.selectedDate)),o=i.options.selectedDate;i._onTimeChanged(o,n)},_onMonthViewEnterDown:function(e,t){t.parameters._clickOk()},_onCalendarSelectionChanged:function(e,t){t.parameters._validateDate()},_validateDate:function(){var e=this,t=e.$gcalendar.gcalendar("option","selectedDate"),i=new Date;return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.$hour.combobox("selectedIndex"),e.$minute.combobox("selectedIndex")),e.options.validateTime&&(Date.parse(t)<=Date.parse(i)?e.$validation.show():e.$validation.hide()),e},_onTimeZoneChanged:function(e,t){var i=t.parameters;i.$timezone.combobox("option","selectedItem").supportsDaylightSavingTime?i._showSavingTime():i.$savingTime.hide()},_onTodayClick:function(e){var i=e.data,n=i.options.selectedDate,o=new Date;i.$gcalendar.gcalendar("option","selectedDate",o),i._trigger("todayClick",null,t.Event({element:i.element,oldValue:n,newValue:o}))},open:function(){var e=this;e.isShow||e._showOrHide()},close:function(){var e=this;e.isShow&&e._showOrHide()},_destroy:function(){var e=this;e.element.empty(),e.$popup.remove(),e.$calendar.empty().remove(),e._trigger("destroy",null,t.Event({element:e.element}))}}),e.extend(e.aui.datepicker.prototype,{_setSelectedDate:function(e,i){var n=this,o=!1;return i&&!isNaN(Date.parse(i))?e&&e.getFullYear()==i.getFullYear()&&e.getMonth()==i.getMonth()&&e.getDate()==i.getDate()||(n.$content.val(t.gcalendar("formatDate",{date:i,iFormat:n.iFormat,useBrowserFormat:n.options.useBrowserFormat,hasTimePicker:n.options.hasTimePicker})),o=!0):(o=!0,n.$content.val("")),o},_onSelectionChanged:function(e,i){Date.parse(e)!=Date.parse(i)&&this._trigger("selectionChanged",null,t.Event({element:this.element,oldValue:e,newValue:i}))},_setTime:function(e){var t=this,i=e||new Date;return t.$gcalendar.gcalendar("option","selectedDate",e),t.options.hasTimePicker&&(t.$hour.combobox("selectedValue",i.getHours()),t.$minute.combobox("selectedValue",i.getMinutes())),t},_getBrowserFormatDate:function(e){var t,i=this;return t=i.options.hasTimePicker?e.toLocaleString():e.toLocaleDateString()}}),e.extend(e.aui.datepicker.prototype,{_showSavingTime:function(){var e=this;return e.$savingTime.show(),e.$savingTime.checkbox("refresh"),e},_setSelectedTimeZone:function(e){return}}),e.extend(e.aui.datepicker.prototype,{}),e.extend(e.aui.datepicker.prototype,{_clickOk:function(){var t,i=this,n=new Date(Date.parse(i.options.selectedDate)),o=!0,a={};t=i.$gcalendar.gcalendar("option","selectedDate"),this._hasTimePicker&&(o=i._updateTime(t)),i.options.selectedDate=i.options.selectedStartDate=t,i.options.hasTimeZone&&(e.extend(!0,a,i.options.selectedTimeZone),i.options.selectedTimeZone=i.$timezone.combobox("option","selectedItem"),i.options.selectedTimeZone&&(i.options.selectedTimeZone.autoAdjustClock=i.$savingTime.checkbox("option","checked")),i._onTimeZoneSelected(a,i.options.selectedTimeZone)),i._setSelectedDate(n,t),o&&i._onSelectionChanged(n,t),i._showOrHide()},_onTimeZoneSelected:function(e,i){var n=this;Object.equals(e,i)||t.executeEventHandler(n,"timeZoneChanged",n.options.timeZoneChanged,null,t.Event({element:n.element,oldValue:e,newValue:i}))},_trigger:function(t,i,n){var o=this;return o.element.trigger(t,n),n&&(n.parameters=o.options.parameters[t]||{},n.type="datepicker"),e.Widget.prototype._trigger.call(o,t,i,n)}})}(jQuery,AUI)},function(t,i){!function(t){"use strict";function i(e){var i=t("body"),n=e.overlayZIndex;r.indexOf(n)==-1&&(s.push({index:n,data:e}),s.sort(d),r.push(n),r.sort(l),n>a&&(a=n,i.overlay(e),i.overlay("hide"),i.overlay("show",n)))}function n(){var e=t("body"),i=r.pop();s.pop(),r.length>0?(a=i=r.length-1,e.overlay(s[i].data),e.overlay("hide"),e.overlay("show",r[i])):(a=-1,e.overlay("hide"))}var o="aui-dialog-defaultdockingzone",a=-1,s=[],r=[],l=function(e,t){return e>t},d=function(e,t){return e.index>t.index};ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.dialog={init:function(e,i){var n=ko.toJS(ko.unwrap(i()));t(e).dialog(n)},update:function(e,i){var n=ko.toJS(ko.unwrap(i()));t(e).dialog(n)}}),t.widget("aui.dialog",{$window:null,options:{height:"auto",width:400,title:"",extendTitleClass:"",content:"",resizable:!1,draggable:!1,maxHeight:600,maxWidth:800,closeOnEscape:!0,containment:"document",minHeight:180,minWidth:260,minimizeZoneElementId:"",buttons:{},theme:{},captionButtons:{},overlayBackground:"#000000",overlayOpacity:.25,hasOverlay:!0,zIndex:"",opened:t.noop,closed:{},hidden:t.noop},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.$window=t(window).on("resize",this,this._resizeLayout),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e,i,n,o,a,s=this,r=this.options,l=r.title||"&#160;";if(r.content&&this.element.html(r.content),!r.zIndex||""==r.zIndex){var d=0;t("*:visible").filter(function(){return this.style.zIndex}).each(function(){this.style.zIndex<200&&(d=Math.max(d,this.style.zIndex))}),0==d&&(d=100),r.zIndex=d}e=this.uiDialog=this.element.show().removeAttr("title").wrap("<div></div>").addClass("aui-dialog-content-div").parent().addClass("aui-dialog-content").wrap("<div></div>").parent().addClass("aui-dialog").css({display:"none",outline:0,zIndex:r.zIndex,width:r.width,height:r.height}).attr("tabindex",0).keydown(function(e){r.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE&&(s.hide(e),e.preventDefault())}),n=(this.uiDialogTitlebar=t("<tr>")).addClass("aui-dialog-titlebar").bind("mousedown",function(){e.focus()}),i=t('<table class="aui-dialog-title-container" style="width:100%;">').prependTo(e).append(n),o=t("<div>").uniqueId().addClass("aui-dialog-title").addClass(r.extendTitleClass).html(l),n.append(t("<td>").append(o)),a=(this.uiDialogButtonPane=t("<div>")).addClass("aui-dialog-buttonpane"),(this.uiButtonSet=t("<div>")).addClass("aui-dialog-buttonset").appendTo(a),e.attr({role:"dialog","aria-labelledby":o.attr("id")}),s._createCaptionButtons(),n.find("*").add(n).disableSelection(),r.draggable?s._makeDraggable():n.css("cursor","auto"),r.resizable&&s._makeResizable(),s._createButtons(),this._on(e,{keydown:function(i){if(r.hasOverlay&&i.keyCode===t.ui.keyCode.TAB){var n=t(":tabbable",e),o=n.filter(":first"),a=n.filter(":last");return i.target!==a[0]||i.shiftKey?i.target===o[0]&&i.shiftKey?(a.focus(1),!1):void 0:(o.focus(1),!1)}}})},_resizeLayout:function(e){var t=e.data,i=t.uiDialog;i.css("top",(t.$window.height()-i.height())/2),i.css("left",(t.$window.width()-i.width())/2)},_createButtons:function(){var e=this,i=this.options,n=!1,o=i.buttons;"object"==typeof o&&null!==o&&t.each(o,function(){return!(n=!0)}),n?(t.each(o,function(n,o){var a,s,r="white";o=t.isFunction(o)?{click:o,text:n}:o,o=t.extend({type:"button"},o),s=o.click,o.click=function(){s.apply(e.element[0],arguments)},a=t("<button></button>",o).appendTo(e.uiButtonSet),t.each(i.theme,function(e,t){if(e==n)return void(r=t)}),t(a).button&&t(a).button({disabled:!1,theme:r}).css("margin-left","10px")}),this.uiDialog.addClass("aui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("aui-dialog-buttons")},_init:function(){},_destroy:function(){var e,i=this.oldPosition;this.overlay&&t("body").overlay("hide"),this.uiDialog.hide(),this.element.removeClass("aui-dialog-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=i.parent.children().eq(i.index),e.length&&e[0]!==this.element[0]?e.before(this.element):i.parent.append(this.element)},_makeDraggable:function(){function e(e,t){return{position:e.position,offset:e.offset,size:{height:t.height(),width:t.width()}}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".aui-dialog-content, .aui-dialog-titlebar-close",handle:".aui-dialog-titlebar",containment:this.options.containment,start:function(n,o){t(this).addClass("aui-dialog-dragging"),i._trigger("dragStart",n,e(o,t(this)))},drag:function(n,o){i._trigger("drag",n,e(o,t(this)))},stop:function(o,a){n.position=[a.position.left-i.document.scrollLeft(),a.position.top-i.document.scrollTop()],t(this).removeClass("aui-dialog-dragging"),i._trigger("dragStop",o,e(a,t(this)))}})},_makeResizable:function(e){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}e=void 0===e?this.options.resizable:e;var n=this,o=this.options,a=this.uiDialog.css("position"),s="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".aui-dialog-content",containment:this.options.containment,alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:s,start:function(e,o){t(this).addClass("aui-dialog-resizing"),n._trigger("resizeStart",e,i(o))},resize:function(e,t){n._trigger("resize",e,i(t))},stop:function(e,a){t(this).removeClass("aui-dialog-resizing"),o.height=t(this).height(),o.width=t(this).width(),n._trigger("resizeStop",e,i(a))}}).css("position",a).find(".aui-resizable-se").addClass("aui-icon aui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_createCaptionButtons:function(){var e,i=[],n=this,o=n.options,a={pin:{visible:!1,click:n.pin,position:{left:"-48px",top:"0px"}},toggle:{visible:!1,click:n.toggle,position:{left:"-84px",top:"0px"}},minimize:{visible:!1,click:n.minimize,position:{left:"-12px",top:"0px"}},maximize:{visible:!1,click:n.maximize,position:{left:"-24px",top:"0px"}},close:{visible:!0,click:n.close,position:{left:"0px",top:"0px"}}},s=o.captionButtons,r=n.uiDialogTitlebar;for(t.each(a,function(e,n){s&&s[e]&&t.extend(n,s[e]),i.push({button:e,info:n})}),e=0;e<i.length;e++)n._createCaptionButton(i[e],r)},_createCaptionButton:function(e,i,n){var o,a=this,s="aui-dialog-titlebar-"+e.button,r=i.children("."+s),l=e.info;if(l.visible){if(0===r.size()){if(o=t("<button></button>").addClass(s+" aui-dialog-captionbutton fi-close-bs").attr("role","button").click(function(e){return t.isFunction(l.click)&&l.click.apply(a,arguments),!1}),n)return o;i.append(t('<td style="width:30px">').append(o))}a[e.button+"Button"]=o}else r.remove()},pin:function(){var e=this.isPin,t=this.pinButton.children("img");if(e){t.removeClass("pin-s");var i=t.hasClass("aui-dialog-buttons-hover")?"-12px":"0px";t.css({left:"-48px",top:i})}else if(t.length&&!t.hasClass("pin-s")){t.addClass("pin-s");var i=t.hasClass("aui-dialog-buttons-hover")?"-12px":"0px";t.css({left:"-60px",top:i})}this._enableDisableDragger(!e),this.isPin=!e},toggle:function(){var e=this,t=e.toggleButton.children("img");if(!e.minimized)if(void 0!==e.collapsed&&e.collapsed){if(e.collapsed=!1,t.hasClass("fi-carat-1-s")){t.removeClass("fi-carat-1-s");var i=t.hasClass("aui-dialog-buttons-hover")?"-12px":"0px";t.css({left:"-84px",top:i})}e._expandDialogContent(!0)}else{if(e.collapsed=!0,!t.hasClass("fi-carat-1-s")){t.addClass("fi-carat-1-s");var i=t.hasClass("aui-dialog-buttons-hover")?"-12px":"0px";t.css({left:"-72px",top:i})}e._collapseDialogContent(!0)}},minimize:function(){var e,i,n,a,s=this,r=s.uiDialog,l=s.options,d=null,c=t("<div></div>"),u=t("<div></div>"),h={},_={},p="uiDialog";s.minimized||(i=s.uiDialog.position(),h.width=s.uiDialog.width(),h.height=s.uiDialog.height(),a=s.getState(),s.maximized?(s.maximized=!1,s.restoreButton.remove(),s.$window.unbind(".onWinResize")):(s.collapsed&&s._expandDialogContent(!1),s._saveNormalState()),s._enableDisableResizer(!0),s.collapsed&&s._collapseDialogContent(!1),c.appendTo(document.body).css({top:s.uiDialog.offset().top,left:s.uiDialog.offset().left,height:s.uiDialog.innerHeight(),width:s.uiDialog.innerWidth(),position:"absolute"}),s.element.hide(),s.uiDialogButtonPane.length&&s.uiDialogButtonPane.hide(),r.height("auto"),r.width("auto"),s._doButtonAction(s.minimizeButton,"hide"),s._restoreButton(!0,s.minimizeButton,"After"),s._doButtonAction(s.pinButton,"hide"),s._doButtonAction(s.refreshButton,"hide"),s._doButtonAction(s.toggleButton,"hide"),s._doButtonAction(s.maximizeButton,"show"),l.minimizeZoneElementId.length>0&&(d=t("#"+l.minimizeZoneElementId)),null!==d&&d.size()>0?d.append(s[p]):(e=t("."+o),0===e.size()&&(e=t('<div class="'+o+'"></div>'),t(document.body).append(e)),e.append(s[p]).css("z-index",r.css("z-index"))),s[p].addClass("aui-dialog-docking"),s[p].css("float","left"),u.appendTo(document.body).css({top:s[p].offset().top,left:s[p].offset().left,height:s[p].innerHeight(),width:s[p].innerWidth(),position:"absolute"}),s.uiDialog.hide(),c.effect("transfer",{to:u,className:"aui-widget-content"},100,function(){c.remove(),u.remove(),s[p].show(),s.minimized=!0,n=s.uiDialog.position(),_.width=s.uiDialog.width(),_.height=s.uiDialog.height(),s._enableDisableDragger(!0),s._trigger("resize",null,{originalPosition:i,originalSize:h,position:n,size:_}),s._trigger("stateChanged",null,{originalState:a,state:"minimized"})}))},maximize:function(){var e,t,i,n=this,o=n.$window,a={},s={};n.maximized||(n._enableDisableDragger(!1),e=n.uiDialog.position(),a.width=n.uiDialog.width(),a.height=n.uiDialog.height(),n.minimized?n.restore():(n.collapsed&&n._expandDialogContent(!1),n._saveNormalState(),i="normal"),n.maximized=!0,void 0!==n.maximizeButton&&(n.maximizeButton.hide(),n._restoreButton(!0,n.maximizeButton,"Before")),n._onWinResize(n,o),n.collapsed&&n._collapseDialogContent(!1),n.collapsed||n._enableDisableDragger(!0),n.uiDialog.resizable({disabled:!0}),n.uiDialog.removeClass("ui-state-disabled"),n.uiDialog.removeClass("aui-dialog-docking"),t=n.uiDialog.position(),s.width=n.uiDialog.width(),s.height=n.uiDialog.height(),n._trigger("resize",null,{originalPosition:e,originalSize:a,position:t,size:s}),"normal"===i&&n._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},close:function(){var e=this;e.options;e.hide(),$$.executeEventHandler(e,"closed",e.options.closed,null,$$.Event({element:e.element}))},restore:function(){var e,i,n,o=this,a=o.uiDialog,s={},r={},l=t("<div></div>"),d=t("<div></div>"),c="uiDialog";o.minimized?(o.minimized=!1,o._enableDisableDragger(!1),e=o[c].position(),s.width=o[c].width(),s.height=o[c].height(),l.appendTo(document.body).css({top:o[c].offset().top,left:o[c].offset().left,height:o[c].innerHeight(),width:o[c].innerWidth(),position:"absolute"}),a.removeClass("aui-dialog-docking"),a.css("float",""),o._appendToBody(a),o._enableDisableResizer(!1),o.isPin||o._enableDisableDragger(!1),o._restoreToNormal(),o.element.show(),o.uiDialogButtonPane.length&&o.uiDialogButtonPane.show(),d.appendTo(document.body).css({top:o.uiDialog.offset().top,left:o.uiDialog.offset().left,height:o.uiDialog.innerHeight(),width:o.uiDialog.innerWidth(),position:"absolute"}),o.uiDialog.hide(),l.effect("transfer",{to:d,className:"aui-widget-content"},150,function(){o.uiDialog.show(),i=o.uiDialog.position(),r.width=o.uiDialog.width(),r.height=o.uiDialog.height(),l.remove(),d.remove(),o.copy&&o.copy.remove(),o._trigger("resize",null,{originalPosition:e,originalSize:s,position:i,size:r}),n=o.getState(),o._trigger("stateChanged",null,{originalState:"minimized",state:n})}),o.collapsed&&o._collapseDialogContent(),o._doButtonAction(o.minimizeButton,"show"),o._doButtonAction(o.restoreButton,"remove"),o._doButtonAction(o.pinButton,"show"),o._doButtonAction(o.refreshButton,"show"),o._doButtonAction(o.toggleButton,"show")):o.maximized&&(o.maximized=!1,e=o.uiDialog.position(),s.width=o.uiDialog.width(),s.height=o.uiDialog.height(),t(window).unbind(".onWinResize"),o.collapsed&&o._expandDialogContent(),o._enableDisableResizer(!1),o.isPin||o._enableDisableDragger(!1),o._restoreToNormal(),o.element.show(),o.collapsed&&o._collapseDialogContent(),void 0!==o.maximizeButton&&(o.maximizeButton.show(),o._restoreButton(!1,o.maximizeButton,"before")),i=o.uiDialog.position(),r.width=o.uiDialog.width(),r.height=o.uiDialog.height(),o._trigger("resize",null,{originalPosition:e,originalSize:s,position:i,size:r}),n=o.getState(),o._trigger("stateChanged",null,{originalState:"maximized",state:n}))},getState:function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},_doButtonAction:function(e,t){void 0!==e&&e[t]()},_expandDialogContent:function(e){var t=this,i=t.options;t.uiDialog.height("auto"),t.element.show(),t.uiDialogButtonPane.length&&t.uiDialogButtonPane.show(),i.resizable&&t._enableDisableResizer(!1),t.uiDialog.css("height",t.toggleHeight)},_saveNormalState:function(){var e=this,t=e.uiDialog,i=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=i.css("height"),e.normalInnerWidth=i.css("width"),e.normalInnerMinWidth=i.css("min-width"),e.normalInnerMinHeight=i.css("min-height"))},_onWinResize:function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.width(t.width()),e.uiDialog.height(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.element.hide())},_size:function(){var t,i,n,o=this.options,a=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),o.minWidth>o.width&&(o.width=o.minWidth),t=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),i=Math.max(0,o.minHeight-t),"auto"===o.height?e.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),n=this.element.css("height","auto").height(),a||this.uiDialog.hide(),this.element.height(Math.max(n,i))):this.element.height(Math.max(o.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_restoreButton:function(e,t,i){var n=this,o={button:"restore",info:{visible:e,click:n.restore,position:{left:"-36px",top:"0px"}}},a=n._createCaptionButton(o,n.uiDialogTitlebar,!0);e&&(a["insert"+i](t),n.restoreButton=a)},_appendToBody:function(e){this.uiDialogTitlebar.prependTo(e),e.show()},_collapseDialogContent:function(e){var t=this,i=t.options;i.resizable&&t._enableDisableResizer(!0),t._toggleHeight=t.uiDialog[0].style.height,t.uiDialog.height("auto"),t.element.hide(),t.uiDialogButtonPane.length&&t.uiDialogButtonPane.hide(),t._enableDisableDragger(t.isPin)},_enableDisableResizer:function(e){var t=this.uiDialog;t.resizable({disabled:e}),e&&t.removeClass("ui-state-disabled")},_enableDisableDragger:function(e){var t=this.uiDialog;this.options.draggable&&(t.draggable({disabled:e}),e&&t.removeClass("ui-state-disabled"))},_restoreToNormal:function(){var e=this,t=e.uiDialog,i=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),i.css("height",e.normalInnerHeight),i.css("width",e.normalInnerWidth),i.css("min-width",e.normalInnerMinWidth),i.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()},_setOption:function(e,i){"title"==e&&t(".aui-dialog-title",this.uiDialogTitlebar).html(""+(i||"&#160;"))},show:function(e,t){var n=this,o=n.$window;0==arguments.length?this.uiDialog.css({top:(window.innerHeight-this.uiDialog.height())/2,left:(o.width()-this.uiDialog.width())/2}).show():this.uiDialog.css({top:void 0==e?(window.innerHeight-this.uiDialog.height())/2:e,left:void 0==t?(o.width()-this.uiDialog.width())/2:t}).show(),n.options.hasOverlay&&i({enabledElement:n.uiDialog,overlayBackground:n.options.overlayBackground,overlayOpacity:n.options.overlayOpacity,overlayZIndex:+n.options.zIndex-1}),$$.executeEventHandler(n,"opened",n.options.opened,null,$$.Event({element:n.element})),setTimeout(function(){n.uiDialog.focus(1)},200)},hide:function(){var e=this;this.uiDialog.hide(),this.options.hasOverlay&&(t("body").data("overlay")||t("body").data("auiOverlay"))&&n(),$$.executeEventHandler(e,"hidden",e.options.hidden,null,$$.Event({element:e.element}))}})}(jQuery)},function(e,t){!function(e){var t=e(document.documentElement),i=e(window);e.widget("aui.dropdown",{options:{dropdownClass:"aui-dropdown",of:null,my:"left top",at:"left bottom",within:window,autoOpening:!0,isLazy:!1,isWidthFrozen:!1},_create:function(){var t=this,i=t.element;if(!(this.options.of instanceof jQuery))throw'The "of" option can not be null.';i.addClass(t.options.dropdownClass),t.options.isLazy&&t.toggle(),t.element.addClass("aui-dropdown").attr("role","alert").focusloop().off("keyup"+t.eventNamespace).on("keyup"+t.eventNamespace,i,function(e){e.keyCode===af.Utils.KeyCode.ESC&&i.dropdown("close")}),t.options.of&&(t.accessibilityElement=t.options.of.find("[aria-expanded]")),e(window).off("scroll"+t.eventNamespace).on("scroll"+t.eventNamespace,t,function(e){!e.data.isOpening()||af.Utils.Device.ipad||af.Utils.Device.iphone||e.data.close()}),t.options.of.off("touchstart"+t.eventNamespace).on("touchstart"+t.eventNamespace,function(e){e.stopPropagation()})},_mousedown:function(t){var i=this,n=e(t.target);i.element[0]!=n[0]&&(e.contains(i.element[0],n[0])||!i.options.of||e.contains(i.options.of[0],n[0])||i.options.of[0]===t.target||i.close())},toggle:function(){var e=this,t=e.element;t.hasClass("aui-dropdown-visible")?e.close():e.open()},show:function(){this.open()},open:function(){var n=this,o=n.element;o.trigger("opening"),o.addClass("aui-dropdown-visible").position({of:n.options.of,my:n.options.my,at:n.options.at,collision:"flipfit flipfit",within:n.options.within}),n.options.of&&o.css(n.options.isWidthFrozen?"width":"min-width",e(n.options.of).outerWidth()),n.accessibilityElement&&n.accessibilityElement.attr("aria-expanded",!0),t.off("mousedown"+n.eventNamespace+" touchstart"+n.eventNamespace).on("mousedown"+n.eventNamespace+" touchstart"+n.eventNamespace,function(e){n._mousedown(e)}),i.off("resize"+n.eventNamespace).on("resize"+n.eventNamespace,function(e){o.position({of:n.options.of,my:n.options.my,at:n.options.at,collision:"flipfit flipfit",within:n.options.within})}),o.trigger("opened")},hide:function(){this.close()},close:function(){var e=this,i=e.element;i.trigger("closing"),i.removeClass("aui-dropdown-visible"),t.off("mousedown"+e.eventNamespace),e.accessibilityElement&&e.accessibilityElement.attr("aria-expanded",!1),i.trigger("closed")},isOpening:function(){return this.element.hasClass("aui-dropdown-visible")},reposition:function(){var e=this,t=e.element;t.trigger("opening"),t.position({of:e.options.of,my:e.options.my,at:e.options.at,collision:"flipfit flipfit",within:e.options.within})}})}(jQuery)},function(e,t){!function(e,t){"use strict";var i=t(window),n=30,o={DYNAMICGRID_CLASS:"aui-dynamicgrid",DYNAMICGRID_CONTAINER_CLASS:"aui-dynamicgrid-container",DYNAMICGRID_SCROLL_CONTAINER_CLASS:"aui-dynamicgrid-scroll-container",DYNAMICGRID_ITEM_CONTAINER_CLASS:"aui-dynamicgrid-item-container",
DYNAMICGRID_ITEM_CLASS:"aui-dynamicgrid-item",DYNAMICGRID_PREV_CONTAINER_CLASS:"aui-dynamicgrid-prev-container",DYNAMICGRID_PREV_ARROW_CLASS:"aui-icon-carousel-arrow-left",DYNAMICGRID_NEXT_CONTAINER_CLASS:"aui-dynamicgrid-next-container",DYNAMICGRID_NEXT_ARROW_CLASS:"aui-icon-carousel-arrow-right",HIDE_CLASS:"aui-display-none",UI_DRAGGBLE:"ui-draggable"},a={exchange:0,reorder:1};e.dynamicgrid=function(e){var i;switch(e=e.toLowerCase()){case"tileclass":i=o.DYNAMICGRID_ITEM_CLASS;break;case"sortmode":i=t.extend(!0,i,a)}return i},t.widget("aui.dynamicgrid",{options:{sortMode:null,width:null,height:"auto",tileWidth:200,tileHeight:200,padding:10,draggable:!1,contentTemplate:"",extraHeight:0,random:!1,hasAnimatation:!0,align:"left",interchanged:t.noop,viewModel:{items:ko.observableArray()}},_convertAlign:function(){var e=this,t=e.options.align.split(" ");e._horizontalAlign=t[0],e._verticalAlign=t[1]},_createMembers:function(){var e=this,t=e.element,i=(e.options.align.split(" "),e.options.padding);e._sortMode=a,e.options.sortMode=e.options.sortMode||e._sortMode.exchange,e._currentSortMode=e.options.sortMode,e._viewModel=e.options.viewModel,e._convertAlign(),e._delay=500,e._pageNo=1,e._hasAnimatation=e.options.hasAnimatation,e._draggable=e.options.draggable,e._random=e.options.random,e._contentTemplate=e.options.contentTemplate,e._gridPositions=[],e._grids=[],e._itemWidth=e.options.tileWidth,e._itemHeight=e.options.tileHeight,e._gridWidth=e._itemWidth+i,e.element.css("minWidth",e._gridWidth),e._gridHeight=e._itemHeight+i,e._itemX=(e._gridWidth-e._itemWidth)/2,e._itemY=(e._gridHeight-e._itemHeight)/2,e._row=Math.floor(t.height()/e._gridHeight)||1,e._pageColumn=Math.floor(t.width()/e._gridWidth)||1,e._pageUnfilled=t.width()-e._pageColumn*e._gridWidth,e._itemsCount=e._viewModel.items().length,e._pageCount=Math.ceil(e._itemsCount/(e._pageColumn*e._row)),e._max=e._pageColumn*e._row*e._pageCount,e._column=Math.ceil(e._max/e._row),e._tileItem=null,e._items=[],e._items.length=e._max,e._positionMapping=[],e._draggingItem=null},_create:function(){var e=this,t=e.element;e._extraHeight=e.options.extraHeight,e._parent=t.wrap('<div class="'+o.DYNAMICGRID_CONTAINER_CLASS+'"></div>').parent(),e._container=e._parent.wrap('<div class="'+o.DYNAMICGRID_CLASS+'"></div>').parent(),t.addClass(o.DYNAMICGRID_SCROLL_CONTAINER_CLASS),e._container.append('<div class="'+o.DYNAMICGRID_PREV_CONTAINER_CLASS+'"><div class="'+o.DYNAMICGRID_PREV_ARROW_CLASS+'"></div></div>'),e._container.append('<div class="'+o.DYNAMICGRID_NEXT_CONTAINER_CLASS+'"><div class="'+o.DYNAMICGRID_NEXT_ARROW_CLASS+'"></div></div>'),e._createMembers(),e._parent.css("minHeight",e._gridHeight),e._container.css("minWidth",e._gridWidth),t.append(e._tileContainerTemplate()),e._tileContainer=t.children('div[class="'+o.DYNAMICGRID_ITEM_CONTAINER_CLASS+'"]'),ko.applyBindings(e._viewModel,t[0]),e._prevArrowContainer=e._container.find('div[class="'+o.DYNAMICGRID_PREV_CONTAINER_CLASS+'"]').addClass(o.HIDE_CLASS),e._nextArrowContainer=e._container.find('div[class="'+o.DYNAMICGRID_NEXT_CONTAINER_CLASS+'"]'),e._initEvent()},_setOption:function(e,t){var i=this;switch(i.options[e]=t,e){case"align":i._convertAlign(),i._setContainerOffset();break;case"draggable":i.draggable(t)}},_initEvent:function(){var e=this,t=e._method,n=e.eventNamespace;i.on("resize"+n,e,t._onResize),e._nextArrowContainer.on("click"+n,this,t.nextArrowClick),e._prevArrowContainer.on("click"+n,this,t.prevArrowClick)},_tileContainerTemplate:function(){var e="";return e+='<div class="'+o.DYNAMICGRID_ITEM_CONTAINER_CLASS+'" data-bind="foreach: items">',e+='<div class="'+o.DYNAMICGRID_ITEM_CLASS+'" data-bind="attr:{index: $index}">'+this._contentTemplate+"</div>",e+="</div>"},_method:{prevArrowClick:function(e){var t=e.data;t._doPaging(!1)},nextArrowClick:function(e){var t=e.data;t._doPaging(!0)},_onResize:function(e){var t=e.data;t._updateItemsLayout(t._viewModel.items().length)}},_destroy:function(){var e=this,t=e.eventNamespace;i.off(t),e._viewModel.items=ko.observableArray(),e._tileContainer.remove(),e._prevArrowContainer.remove(),e._nextArrowContainer.remove(),e.element.removeClass(o.DYNAMICGRID_SCROLL_CONTAINER_CLASS).unwrap(),e._parent.removeClass().unwrap(),e._container.remove()}}),t.extend(t.aui.dynamicgrid.prototype,{_updateItemsLayout:function(e){var t=this,i=-1,n=-1,a=1,s=null,r=0;for(t._updateLayoutMember(e),a=t._pageColumn,t._setContainerOffset(),t._tileItem=t._tileContainer.children();r<t._max;r++)r%a==0&&(n++,n%t._row==0?n=0:i-=a),i++,r<t._itemsCount&&(t._items[r]=t._tileItem.filter('[index="'+r+'"]')),s=t._items[r],null==s||s.hasClass(o.UI_DRAGGBLE)||(s.css({width:t._itemWidth,height:t._itemHeight}).draggable({containment:t._parent,zIndex:2}),s.touchdrag&&s.touchdrag(),s.on("dragstart",t,t._onDragStart).on("dragstop",t,t._onDragStop).on("start",t,t._onDragStart).on("drag",t,t._drag).on("stop",t,t._onDragStop),t._draggable||s.draggable("disable")),t._measure(r,i,n),t._arrange(r)},_setContainerOffset:function(){var e=this,t=0;switch(e._horizontalAlign){case"center":t=(e._container.width()-e.element.width())/2;break;case"right":t=e._container.width()-e.element.width()}t=t<0?0:t,e._parent.css("left",t)},_measure:function(e,t,i){var n=this,o=t*n._gridWidth,a=i*n._gridHeight;n._gridPositions[e]={x:o,y:a},n._positionMapping[e]=t+i*n._column},_arrange:function(e){var t=this,i=(t._grids[e],t._items[e]),n=t._gridPositions[e];null!=i&&i.css({left:n.x+t._itemX,top:n.y+t._itemY})},_getPosition:function(e){for(var t=this,i=0,n=t._positionMapping,o=n.length;i<o&&n[i]!=e;i++);return i},_getArrangeIndex:function(){for(var e=this,t=[],i=0,n=(e._items,e._itemsCount);i<n;i++)t[i]=e._tileItem[i].getAttribute("index")-0;return t}}),t.extend(t.aui.dynamicgrid.prototype,{_setItemsSource:function(e){var t=this;t._viewModel.items(ko.mapping.fromJS(e)()),t._updateItemsLayout(e.length)},_updateLayoutMember:function(e){var t=this,a=0,s=0,r=0,l=t._gridWidth,d=t._pageCount,c=o.HIDE_CLASS,u=t._container;t._itemsCount=e,"auto"==t.options.height?t._parent.height(i.height()-n-t._extraHeight):t._parent.height(t.options.height),t.options.width&&u.width(t.options.width),s=t._row=Math.floor(u.height()/t._gridHeight),r=t._pageColumn=Math.floor(u.width()/l),a=l*r,t._pageNo=1,t.element.scrollLeft(0),t._prevArrowContainer.addClass(c),d=t._pageCount=Math.ceil(t._itemsCount/(r*s)),1==t._pageCount?t._nextArrowContainer.addClass(c):t._nextArrowContainer.removeClass(c),t._max=r*s*d,t._column=Math.ceil(t._max/s),t._items.length=t._max,t._parent.width(a),t._tileContainer.width(a*d),t._pageUnfilled=t._container.width()-r*l,t._nextArrowContainer.css("right",t._pageUnfilled-40),t._nextArrowContainer.css("right",-40)},_sortItems:function(e){for(var t=this,i=0,n=[],o=t._tileItem,a=o.length;i<a;i++)n[o[i].getAttribute("index")]=e[i];return n},itemsSource:function(e){var t=this;return null==e?t._sortItems(ko.mapping.toJS(t._viewModel.items)):void t._setItemsSource(e)}}),t.extend(t.aui.dynamicgrid.prototype,{pageCount:function(){return this._pageNo},_startTimer:function(e,t,i){var n=this;n._clearTimer(),n._timer=setInterval(function(){var i=n.element.width(),o=n._draggingItem,a=0,s=0;n._wiiPaging?(n._doPaging(e),a=n._pageNo,o&&(e?(s=Math.floor(t/i)+1,t+=(a-s)*i):(s=Math.floor(t/i)+1,t-=(s-a)*i),o.css("left",t))):n._clearTimer()},n._delay)},_clearTimer:function(){var e=this,t=e._timer;e._isRepeat=!1,null!=t&&clearInterval(t)},_doPaging:function(e){var t=this,i=t.element,n=t._pageNo,a=t._pageCount,s=a-1,r=parseInt(i.scrollLeft()),l=t._prevArrowContainer,d=t._nextArrowContainer,c=t._pageColumn*t._gridWidth;e?n<a&&(n=++t._pageNo,i.scrollLeft(r+c),2==n&&l.removeClass(o.HIDE_CLASS),n==a&&d.addClass(o.HIDE_CLASS)):n>1&&(n=--t._pageNo,i.scrollLeft(r-c),n==s&&d.removeClass(o.HIDE_CLASS),1==n&&l.addClass(o.HIDE_CLASS))}}),t.extend(t.aui.dynamicgrid.prototype,{draggable:function(e){var t=this;return null==e?t._draggable:(t._draggable=t.options.draggable=e,void t._changeDraggable(e))},_changeDraggable:function(e){for(var t=this,i=0,n=t._itemsCount;i<n;i++)t._items[i]&&(e===!0?(t._items[i].draggable&&t._items[i].draggable("enable"),t._items[i].touchdrag&&t._items[i].touchdrag("enable")):(t._items[i].draggable&&t._items[i].draggable("disable"),t._items[i].touchdrag&&t._items[i].touchdrag("disable")))},_drag:function(e,t){var i=e.data;i._currentSortMode==a.exchange?i._exchangeDrag(i,t):i._reorderDrag(i,t)},_reorderDrag:function(e,t){if(t){var i=e.element.width(),n=i*(e._pageNo-1),o=i*e._pageNo-e._itemWidth,a=0,s=t.position.left;s<n?s=t.position.left=s+n:s>=o&&(a=Math.floor(s/i)+1,s=t.position.left=s-(a-e._pageNo)*i),e._tileLeft==s?s==n?(e._wiiPaging=!0,e._startTimer(!1,s,n)):s==o&&(e._wiiPaging=!0,e._startTimer(!0,s,n)):e._wiiPaging=!1,e._tileLeft=s}},_exchangeDrag:function(e,t){if(t){var i=e.element.width(),n=i*(e._pageNo-1),o=i*e._pageNo-e._itemWidth,a=0,s=t.position.left;s<n?s=t.position.left=s+n:s>=o&&(a=Math.floor(s/i)+1,s=t.position.left=s-(a-e._pageNo)*i),e._tileLeft==s?s==n?(e._wiiPaging=!0,e._startTimer(!1,s,n)):s==o&&(e._wiiPaging=!0,e._startTimer(!0,s,n)):e._wiiPaging=!1,e._tileLeft=s}},_onDragStart:function(e){var i=e.data,n=t(e.target);n&&(n.css("zIndex",2),i._draggingItem=n,i._dragIndex=n.attr("index"),i._updateItemsArray())},_updateItemsArray:function(){var e,t=this,i=t._items,n=t._itemsCount;if(void 0!==i[n])for(e=i.length;n<e;n++)i[n]=void 0},_onDragStop:function(e,t){var i=e.data;i._currentSortMode==a.exchange?i._exchangeDragStop(e,t):i._reorderDragStop(e,t)},_shiftLeft:function(e,t){var i=this,n=i._items,o=i._gridPositions;for(++t-++e;e<t;e++)i._moveToPosition(n[e],o[e-1],e-1)},_shiftRight:function(e,t){var i=this,n=i._items,o=i._gridPositions;for(--e- --t;e>t;e--)i._moveToPosition(n[e],o[e+1],e+1)},_moveToPosition:function(e,t,i){var n=this;e&&(n.draggable(!1),e.animate({left:t.x+n._itemX,top:t.y+n._itemY},function(){n.draggable(!0)}).attr("index",i),n._items[i]=e)},_reorderDragStop:function(t,i){var n=t.data,o=i.helper,a=o.attr("index"),s=null,r=(n._gridPositions[n._dragIndex],null),l=i.position.left+o.width()/2,d=i.position.top+o.height()/2,c=Math.floor(l/n._gridWidth),u=Math.floor(d/n._gridHeight),h=c+u*n._column;n._wiiPaging=!1,n._draggingItem&&(n._draggingItem=null),o.css("zIndex",0),h=n._getPosition(h),s=n._items[h],r=n._gridPositions[h],a<h?n._shiftLeft(a,h):a>h&&n._shiftRight(a,h),n._random||null!=r&&null!=s||(h=n._tileItem.length-1,r=n._gridPositions[h]),o.css({left:r.x+n._itemX,top:r.y+n._itemY}),o.attr("index",h),n._items[h]=o,n._hasAnimatation||e.executeEventHandler(n," interchanged",n.options.interchanged,t,e.Event({element:n.element}))},deleteTile:function(e){this.deleteTileByIndex(e.closest('[class~="'+o.DYNAMICGRID_ITEM_CLASS+'"]').attr("index"))},deleteTileByIndex:function(e){var i=this,n=i._tileItem.length-1;t.isNumeric(e)&&e<=n&&(--i._itemsCount,i._items[e].remove(),i._tileItem=i._tileContainer.children(),i._shiftLeft(e,n))},_exchangeDragStop:function(t,i){var n=t.data,o=i.helper,a=o.attr("index"),s=null,r=n._gridPositions[n._dragIndex],l=null,d=i.position.left+o.width()/2,c=i.position.top+o.height()/2,u=Math.floor(d/n._gridWidth),h=Math.floor(c/n._gridHeight),_=u+h*n._column;n._wiiPaging=!1,n._draggingItem&&(n._draggingItem=null),o.css("zIndex",0),_=n._getPosition(_),s=n._items[_],l=n._gridPositions[_],null!=s&&a!=_&&(s.attr("index",a),n._hasAnimatation?(n.draggable(!1),s.animate({left:r.x+n._itemX,top:r.y+n._itemY},function(){n.draggable(!0),e.executeEventHandler(n," interchanged",n.options.interchanged,t,e.Event({element:n.element}))})):s.css({left:r.x+n._itemX,top:r.y+n._itemY})),null!=l&&n._random||null!=s?(n._items[n._dragIndex]=s,o.css({left:l.x+n._itemX,top:l.y+n._itemY}),o.attr("index",_),n._items[_]=o):o.css({left:r.x+n._itemX,top:r.y+n._itemY}),n._hasAnimatation||e.executeEventHandler(n," interchanged",n.options.interchanged,t,e.Event({element:n.element}))}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=-1,n={EVENT_CALENDAR_CLASS:"aui-event-calendar",MONTH_VIEW_CLASS:"aui-ecalendar-month-view",MONTH_VIEW_HEADER_CLASS:"aui-ecalendar-month-header",MONTH_VIEW_PAGING_CLASS:"aui-ecalendar-month-paging",MONTH_PAGING_CELL_CLASS:"aui-ecalendar-month-paging-cell",MONTH_PAGING_YEAR_CLASS:"aui-ecalendar-month-paging-year",MONTH_PAGING_ICON:"aui-ecalendar-month-paging-icon",MONTH_LEFT_CLASS:"fi-circle-arrow-left-bs",MONTH_RIGHT_CLASS:"fi-circle-arrow-right-bs",MONTH_CELL_CURRENT_CLASS:"aui-ecalendar-month-cell-current",CICLE_ICON_CLASS:"fi-circle-b",DOWN_ICON_CLASS:"fi-arrow-down-bs",UP_ICON_CLASS:"fi-arrow-up-bs",MONTH_VIEW_PAGING_CELL:"aui-ecalendar-month-paging-cell",MONTH_VIEW_PAGING_CELL_SELECTED_CLASS:"aui-ecalendar-month-paging-cell-selected",MONTH_VIEW_TITLE_CELL_CLASS:"aui-ecalendar-month-title-cell",MONTH_VIEW_CELL_CLASS:"aui-ecalendar-month-cell",MONTH_VIEW_CELL_TITLE_CLASS:"aui-ecalendar-month-cell-title",MONTH_VIEW_CELL_TITLE_SELECTED_CLASS:"aui-ecalendar-month-cell-title-selected",MONTH_VIEW_CELL_SELECTED_CLASS:"aui-ecalendar-month-cell-selected",MONTH_VIEW_CELL_CONTENT_CLASS:"aui-ecalendar-month-cell-content",MONTH_VIEW_CELL_CONTENT_ACTION_CLASS:"aui-ecalendar-month-cell-content-action",MONTH_VIEW_CELL_FOOTER_CLASS:"aui-ecalendar-month-cell-footer",MONTH_VIEW_CELL_FOOTER_SELECTED_CLASS:"aui-icon-event-calendar-selected",MONTH_VIEW_CELL_CONTENT_TITLE_CLASS:"aui-ecalendar-month-cell-content-title",MONTH_VIEW_CELL_CONTENT_TASK_CLASS:"aui-ecalendar-month-cell-content-task",MONTH_VIEW_CELL_CONTENT_TASK_COLLAPSE_CLASS:"aui-ecalendar-month-cell-content-task-collapse",MONTH_VIEW_CELL_CONTENT_TASK_SHOW_CLASS:"aui-ecalendar-month-cell-content-task-show",MONTH_VIEW_CELL_TEMPLATE_CLASS:"aui-ecalendar-month-cell-template",MONTH_VIEW_FETURE_PAST_CELL_CLASS:"aui-ecalendar-month-future-past-cell",WEEK_VIEW_CLASS:"aui-ecalendar-week-view",DAY_VIEW_CLASS:"aui-ecalendar-day-view"},o=e.I18N.gcalendar.shortMonths||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e.I18N.gcalendar.middleweeks||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=e.I18N.gcalendar.shortweeks||["Su","Mo","Tu","We","Th","Fr","Sa"],r=e.I18N.gcalendar.weeks||["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];t.widget("aui.eventcalendar",{mPagingLeftId:"aui-ec-m-p-left-",mPagingRightId:"aui-ec-m-p-right-",mYearId:"aui-ec-m-year-",_calendarDays:[],_calendarDayCount:42,_currentDay:null,_past:0,_future:0,_year:0,_month:0,_day:0,_items:null,_selectedItems:[],options:{displayName:null,tasksName:null,tasksTemplate:null,monthEventToolTipTemplate:null,monthCellTemplate:null,maxShowCount:2,viewModel:{},paging:t.noop,monthCellClick:t.noop},_create:function(){var e=this;e._isCreate=!0,e._initMembers()._calculateCalendarDay()._createCalendar()._loaded()._updateMonthTitle()._initEvent()._applyBinding()._initData()},_initId:function(){++i,this.mPagingLeftId+=i,this.mYearId+=i,this.mPagingRightId+=i},_initMembers:function(){var e=this;return this._initId(),e.element.addClass(n.EVENT_CALENDAR_CLASS),e._currentDay=new Date,null!=e.options.monthCellTemplate&&"string"==typeof e.options.monthCellTemplate||(e.options.monthCellTemplate=e._defaultMonthCellTemplate()),e.options.viewModel.weeks=ko.observableArray(),ko.isObservable(e.options.viewModel.items)||(e.options.viewModel.items=ko.observableArray()),e._items=e.options.viewModel.items,e._items.subscribe(e._onItemsChanged,{self:e}),e},_createCalendar:function(){var e=this;return e.element.append(e._createMonthView()),e.$monthHeaderCell=e.element.find("."+n.MONTH_VIEW_TITLE_CELL_CLASS),e._updateMonthWeeks(),e},_createMonthView:function(){var e=this,t=-1,i=[];return i[++t]="<div>",i[++t]=e._createMonthPaging(),i[++t]=e._createMonth(),i[++t]="</div>",i.join("")},_createMonthPaging:function(){var e=-1,t=[];return t[++e]='<div class="'+n.MONTH_VIEW_HEADER_CLASS+'">',t[++e]='<div class="'+n.MONTH_VIEW_PAGING_CLASS+'">',t[++e]='<div id="'+this.mPagingLeftId+'" class="'+n.MONTH_PAGING_CELL_CLASS+" "+n.MONTH_PAGING_ICON+" "+n.MONTH_LEFT_CLASS+'"></div>',t[++e]='<div id="'+this.mYearId+'" class="'+n.MONTH_PAGING_CELL_CLASS+" "+n.MONTH_PAGING_YEAR_CLASS+'"></div>',t[++e]='<div id="'+this.mPagingRightId+'" class="'+n.MONTH_PAGING_CELL_CLASS+" "+n.MONTH_PAGING_ICON+" "+n.MONTH_RIGHT_CLASS+'"></div>',t[++e]="</div>",t[++e]="</div>",t.join("")},_defaultMonthCellTemplate:function(){var e=-1,t=[];return t[++e]='<div class="'+n.MONTH_VIEW_CELL_TEMPLATE_CLASS+'">',t[++e]="</div>",t.join("")},itemsSource:function(e,t,i){var n=this;return null!=i&&n._calculateCalendarDay(i)._selectedMonth(n._month),void 0===e?ko.mapping.toJS(n._items):(n._items(ko.mapping.fromJS(e)()),void(t===!0&&(n._selectedItems=[])))},_onItemsChanged:function(){this.self._initData()},_isCurrentDay:function(e){var t=new Date,i=t.getDate(),n=t.getMonth(),o=t.getFullYear(),a=!1;return o==e._year()&&n==e._month()&&i==e._day()&&(a=!0),a},_initData:function(){var e,t,i,o=this,a=o._past,s=o._future,r=o.options.tasksName,l=o.options.maxShowCount,d=0,c=!1,u=null;for(null==r&&(r="_noTask"),o.options.viewModel.weeks.removeAll(),e=0;e<6;e++){var h=0,_=ko.observableArray();for(t=0;t<7;t++){var p=o._month;c=!1,d<a?(h=1,p--):d>s?(h=1,p++):h=0,o._items()[d]||(o._items()[d]={},o._items()[d][r]=ko.observableArray()),i=o._items()[d],i._row=ko.observable(e),i._index=ko.observable(d),i._more=ko.observable(i[r]().length-l),i._isFutureOrPast=ko.observable(h),i._month=ko.observable(p),i._day=ko.observable(o._calendarDays[d]),i._year=ko.observable(o._year),o._day==o._calendarDays[d]&&p==o._month&&(c=!0),i._isCurrentDay=ko.observable(o._isCurrentDay(i)),_.push(i),d++}o.options.viewModel.weeks.push({days:_})}return u=setInterval(function(){clearInterval(u),o.$monthCell=o.element.find('[class~="'+n.MONTH_VIEW_CELL_CLASS+'"]').off().on("click",o,o._onMonthCellClick),o.$monthCellContent=o.$monthCell.children('[class~="'+n.MONTH_VIEW_CELL_CONTENT_CLASS+'"]'),o.$monthCellAction=o.$monthCellContent.find('div[class~="'+n.MONTH_VIEW_CELL_CONTENT_ACTION_CLASS+'"]').off().on("keydown",o,o._onMonthCellActionKeydown).on("click",o,o._onMonthCellActionClick),o.$monthCellActionContent=o.$monthCellAction.children("span:odd"),o.$monthCellActionSubContent=o.$monthCellAction.children("span:even"),o.$monthCellActionIcon=o.$monthCellAction.children("div"),o.$monthCellTask=o.$monthCell.find('div[class~="'+n.MONTH_VIEW_CELL_CONTENT_TASK_CLASS+'"]'),o._isCreate&&(o._isCreate=!1,o._onPaging())},10),o},_onMonthCellActionKeydown:function(e){switch(e.stopPropagation(),e.which){case t.ui.keyCode.ENTER:t(e.target).click();break;case t.ui.keyCode.SPACE:e.preventDefault()}},_onMonthCellActionClick:function(e){e.stopPropagation();var t,i=e.data,o=this.getAttribute("data-mode"),a=this.getAttribute("data-row");t=i.$monthCellTask.filter("[data-row="+a+"]"),"more"==o?(t.addClass(n.MONTH_VIEW_CELL_CONTENT_TASK_SHOW_CLASS),i.$monthCellAction.filter("[data-row="+a+"]").attr("data-mode","less"),i.$monthCellActionSubContent.filter("[data-row="+a+"]").hide(),i.$monthCellActionContent.filter("[data-row="+a+"]").text(" show less"),i.$monthCellActionIcon.filter("[data-row="+a+"]").removeClass(n.DOWN_ICON_CLASS).addClass(n.UP_ICON_CLASS),i.$monthCell.filter("[data-row="+a+"]").height(i.$monthCell.filter("[data-row="+a+"]").height())):(t.removeClass(n.MONTH_VIEW_CELL_CONTENT_TASK_SHOW_CLASS),i.$monthCellAction.filter("[data-row="+a+"]").attr("data-mode","more"),i.$monthCellActionSubContent.filter("[data-row="+a+"]").show(),i.$monthCellActionContent.filter("[data-row="+a+"]").text(" more"),i.$monthCellActionIcon.filter("[data-row="+a+"]").removeClass(n.UP_ICON_CLASS).addClass(n.DOWN_ICON_CLASS),i.$monthCell.filter("[data-row="+a+"]").height(""))},_createMonth:function(){var e=this,t=-1,i=e.options,o=(i.displayName,i.tasksName),a=i.tasksTemplate,s=e.options.maxShowCount,r=[];return r[++t]='<table class="'+n.MONTH_VIEW_CLASS+'">',r[++t]="<thead>",r[++t]="<tr>",r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]='<th class="'+n.MONTH_VIEW_TITLE_CELL_CLASS+'" unselectable="on"></th>',r[++t]="</tr>",r[++t]="</thead>",r[++t]='<tbody data-bind="foreach:weeks">',r[++t]='<tr data-bind="foreach:days">',r[++t]='<td class="'+n.MONTH_VIEW_CELL_CLASS+"\" data-bind=\"attr:{index:_index,'data-row':_row},css:{'"+n.MONTH_VIEW_FETURE_PAST_CELL_CLASS+"': _isFutureOrPast()>0}\">",r[++t]=e.options.monthCellTemplate,r[++t]='<div class="'+n.MONTH_VIEW_CELL_CONTENT_CLASS+'" data-bind="attr:{index:_index}">',r[++t]='<div class="'+n.MONTH_VIEW_CELL_TITLE_CLASS+'">',r[++t]='<span data-bind="text:_day"></span>',r[++t]="<!-- ko if: _isCurrentDay -->",r[++t]='<div class="'+n.MONTH_CELL_CURRENT_CLASS+" "+n.CICLE_ICON_CLASS+'"></div>',r[++t]="<!-- /ko -->",r[++t]="</div>",r[++t]='<div class="'+n.MONTH_VIEW_CELL_CONTENT_TITLE_CLASS+'" ></div>',null!=o&&null!=a&&(r[++t]='<div data-bind="foreach:'+o+'">',r[++t]='<div class="'+n.MONTH_VIEW_CELL_CONTENT_TASK_CLASS+"\" data-bind=\"attr:{'data-row':$parent._row},css:{'"+n.MONTH_VIEW_CELL_CONTENT_TASK_COLLAPSE_CLASS+"': $index()>="+s+'}">'+a+"</div>",r[++t]="</div>",r[++t]='<div style="position:relative;height:44px;"></div>',r[++t]='<div style="position:absolute;height:44px;bottom:0;width:100%;">',r[++t]='<div class="'+n.MONTH_VIEW_CELL_CONTENT_ACTION_CLASS+'" tabindex="0" data-bind="visible:('+o+"().length >"+s+'),attr:{\'data-row\':_row}" data-mode="more">',r[++t]="<span data-bind=\"text:_more,attr:{'data-row':_row}\"></span>",r[++t]="<span data-bind=\"attr:{'data-row':_row}\"> more</span>",r[++t]='<div data-bind="attr:{\'data-row\':_row}" class="'+n.DOWN_ICON_CLASS+'"></div>',r[++t]="</div>",r[++t]="</div>",r[++t]='<div class="'+n.MONTH_VIEW_CELL_FOOTER_CLASS+" "+n.MONTH_VIEW_CELL_FOOTER_SELECTED_CLASS+'"></div>'),r[++t]="</div>",r[++t]="</td>",r[++t]="</tr>",r[++t]="</tbody>",r[++t]="</table>",r.join("")},setDate:function(e){var t=this;t._calculateCalendarDay(e)._selectedMonth(t._month)._initData()},_updateMonthTitle:function(){return this.$mYear.text(o[this._month]+" "+this._year),this},_calculateCalendarDay:function(e){var t=this,i=null,e=e||new Date,n=e.getFullYear(),o=e.getDay(),a=e.getDate(),s=e.getMonth(),r=a%7,l=o-r+1,d=0,c=0,u=0,h=0;for(i=new Date(n,s,a),t._month=s,t._year=n,t._day=a,l<=0&&(l+=7),t._past=l,i.setDate(0),d=i.getDate(),i.setDate(1),i.setMonth(s+1),i.setDate(0),c=i.getDate(),t._future=l+c-1,h=l-1;h>=0;h--)t._calendarDays[h]=d,d--;for(h=0;h<=c;h++)t._calendarDays[h+l]=h+1;for(u=t._calendarDayCount-c-l,h=0;h<u;h++)t._calendarDays[h+l+c]=h+1;return t},_selectedMonth:function(e){var t=this;return t},_createWeekView:function(){},_createDayView:function(){},_loaded:function(){var e=this;return e.$mLastMonth=e.element.find("#"+this.mPagingLeftId),e.$mNextMonth=e.element.find("#"+this.mPagingRightId),e.$mYear=e.element.find("#"+this.mYearId),e},_initEvent:function(){var e=this.eventNamespace;return t(window).on("resize"+e,this,this._onWindowResize),this.$mLastMonth.on("click"+e,this,this._onPreMonthClick),this.$mNextMonth.on("click"+e,this,this._onNextMonthClick),this},_applyBinding:function(){var e=this;return ko.applyBindings(e.options.viewModel,e.element[0]),e},_onWindowResize:function(e){e.data._updateMonthWeeks()},_updateMonthWeeks:function(){var e=0,i=r,n=this.$monthHeaderCell.width();for(n<=80&&n>40?i=a:n<=40&&(i=s);e<7;e++)t(this.$monthHeaderCell[e]).text(i[e])},_onPreMonthClick:function(e){var t=e.data,i=new Date,n=t._year,o=t._month-1;i.setFullYear(n),i.setDate(1),i.setMonth(o),t._calculateCalendarDay(i)._updateMonthTitle(),t._items.removeAll(),t._onPaging()},_onNextMonthClick:function(e){var t=e.data,i=new Date,n=t._year,o=t._month+1;i.setFullYear(n),i.setDate(1),i.setMonth(o),t._calculateCalendarDay(i)._updateMonthTitle(),t._items.removeAll(),t._onPaging()},_onPaging:function(){this._trigger("paging",null,e.Event({element:this.element,newValue:{start:new Date(this._year,this._month-1,this._calendarDays[0]),end:new Date(this._year,this._month+1,this._calendarDays[41]),month:this._month}}))},_onMonthCellClick:function(t){var i,o,a=t.data,s=-1,r=this.getAttribute("index")-0;t.ctrlKey||(a.$monthCellContent.removeClass(n.MONTH_VIEW_CELL_SELECTED_CLASS),a._selectedItems.splice(0,a._selectedItems.length)),i=a._items()[r],o=a.$monthCellContent.filter("[index="+r+"]"),o.hasClass(n.MONTH_VIEW_CELL_SELECTED_CLASS)?(s=o.attr("data-selected-index")-0,s>-1&&delete a._selectedItems[s],o.removeAttr("data-selected-index").removeClass(n.MONTH_VIEW_CELL_SELECTED_CLASS)):(a._selectedItems.push({date:new Date(i._year(),i._month(),i._day()),item:i}),o.attr("data-selected-index",a._selectedItems.length-1).addClass(n.MONTH_VIEW_CELL_SELECTED_CLASS)),a._trigger("monthCellClick",null,e.Event({element:a.element,newValue:ko.mapping.toJS(a._selectedItems)}))},_trigger:function(e,i,n){var o=this;return n&&(n.type="eventcalendar"),o.element.trigger(e,n),t.Widget.prototype._trigger.call(o,e,i,n)},_destroy:function(){this._trigger("destroy",null,e.Event({element:this.element}))},getSelectedItems:function(){return this._selectedItems},getDateRange:function(){var e=this;return{start:new Date(e._year,e._month-1,e._calendarDays[0]),end:new Date(e._year,e._month+1,e._calendarDays[41]),month:e._month}}})}(AUI,jQuery),$.extend($.aui.eventcalendar.prototype,{}),$.extend($.aui.eventcalendar.prototype,{})},function(e,t){!function(e){window.af.Floaters=window.af.Floaters||{},window.af.Floaters.CONSTENTS={FLOATER:"aui-floater"},e.widget("aui.floater",{options:{},_create:function(){var t=this,i=t.element,n=i.offset().top,o=i.width();i.width(o);var a=e(document).on("scroll",function(e){var t=a.scrollTop();t>=n?i.addClass("aui-floater-fixed"):i.removeClass("aui-floater-fixed")})}})}(jQuery)},function(e,t){!function(e,t){"use strict";function i(e){var t=e.match,i=e.iFormat.f,n=e.iFormat.i,o=n+1<i.length&&i.charAt(n+1)==t;return o&&e.iFormat.i++,o}function n(e){var t=e.match,n=e.value,o=e.len,a=""+n;if(i({match:t,iFormat:e.iFormat}))for(;a.length<o;)a="0"+a;return a}function o(t){var o=t.date,a=t.iFormat.f,s=a.length,r="";if(t.iFormat.i=0,o)if(t.useBrowserFormat)r=t.hasTimePicker?o.toLocaleString():o.toLocaleDateString();else for(;t.iFormat.i<s;t.iFormat.i++){var l={match:"default",value:0,len:2,iFormat:t.iFormat};switch(a.charAt(t.iFormat.i)){case"d":l.match="d",l.value=o.getDate(),r+=n(l);break;case"M":a.indexOf("MMM")!=-1?(r+=e.I18N.gcalendar.shortMonths[o.getMonth()],t.iFormat.i+=2):(l.match="M",l.value=o.getMonth()+1,r+=n(l));break;case"y":l.match="y",l.value=o.getMonth()+1,r+=i(l)?o.getFullYear():(o.getYear()%100<10?"0":"")+o.getYear()%100;break;case"h":l.match="h",a.indexOf("tt")==-1?(l.value=o.getHours(),r+=n(l)):(l.value=o.getHours()>12?o.getHours()-12:o.getHours(),r+=n(l));break;case"m":l.match="m",l.value=o.getMinutes(),r+=n(l);break;case"s":l.match="s",l.value=o.getSeconds(),r+=n(l);break;case"t":r+=o.getHours()>12?"PM":"AM",t.iFormat.i++;break;default:r+=a.charAt(t.iFormat.i)}}else r="";return r}function a(t){var i,n="";return t&&e.isDate(t.date)&&("boolean"!=typeof t.hasTime&&(t.hasTime=!0),i=t.hasTime?t.format||"dd/MM/yy hh:mm":t.format||"dd/MM/yy",t.iFormat={f:i},n=o(t)),n}ko&&ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.gcalendar={update:function(e,i,n){var o=ko.toJS(ko.unwrap(i()));t(e).gcalendar(o)}});var s=-1,r=e.I18N.gcalendar.shortCapitalMonths||["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],l=e.I18N.gcalendar.months||["January","February","March","April","May","June","July","August","September","October","November","December"],d=e.I18N.gcalendar.shortMonths||["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=e.I18N.gcalendar.shortweeks||["Su","Mo","Tu","We","Th","Fr","Sa"],u={month:0,year:1,decade:2},h={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},_={CALENDAR_CLASS:"aui-gcalendar",HEADER_CLASS:"aui-gcalendar-header",TITLE_CLASS:"aui-gcalendar-title",LEFT_ARROW_CLASS:"aui-gcalendar-left",LEFT_ARROW_ICON_CLASS:"fi-triangle-left-bs",RIGHT_ARROW_CLASS:"aui-gcalendar-right",RIGHT_ARROW_ICON_CLASS:"fi-triangle-right-bs",YEAR_VIEW_CLASS:"aui-gcalendar-year-view",DECADE_VIEW_CLASS:"aui-gcalendar-decade-view",DECADE_VIEW_CONTENT_CLASS:"aui-gcalendar-decade-view-content",DECADE_ITEM_CLASS:"aui-gcalendar-decade-item",YEAR_VIEW_CONTENT_CLASS:"aui-gcalendar-year-view-content",YEAR_ITEM_CLASS:"aui-gcalendar-year-item",YEAR_SELECTED_CLASS:"aui-gcalendar-year-selected",VIEW_CONTAINER:"aui-gcalendar-view-container",MONTH_VIEW_TABLE_CLASS:"aui-gcalendar-month-table",MONTH_VIEW_HEADER_CLASS:"aui-gcalendar-month-header",MONTH_HEADER_ITEM_CLASS:"aui-gcalendar-month-header-item",MONTH_VIEW_CONTENT_CLASS:"aui-gcalendar-month-content",MONTH_ITEM_CLASS:"aui-gcalendar-month-item",MONTH_ITEM_TEXT_CLASS:"aui-gcalendar-month-item-text",MONTH_ITEM_CIRCLE_CLASS:"aui-gcalendar-month-item-circle",MONTH_ITEM_PAST_CLASS:"aui-gcalendar-past-item",MONTH_ITEM_FEATURE_CLASS:"aui-gcalendar-month-feature-item",MONTH_ITEM_CURRENT_CLASS:"aui-gcalendar-month-current-item",MONTH_ITEM_SELECTED_CLASS:"aui-gcalendar-month-selected-item"};e.gcalendar=function(e,i){var n=null;switch(e=e.toLowerCase()){case"dayofweek":n=t.extend(n,h);break;case"view":n=t.extend(n,u);break;case"constant":n=t.extend(n,_);break;case"formatdate":n=o(i);break;case"toformatstring":n=a(i);break;default:n={}}return n},t.widget("aui.gcalendar",{titleId:"aui-gcalendar-title-",lefId:"aui-gcalendar-left-",rightId:"aui-gcalendar-right-",selectedDayId:"aui-gcalendar-selected-day-",monthViewId:"aui-gcalendar-month-view-",monthViewContentId:"aui-gcalendar-month-view-content-",yearViewId:"aui-gcalendar-year-view-",decadeViewId:"aui-gcalendar-decade-view-",$title:null,$left:null,$right:null,$monthView:null,$monthViewContent:null,$monthItem:null,$monthItems:null,$yearView:null,$yearItem:null,$yearItems:null,$decadeView:null,$decadeItem:null,$decadeItems:null,view:u.month,past:0,future:0,year:0,month:0,day:0,_decadeStart:0,_decadeEnd:9,calendarDays:[],calendarDayCount:42,titleFormat:null,selectedIndex:-1,options:{displayMode:u.month,firstDayOfWeek:h.Sunday,height:246,hasTaskBind:null,selectedDate:null,titleFormat:null,width:220,enterDown:t.noop,monthChanged:t.noop,dayClick:t.noop,leftClick:t.noop,rightClick:t.noop,selectionChanged:t.noop},_create:function(){var e=this;e._initMembers()._calculateCalendarDay()._createCalendar()._loaded()._updateMonthItem()._updateTitle()._setCurrentDay()._setSelectedDay(e.day)._updateDisplayMode(e.options.displayMode)._initEvent()._onMonthChanged()},_initMembers:function(){var i=this;return++s,i._initId(),i.$monthItems=[],i.$monthItemText=[],i.$monthItemTexts=[],i.$monthItemCircle=[],i.$monthItemCircles=[],i.$yearItems=[],i.$decadeItems=[],i.currentDate=new Date,i.titleFormat=i.options.titleFormat||e.I18N.gcalendar.titleFormat,null!=i.titleFormat?i.titleFormat=i.titleFormat.split("/"):t.error("Title format is null please check your settings."),i.element.addClass(_.CALENDAR_CLASS).attr("unselectable","on").height(i.options.height).width(i.options.width),i},_setOption:function(e,t){var i=this;switch(e){case"selectedDate":i._calculateCalendarDay(t)._updateMonthItem()._updateTitle()._setCurrentDay()._setSelectedDay(i.day)._onSelectedDateChanged();break;case"displayMode":i._updateDisplayMode(t)}},_initId:function(){var e=this;return e.titleId+=s,e.lefId+=s,e.rightId+=s,e.selectedDayId+=s,e.monthViewId+=s,e.monthViewContentId+=s,e.yearViewId+=s,e.decadeViewId+=s,e},getId:function(e){var t,i=this;switch(e){case"left":t=i.lefId;break;case"yearview":t=i.yearViewId;break;case"monthview":t=i.monthViewId;break;default:t=""}return t},getViewItem:function(){var e=this;return{monthItem:e.$monthView.find("tbody").find('td[class~="'+_.MONTH_ITEM_CLASS+'"]'),
yearItem:e.$yearView.find('td[class="'+_.YEAR_ITEM_CLASS+'"]'),decadeItem:e.$decadeView.find('td[class="'+_.DECADE_ITEM_CLASS+'"]')}},_createCalendar:function(){var e=this,t=-1,i=[];return i[++t]=e._createTitle(),i[++t]=e._createMonthView(),i[++t]=e._createYearView(),i[++t]=e._createDecadeView(),i[++t]=e._createCenturyView(),e.element.html(i.join("")),e},_loaded:function(){var e=this;return e.$title=e.element.find("#"+e.titleId),e.$left=e.element.find("#"+e.lefId),e.$right=e.element.find("#"+e.rightId),e.$monthView=e.element.find("#"+e.monthViewId),e.$monthViewContent=e.$monthView.find("#"+e.monthViewContentId).height(e.options.height-65),e.$monthItem=e.$monthView.find("tbody").find('td[class="'+_.MONTH_ITEM_CLASS+'"]'),e.$monthItemText=e.$monthItem.children('[class~="'+_.MONTH_ITEM_TEXT_CLASS+'"]'),e.$monthItemCircle=e.$monthItem.children('[class~="'+_.MONTH_ITEM_CIRCLE_CLASS+'"]'),e._getViewItem(e.$monthItem,e.$monthItems),e._getViewItem(e.$monthItemText,e.$monthItemTexts),e._getViewItem(e.$monthItemCircle,e.$monthItemCircles),e.$yearView=e.element.find("#"+e.yearViewId).height(e.options.height-36),e.$yearItem=e.$yearView.find('td[class="'+_.YEAR_ITEM_CLASS+'"]'),e._getViewItem(e.$yearItem,e.$yearItems),e.$decadeView=e.element.find("#"+e.decadeViewId).height(e.options.height-36),e.$decadeItem=e.$decadeView.find('td[class="'+_.DECADE_ITEM_CLASS+'"]'),e._getViewItem(e.$decadeItem,e.$decadeItems),e.$decadeItems[0].addClass(_.MONTH_ITEM_PAST_CLASS),e.$decadeItems[11].addClass(_.MONTH_ITEM_PAST_CLASS),e},_initEvent:function(){var e=this;return e.$title.on("click",e,e._onTitleClick),e.$left.on("click",e,e._onLeftClick),e.$right.on("click",e,e._onRightClick),e.$monthViewContent.on("keydown",e,e._onMonthViewKeydown),e.$monthItem.on("keydown",e,e._onMonthItemKeydown).on("click",e,e._onMonthItemClick),e.$yearItem.on("keydown",e,e._onYearItemKeydown).on("click",e,e._onYearItemClick),e.$decadeItem.on("keydown",e,e._onDecadeKeydown).on("click",e,e._onDecadeClick),e},itemsSource:function(e){var t=0,i=e.length,n=this.options.hasTaskBind;if(this.$monthItemCircle.hide(),null!=n)for(;t<i;t++)1==e[t][n]&&this.$monthItemCircles[t].show()},_onMonthViewKeydown:function(i){var n=i.data;switch(i.stopPropagation(),i.which){case t.ui.keyCode.ENTER:e.executeEventHandler(n,"enterDown",n.options.enterDown,null,e.Event({element:n.element}));break;case t.ui.keyCode.HOME:n._onHomeAndEndKeydown(i);break;case t.ui.keyCode.END:n._onHomeAndEndKeydown(i);break;case t.ui.keyCode.PAGE_UP:n._onPgUpAndPgDnKeydown(i);break;case t.ui.keyCode.PAGE_DOWN:n._onPgUpAndPgDnKeydown(i)}},_getViewItem:function(e,i){for(var n=0,o=e.length;n<o;n++)i[n]=t(e[n])},_updateDisplayMode:function(e){var t=this;switch(t.view=e,t.view){case u.month:t._goToMonthView();break;case u.year:t._goToYearView()}return t},goToMonthView:function(){this._goToMonthView()},_goToMonthView:function(){var e=this;return e.options.displayMode=e.view=u.month,e.$decadeView.hide(),e.$yearView.hide(),e.$monthView.show(),e._updateTitle(),e},_goToYearView:function(){var e=this;return e.options.displayMode=e.view=u.year,e.$decadeView.hide(),e.$monthView.hide(),e.$yearView.show(),e._updateTitle()._setSelectedMonth(e.month),e},_createCenturyView:function(){},_trigger:function(e,i,n){var o=this;return o.element.trigger(e,n),n&&o.options.parameters&&(n.parameters=o.options.parameters[e]),t.Widget.prototype._trigger.call(o,e,i,n)}}),t.extend(t.aui.gcalendar.prototype,{_createTitle:function(){var e=this,t=-1,i=[];return i[++t]='<div class="'+_.HEADER_CLASS+'">',i[++t]='<div id="'+e.lefId+'" class="'+_.LEFT_ARROW_CLASS+" "+_.LEFT_ARROW_ICON_CLASS+'"></div>',i[++t]='<div id="'+e.titleId+'" class="'+_.TITLE_CLASS+'" aria-live="assertive" aria-atomic="true"></div>',i[++t]='<div id="'+e.rightId+'" class="'+_.RIGHT_ARROW_CLASS+" "+_.RIGHT_ARROW_ICON_CLASS+'"></div>',i[++t]="</div>",i.join("")},_updateTitle:function(){var e=this;switch(e.view){case u.month:e.$title.text(e._converterTitle());break;case u.year:e.$title.text(e.year);break;case u.decade:e.$title.text(e._decadeStart+1+"-"+(e._decadeEnd-1))}return e},_converterTitle:function(){for(var e=this,t="",i=e.month,n=e.titleFormat,o=0,a=n.length;o<a;o++)switch(n[o]){case"m":t+=l[i];break;case"M":t+=r[i];break;case"yyyy":t+=e.year;break;default:t+=n[o]}return t},_onTitleClick:function(e){var t=e.data;switch(t.view){case u.month:t._goToYearView();break;case u.year:t._goToDecadeView()}},_onLeftClick:function(t){var i=t.data,n=i.options.selectedDate;i.view==u.month?(i._toPrevMonth()._setCurrentDay()._setSelectedDay(1,!0),e.executeEventHandler(i,"leftClick",i.options.leftClick,null,e.Event({element:i.element,oldValue:n,newValue:i.options.selectedDate,parameters:{mode:i.options.displayMode}})),i._onSelectedDateChanged()):i.view==u.year?(--i.year,i._updateTitle()):i.view==u.decade&&i._toPrevDecade()},_onMonthChanged:function(){var t=this.calendarDays[0].day,i=this.calendarDays[41].day;return t=new Date(this.year,this.month-1,t),i=new Date(this.year,this.month+1,i),this._trigger("monthChanged",null,e.Event({element:this.element,oldValue:{},newValue:{month:this.month,firstDay:t,lastDay:i}})),this},_onRightClick:function(t){var i=t.data,n=i.options.selectedDate;i.view==u.month?(i._toNextMonth()._setCurrentDay()._setSelectedDay(1,!0),e.executeEventHandler(i,"rightClick",i.options.rightClick,null,e.Event({element:i.element,oldValue:n,newValue:i.options.selectedDate,parameters:{mode:i.options.displayMode}})),i._onSelectedDateChanged()):i.view==u.year?(++i.year,i._updateTitle()):i.view==u.decade&&i._toNextDecade()},_toPrevMonth:function(){var e=this;return e._goToMonth(e.month-1),e},_toPrevYear:function(){var e=this;return e._goToMonth(-12),e},_toNextMonth:function(){var e=this;return e._goToMonth(e.month+1),e},_toNextYear:function(){var e=this;return e._goToMonth(12),e},_toPrevDecade:function(){var e=this;return e.year=e._decadeStart-9,e._goToDecade(e.year),e},_toNextDecade:function(){var e=this;return e.year=e._decadeEnd,e._goToDecade(e.year),e},_goToDecade:function(e){var t=this;t._updateDecadeItem(e)._updateTitle()._setSelectedYear(e)}}),t.extend(t.aui.gcalendar.prototype,{_createMonthView:function(){var e,t=this,i=-1,n=0,o=t.options.firstDayOfWeek,a=0,s=[];for(s[++i]='<div class="'+_.VIEW_CONTAINER+'" id="'+t.monthViewId+'">',s[++i]='<div class="'+_.MONTH_VIEW_HEADER_CLASS+'">',s[++i]='<table class="'+_.MONTH_VIEW_TABLE_CLASS+'" cellspacing="0" cellpadding="0">',s[++i]="<thead>",s[++i]="<tr>";n<7;n++)s[++i]='<th class="'+_.MONTH_HEADER_ITEM_CLASS+'" unselectable="on" role="columnheader">'+c[(n+o)%7]+"</th>";for(s[++i]='</tr role="row">',s[++i]="</thead>",s[++i]="</table>",s[++i]="</div>",s[++i]='<div class="'+_.MONTH_VIEW_CONTENT_CLASS+'" id="'+t.monthViewContentId+'">',s[++i]='<table class="'+_.MONTH_VIEW_TABLE_CLASS+'" cellspacing="0" cellpadding="0" role="grid" aria-activedescendant="'+t.selectedDayId+'">',s[++i]="<tbody>",n=0;n<6;n++){for(e=0,s[++i]='<tr role="row">';e<7;e++)a=7*n+e,s[++i]='<td class="'+_.MONTH_ITEM_CLASS+'" data-index="'+a+'" role="gridcell" tabindex="0">',s[++i]='<div class="'+_.MONTH_ITEM_TEXT_CLASS+'" data-index="'+a+'"></div>',s[++i]='<div class="'+_.MONTH_ITEM_CIRCLE_CLASS+'" data-index="'+a+'" ></div>',s[++i]="</td>";s[++i]="</tr>"}return s[++i]="</tbody>",s[++i]="</table>",s[++i]="</div>",s[++i]="</div>",s.join("")},_onMonthItemClick:function(e){var t,i=e.data,n=e.target.getAttribute("data-index")-0;i.$monthItems[n];t=i.$monthItemTexts[n].text()-0,n<i.past?i._toPrevMonth():n>i.future&&i._toNextMonth(),i._setCurrentDay()._setSelectedDay(t,!0),i.day=t,i._onSelectedDateChanged(),i._onDayClick()},_onDayClick:function(t){this._trigger("dayClick",null,e.Event({element:this.element,newValue:new Date(this.year,this.month,this.day)}))},_calculateCalendarDay:function(e){var t,i=this,n=i.options.firstDayOfWeek,e=e||i.options.selectedDate||new Date,o=e.getFullYear(),a=e.getDay(),s=e.getDate(),r=e.getMonth(),l=s%7,d=a-l+1-n,c=0,u=0,h=0,p=0;for(t=new Date(o,r,s),t.setFullYear(o),i.year=o,i.month=r,i.day=s,d<=0&&(d+=7),i.past=d,t.setDate(0),c=t.getDate(),t.setDate(1),t.setMonth(r+1),t.setDate(0),u=t.getDate(),i.future=d+u-1,p=d-1;p>=0;p--)i.calendarDays[p]={day:c,state:_.MONTH_ITEM_PAST_CLASS},c--;for(p=0;p<u;p++)i.calendarDays[p+d]={day:p+1,state:""};for(h=i.calendarDayCount-u-d,p=0;p<h;p++)i.calendarDays[p+d+u]={day:p+1,state:_.MONTH_ITEM_FEATURE_CLASS};return i},_updateMonthItem:function(){for(var e=this,t=0,i=e.$monthItems,n=e.calendarDays,o=i.length;t<o;t++)i[t].removeClass(_.MONTH_ITEM_FEATURE_CLASS).removeClass(_.MONTH_ITEM_PAST_CLASS),e.$monthItemTexts[t].text(n[t].day),i[t].addClass(n[t].state);return e},_setCurrentDay:function(){var e=this,t=new Date,i=t.getDate(),n=t.getMonth(),o=-1,a=t.getFullYear();return e.$monthItem.removeClass(_.MONTH_ITEM_CURRENT_CLASS),a==e.year&&(n==e.month?o=i-1+e.past:n==e.month-1?o=e.past-e.calendarDays[e.past-1].day+i-1:n==e.month+1&&(o=e.future+i-e.calendarDays[e.future+1].day+1)),o>-1&&o<42&&e.$monthItems[o].addClass(_.MONTH_ITEM_CURRENT_CLASS),e},_setSelectedFocus:function(e){e.attr("id",this.selectedDayId).attr("tabindex",0).focus()},_setSelectedDay:function(e,t){var i=this,n=e-1+i.past;return i.$monthItem.removeAttr("id").removeAttr("tabindex").removeClass(_.MONTH_ITEM_SELECTED_CLASS),i.$monthItems[n].addClass(_.MONTH_ITEM_SELECTED_CLASS),i.selectedIndex=n,i.day=i.$monthItemTexts[n].text()-0,i.oldDate=i.options.selectedDate,i.options.selectedDate=new Date(i.year,i.month,i.day),i.options.selectedDate.setFullYear(i.year),t?i._setSelectedFocus(i.$monthItems[n]):i.$monthItems[n].attr("id",i.selectedDayId).attr("tabindex","0"),i},_goToMonth:function(e){var t=this,i=t.year,n=new Date;return t._oldMonth=t.month,n.getFullYear()==i&&n.getMonth()==e||(n=new Date(i,e,1)),t._calculateCalendarDay(n),t._updateMonthItem(),t._updateTitle(),t._onMonthChanged(),t},_onHomeAndEndKeydown:function(e){var i=this,n=i.options.selectedDate,o=(n.getDate(),n.getMonth());e.preventDefault(),e.which==t.ui.keyCode.HOME?n.setDate(1):(n.setMonth(++o),n.setDate(0)),i._setOption("selectedDate",n),i.$monthItems[i.selectedIndex].focus()},_onPgUpAndPgDnKeydown:function(e){var i=e.data,n=i.options.selectedDate,o=n.getDate(),a=n.getMonth();e.preventDefault(),e.which==t.ui.keyCode.PAGE_UP?n.setDate(0):(n.setMonth(a+2),n.setDate(0)),o<=n.getDate()&&n.setDate(o),i._setOption("selectedDate",n),i.$monthItems[i.selectedIndex].focus()},_onMonthItemKeydown:function(e){var i,n=e.data,o=e.target.getAttribute("data-index")-0,a=!1,s=!1,r=!0;switch(e.which){case t.ui.keyCode.LEFT:o--;break;case t.ui.keyCode.UP:o-=7;break;case t.ui.keyCode.RIGHT:o++;break;case t.ui.keyCode.DOWN:o+=7;break;case t.ui.keyCode.TAB:r=!1;break;default:r=!1}o!=n.selectedIndex&&r&&(e.preventDefault(),o<0?(i=n.$monthItemTexts[o+7].text()-0,a=!0):o>=42?(i=n.$monthItemTexts[o-7].text()-0,s=!0):i=n.$monthItemTexts[o].text()-0,o<n.past?(0==n.month&&n.year--,n._toPrevMonth(),n._setCurrentDay()):o>n.future&&(0==n.month&&n.year++,n._toNextMonth(),n._setCurrentDay()),a&&(o=n.future+i-n.calendarDays[n.future+1].day+1-7,i=n.$monthItemTexts[o].text()-0),s&&(o=n.past-n.calendarDays[n.past-1].day+i-1+7,i=n.$monthItemTexts[o].text()-0),n._setSelectedDay(i,!0),n.day=i,n._onSelectedDateChanged())},_onSelectedDateChanged:function(){var t=this,i=t.oldDate;t._selectedDateChangedAssert(i,t.options.selectedDate)&&t._trigger("selectionChanged",null,e.Event({element:t.element,oldValue:i,newValue:t.options.selectedDate}))},getSelectedDayItem:function(){var e=this;return e.$monthItems[e.selectedIndex]},_selectedDateChangedAssert:function(e,t){return e&&e.getTime()!=t.getTime()}}),t.extend(t.aui.gcalendar.prototype,{_createYearView:function(){var e,t=this,i=-1,n=0,o=[];for(o[++i]='<div id="'+t.yearViewId+'" class="'+_.YEAR_VIEW_CLASS+'">',o[++i]='<table role="grid" class="'+_.YEAR_VIEW_CONTENT_CLASS+'"  cellspacing="0" cellpadding="0">',o[++i]="<tbody>";n<3;n++){for(o[++i]='<tr role="row">',e=0;e<4;e++)o[++i]='<td class="'+_.YEAR_ITEM_CLASS+'" data-index="'+(4*n+e)+'" role="gridcell">'+d[4*n+e]+"</td>";o[++i]="</tr>"}return o[++i]="</tbody>",o[++i]="</table>",o[++i]="</div>",o.join("")},_setSelectedMonth:function(e){var t=this;return t.$yearItem.removeClass(_.YEAR_SELECTED_CLASS),t.$yearItem.removeAttr("tabindex"),t.$yearItems[e].attr("tabindex",0).focus().addClass(_.YEAR_SELECTED_CLASS),t},_onYearItemKeydown:function(e){var i=e.data,n=e.target.getAttribute("data-index")-0,o=!0;switch(e.stopPropagation(),e.which){case t.ui.keyCode.LEFT:--n<0&&(n+=12,--i.year);break;case t.ui.keyCode.UP:(n-=4)<0&&(n+=12,--i.year);break;case t.ui.keyCode.RIGHT:++n>11&&(n-=12,++i.year);break;case t.ui.keyCode.DOWN:(n+=4)>11&&(n-=12,++i.year);break;case t.ui.keyCode.TAB:o=!1;break;case t.ui.keyCode.ENTER:o=!1,i._selectedMonth(n);break;case t.ui.keyCode.HOME:e.preventDefault(),n=0;break;case t.ui.keyCode.END:e.preventDefault(),n=11;break;case t.ui.keyCode.PAGE_UP:--i.year;break;case t.ui.keyCode.PAGE_DOWN:++i.year;break;default:o=!1}o&&(e.preventDefault(),i._updateTitle()._setSelectedMonth(n))},_onYearItemClick:function(e){e.data._selectedMonth(this.getAttribute("data-index")-0)},_selectedMonth:function(e){this.month,this.year;this._goToMonthView()._goToMonth(e)._setCurrentDay()._setSelectedDay(1,!0)._onSelectedDateChanged()}}),t.extend(t.aui.gcalendar.prototype,{_getDecadeStart:function(e){var t=this,i=e%10,n=0;return n=e<10?-1:9==i?e-e%10+9:e-e%10-1,t._decadeStart=n,t._decadeEnd=n+11,n},_createDecadeView:function(){var e,t=this,i=t._getDecadeStart(t.year),n=-1,o=0,a=0,s=[];for(s[++n]='<div id="'+t.decadeViewId+'" class="'+_.DECADE_VIEW_CLASS+'">',s[++n]='<table role="grid" class="'+_.DECADE_VIEW_CONTENT_CLASS+'"  cellspacing="0" cellpadding="0">',s[++n]="<tbody>";o<3;o++){for(s[++n]='<tr role="row">',e=0;e<4;e++)a=i+4*o+e,a=a>0?a:"",s[++n]='<td class="'+_.DECADE_ITEM_CLASS+'" data-index="'+a+'" role="gridcell">'+a+"</td>";s[++n]="</tr>"}return s[++n]="</tbody>",s[++n]="</table>",s[++n]="</div>",s.join("")},_goToDecadeView:function(){var e=this;return e.options.displayMode=e.view=u.decade,e.$monthView.hide(),e.$yearView.hide(),e.$decadeView.show(),e._updateDecadeItem(e.year)._updateTitle()._setSelectedYear(e.year),e},_setSelectedYear:function(e){var t=this;return t.$decadeItem.removeClass(_.YEAR_SELECTED_CLASS),t.$decadeItem.removeAttr("tabindex"),t.$decadeItem.filter('[data-index="'+e+'"]').attr("tabindex",0).focus().addClass(_.YEAR_SELECTED_CLASS),t},_onDecadeKeydown:function(e){var i=e.data,n=e.target.getAttribute("data-index")-0,o=i._decadeStart,a=i._decadeEnd,s=!0;switch(e.stopPropagation(),e.which){case t.ui.keyCode.LEFT:--n==o&&i._updateDecadeItem(n-1);break;case t.ui.keyCode.UP:(n-=4)<=o&&i._updateDecadeItem(n-1);break;case t.ui.keyCode.RIGHT:++n==a&&i._updateDecadeItem(n+1);break;case t.ui.keyCode.DOWN:(n+=4)>=a&&i._updateDecadeItem(n+1);break;case t.ui.keyCode.TAB:s=!1;break;case t.ui.keyCode.ENTER:s=!1,t(e.target).trigger("click");break;case t.ui.keyCode.HOME:e.preventDefault(),i._setSelectedYear(o+1);break;case t.ui.keyCode.END:e.preventDefault(),i._setSelectedYear(a-1);break;case t.ui.keyCode.PAGE_UP:i._updateDecadeItem(n-10)._setSelectedYear(n-10);break;case t.ui.keyCode.PAGE_DOWN:i._updateDecadeItem(n+10)._setSelectedYear(n+10);break;default:s=!1}s&&(e.preventDefault(),n>0&&i._updateTitle()._setSelectedYear(n))},_onDecadeClick:function(e){var t=e.data;t.year=this.getAttribute("data-index")-0,t._goToYearView()},_updateDecadeItem:function(e){for(var t=this,i=0,n=t._getDecadeStart(e),e=0,o=t.$decadeItems.length;i<o;i++)e=n+i,e=e>0?e:"",t.$decadeItems[i].text(e),t.$decadeItems[i].attr("data-index",e);return t}})}(AUI,jQuery)},function(e,t){"use strict";!function(e,t){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.inputcombobox={init:function(t,i,n){var o=ko.toJS(ko.unwrap(i()));e(t).inputcombobox(o)},update:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).inputcombobox(n)}}),e.widget("aui.inputcombobox",{options:{itemsSource:[],dataTextField:"text",dataValueField:"value",filterType:0,delay:200,itemTemplate:"",selectedIndex:-1,width:"200px",height:"25px",popupMaxheight:"100px",popupWidth:"auto",openLimitedCount:8,disabled:!1,showType:0,ignoreCase:!0,isFilteredHidden:!0,isAutoComplete:!0,selectionChanged:e.noop,enter:e.noop,show:e.noop,hide:e.noop,trigger:["keydown"]},_create:function(){var e=this;e._initMembers(),e._initItemsList(),e._initEvent(),e._setOption("disabled",e.options.disabled)},_initMembers:function(){var i=this,n=i.options;i._viewModel={},i.element.append(i._getTemplateContainer().defaultContainer),i._popupContainer=e("<div class='aui-inputcombobox-popupContainer'></div>").css("max-height",n.popupMaxheight).on("mousedown",function(e){e.stopPropagation(),t.closeExcept(i.element,!0)}).on("mousewheel",function(e){e.stopPropagation(),t.closeExcept(i.element,!0)}),i._popUp=i._popupContainer.popup({placement:"bottom-left",dependence:i.element,width:"auto"==n.popupWidth?n.width:n.popupWidth,onShown:function(e){i._refreshScroll(),i._trigger("show",e,t.Event({element:i.element}))},onHidden:function(e){i._trigger("hide",e,t.Event({element:i.element}))}}),e("body").append(i._popupContainer),i._defaultContainerElement=i.element.find(".aui-inputcombobox-defalt-container"),i._input=i.element.find(".aui-inputcombobox-input"),i._defaultContainerElement.css({width:n.width,height:n.height}),i._input.css({width:parseInt(i._defaultContainerElement.width()-18,10)+"px",height:n.height}),i._input.css({"line-height":i._input.height()+"px"}),i._input.next().css({margin:"auto",top:0,bottom:0}),i.setSelectedIndex(n.selectedIndex),i._dropDownButton=i.element.find(".aui-inputcombobox-expand-normal")},_initItemsList:function(){var t=this,i=t.options,n=[];if(""!=i.itemTemplate)t._applyBindings();else{t._popupContainerItems=e("<ul class = 'aui-inputcombobox-popupContainerItems' role='listbox'></ul>");for(var o=0,a=i.itemsSource.length;o<a;o++)n[n.length]="<li index='"+o+"' aria-posinset='"+(o+1)+"' aria-setsize='"+i.itemsSource.length+"' role='option' style='list-style-type:none;padding-left:5px;padding-right:10px;line-height:24px;'>"+i.itemsSource[o][i.dataTextField]+"</li>";t._popupContainerItems.append(n.join("")),t._popupContainer.append(t._popupContainerItems)}t._itemEvent()},_itemEvent:function(){var i=this;i.options;i._item=i._popupContainer.find("li"),i._item.on("mouseenter"+i.eventNamespace+" mouseleave"+i.eventNamespace,i._toggleHover).on("click"+i.eventNamespace,function(n){i._input.val(e(n.target).text()),i._hide(),i._trigger("selectionChanged",n,t.Event({element:i.element,newValue:i._input.val()}))})},_applyBindings:function(){var t=this,i=t.options;t._popupContainerItems=e('<ul class = "aui-inputcombobox-popupContainerItems" role="listbox" data-bind="foreach: itemsSource"><li role="option" data-bind="attr:{index: $index, \'aria-posinset\': $index() +1}" style="list-style-type:none;padding-left:5px;padding-right:10px;line-height:24px;">'+i.itemTemplate+"</li></ul>"),t._popupContainer.append(t._popupContainerItems),t._viewModel={itemsSource:ko.observableArray(i.itemsSource)},ko.applyBindings(t._viewModel,t._popupContainerItems[0])},_toggleHover:function(t){e(t.target).toggleClass("aui-inputcombobox-popupContainerItems-mouseover")},_getTemplateContainer:function(){return{defaultContainer:'<div class="aui-inputcombobox-defalt-container aui-inputcombobox-default-div" data-bind="stopBindings:true" ><input hidefocus=true class="aui-inputcombobox-input" data-bind="value:displayName"/><span class="aui-inputcombobox-expand-normal"><div class="aui-icon-arrow-down"></div><span style="color:transparent">dropdown button</span></span></div>'}},_initEvent:function(){var i=this,n=i.options,o=n.trigger,a=o.length;i._input.on("keydown"+i.eventNamespace,e.proxy(i._inputKeydown,i)).on("click"+i.eventNamespace,e.proxy(i._inputClick,i));for(var s=0;s<a;s++)i._input.on(o[s]+i.eventNamespace,e.proxy(i._search,i));i._dropDownButton.on("click"+i.eventNamespace,e.proxy(i._click,i)),t.close(i.element,"inputcombobox","hide")},_inputClick:function(){var e=this;e._popUp.popup("isOpening")||0!=e.options.showType||e._showPopup(),e._selection(0,e._input.val().length)},_click:function(){var e=this,t=e.options;t.disabled||e._dropDownButtonClick()},_dropDownButtonClick:function(){var e=this;e._popUp.popup("isOpening")?e._hide():e._showPopup()},showPopup:function(){this._showPopup()},_showPopup:function(){var t=this;0==t._popupContainerItems.children().length?t._popupContainerItems.css("height","100px"):t._popupContainerItems.css("height","auto");var i=t._input.val(),n=t._getPopupContainerItems();e(n).hasClass("aui-inputcombobox-popupContainerItems-highlight")&&e(n).removeClass("aui-inputcombobox-popupContainerItems-highlight");for(var o=0;o<n.length;o++)if(i==e(n[o]).text()){e(n[o]).addClass("aui-inputcombobox-popupContainerItems-highlight");break}if(t._selection(0,t._input.val().length),t._show(),t._refreshScroll(),t._isItemWidthUpdate){var a=parseInt(t.options.width);t._popupContainer.scrollLeft(1e14),t._getPopupContainerItems().width(a+t._popupContainer.scrollLeft()+1),t._isItemWidthUpdate=!1}t._popupContainer.scrollLeft(0)},_isValuableKeyCode:function(e){return 8==e||48<=e&&e<=57||59==e||61==e||38==e||40==e||65<=e&&e<=90||96<=e&&e<=111||173==e||188==e||190<=e&&e<=192||46==e||219<=e&&e<=222||32==e||27==e||13==e},_selection:function(e,t){var i=this;try{i._input[0].setSelectionRange(e,t)}catch(n){try{var o=i._input[0],a=o.createTextRange();a.moveStart("character",e),a.select()}catch(s){}}},_inputKeydown:function(i){var n,o=this,a=o.options;a.ignoreCase;if(n=o._keycode=i.keyCode||i.which,o._ctrlKey=i.ctrlKey,o._metaKey=i.metaKey,27==n)return o._popUp.popup("isOpening")&&o._hide(),!0;var s=o._getPopupContainerItems();if(13==n){var r=e(s).parent().find(".aui-inputcombobox-popupContainerItems-highlight");0==r.length&&o._input.val(o._input.val()),o._popUp.popup("isOpening")&&o._hide(),r.removeClass("aui-inputcombobox-popupContainerItems-highlight");var l=o._input.val().length,d=l;return o._selection(l,d),o._popUp.popup("isOpening")&&e(s[_]).addClass("aui-inputcombobox-popupContainerItems-highlight"),o._trigger("enter",i,t.Event({element:o.element})),!0}if(38==n||40==n){if(0!=a.showType&&1!=a.showType||o._popUp.popup("isOpening")){var c=o._input.val();if(e(s).hasClass("aui-inputcombobox-popupContainerItems-highlight")){var r=e(s).parent().find(".aui-inputcombobox-popupContainerItems-highlight");if(r.removeClass("aui-inputcombobox-popupContainerItems-highlight"),40==n){var u=r.next();0==u.length?r.addClass("aui-inputcombobox-popupContainerItems-highlight"):u.addClass("aui-inputcombobox-popupContainerItems-highlight"),0!=u.length&&o._input.val(u.text())}if(38==n){var h=r.prev();0==h.length?r.addClass("aui-inputcombobox-popupContainerItems-highlight"):h.addClass("aui-inputcombobox-popupContainerItems-highlight"),0!=h.length&&o._input.val(h.text())}o._refreshScroll()}else 40==n?(e(s[0]).addClass("aui-inputcombobox-popupContainerItems-highlight"),o._input.val(e(s[0]).text())):(e(s[s.length-1]).addClass("aui-inputcombobox-popupContainerItems-highlight"),o._input.val(e(s[s.length-1]).text()))}else{e(s).removeClass("aui-inputcombobox-popupContainerItems-highlight");var c=o._input.val();if(""==e.trim(c)&&(e(s[0]).addClass("aui-inputcombobox-popupContainerItems-highlight"),o._input.val(e(s[0]).text())),!e(s).hasClass("aui-inputcombobox-popupContainerItems-highlight"))for(var _=0;_<s.length;_++)if(e(s[_]).text()==c){e(s[_]).addClass("aui-inputcombobox-popupContainerItems-highlight");break}o._show(),o._refreshScroll()}return!0}},_search:function(t){var i=this,n=i.options,o=n.ignoreCase,a=i._keycode;if(i._ctrlKey||i._metaKey)return!0;if(!i._isValuableKeyCode(a),13==a)return!0;i._getPopupContainerItems();if(8==a||46==a){var i=this;return 0!=i.options.filterType&&(i._reset=setTimeout(function(e){clearTimeout(i._reset);var t=i._input.val();if(""==t&&i.options.isFilteredHidden){var n=i._getReg(t);i._refreshCreatePopupItems(n)}i._reset=null},i.options.delay)),!0}n.isAutoComplete&&(i._typing=setTimeout(function(t){clearTimeout(i._typing);var a=i._input.val();if(o&&(a=a.toLowerCase()),""!=a){var s=i._getReg(a);0!=i.options.filterType&&i.options.isFilteredHidden&&i._refreshCreatePopupItems(s);var r=i._getPopupContainerItems();e(r).removeClass("aui-inputcombobox-popupContainerItems-highlight");for(var l=0;l<r.length;l++){var d=e(r[l]).text();if(s.test(d)||i.options.ignoreCase&&s.test(d.toLowerCase())){i._input.val(e(r[l]).text());var c=a.length,u=e(r[l]).text().length;i._selection(c,u),i._popUp.popup("isOpening")&&e(r[l]).addClass("aui-inputcombobox-popupContainerItems-highlight");break}}}n.openLimitedCount>=8&&!i._popUp.popup("isOpening")&&0==n.showType?i._showPopup():0==i._popupContainerItems.children().length?i._popupContainerItems.css("height","100px"):i._popupContainerItems.css("height","auto"),i._typing=null},n.delay)),n.openLimitedCount<=8&&!i._popUp.popup("isOpening")&&0==n.showType&&i._show()},_replace:function(e){for(var t="\\$()*+.[]?/^{}|".split(""),i=0;i<t.length;i++)e=e.replace(new RegExp("\\"+t[i],"gm"),"\\"+t[i]);return e},_getReg:function(e){var t=this,i=t.options.filterType;return 0==i||2==i?new RegExp(t._replace(e)):1==i?new RegExp("^"+t._replace(e)):3==i?new RegExp(t._replace(e)+"$"):4==i?new RegExp("^"+t._replace(e)+"$"):void 0},_getPopupContainerItems:function(){return this._popupContainerItems.children("li")},_refreshCreatePopupItems:function(e){var t=this,i=t.options,n=[];if(t._filterSourceFun(e),t._popupContainerItems.empty(),""!=i.itemTemplate)t._viewModel.itemsSource=ko.observableArray(t._filterSource);else{for(var o=0,a=t._filterSource.length;o<a;o++){var s=t._filterSource[o][i.dataTextField];(e.test(s)||i.ignoreCase&&e.test(s.toLowerCase()))&&(n[n.length]="<li index='"+o+"' aria-posinset='"+(o+1)+"' aria-setsize='"+a+"' role='option' style='list-style-type:none;padding-left:5px;padding-right:10px; line-height:24px;'>"+s+"</li>")}t._popupContainerItems.append(n.join(""))}t._itemEvent()},_filterSourceFun:function(e){for(var t=[],i=this,n=i.options,o=n.itemsSource,a=0,s=o.length;a<s;a++){var r=o[a][n.dataTextField];(e.test(r)||n.ignoreCase&&e.test(r.toLowerCase()))&&(t[t.length]=o[a])}i._filterSource=t},_refreshScroll:function(){var e=this,t=e._popUp.height(),i=e._popupContainerItems.find(".aui-inputcombobox-popupContainerItems-highlight");if(i[0]){var n=i[0].offsetTop,o=t,a=e._getPopupContainerItems()[0].scrollTop,s=i[0].clientHeight;if(a-n+s>0)return void e._popupContainer.scrollTop(n);if(n-a>=o-s)return void e._popupContainer.scrollTop(n-o+s)}},_setOption:function(e,t){var i=this,n=i.options;"filterType"==e?n[e]=parseInt(t):n[e]=t,"disabled"==e&&(1==t||"true"==(t+"").toLowerCase()?(i._hide(),i._defaultContainerElement.removeClass("aui-inputcombobox-default-div").addClass("aui-inputcombobox-default-div-disabled"),i._input.attr("disabled","disabled").addClass("aui-inputcombobox-input-disabled"),i.element.find(".aui-inputcombobox-expand-normal").removeClass("aui-inputcombobox-expand-normal").addClass("aui-inputcombobox-expand-disabled")):(i._defaultContainerElement.removeClass("aui-inputcombobox-default-div-disabled").addClass("aui-inputcombobox-default-div"),i._input.removeAttr("disabled").removeClass("aui-inputcombobox-input-disabled"),i.element.find(".aui-inputcombobox-expand-disabled").removeClass("aui-inputcombobox-expand-disabled").addClass("aui-inputcombobox-expand-normal")))},itemsSource:function(e){var t=this,i=t.options;if(!(arguments.length>0))return t.options.itemsSource;if(t.options.itemsSource=e,""!=i.itemTemplate)t._viewModel.itemsSource(ko.observableArray(e)());else{var n=[];t._popupContainerItems.empty();for(var o=0,a=e.length;o<a;o++)n[o]="<li index='"+o+"' aria-posinset='"+(o+1)+"' aria-setsize='"+e.length+"' role='option' style='list-style-type:none;padding-left:5px;padding-right:10px;line-height:24px;'>"+e[o][i.dataTextField]+"</li>";t._popupContainerItems.append(n.join("")),t._popupContainer.append(t._popupContainerItems)}t._itemEvent()},isEnable:function(e){var t=this;t._setOption("disabled",e)},getValue:function(){var e=this;return e.getSelectedItem()[e.options.dataValueField]},setValue:function(e){for(var t=this,i="",n=0,o=t.options.itemsSource.length;n<o;n++)if(e==t.options.itemsSource[n][t.options.dataValueField]){i=t.options.itemsSource[n][t.options.dataTextField];break}t._input.val(i||e)},setSelectedIndex:function(e){var t=this,i=t.options.itemsSource[e];t._input.val(i?i[t.options.dataTextField]:"")},getSelectedItem:function(){for(var e=this,t=e._input.val(),i=e.options,n=i.itemsSource,o=n.length,a=0,s=o;a<s;a++)if(t.toLowerCase()==n[a][i.dataTextField].toLowerCase())return i.itemsSource[a];var r={};return r[i.dataTextField]=t,r[i.dataValueField]=t,r},show:function(){var e=this;e._popUp.popup("isOpening")||e._show()},_show:function(){var e=this;t.closeVisibility(e.element,!0),e._popUp.popup("show")},hide:function(){var e=this;e._popUp.popup("isOpening")&&e._hide()},_hide:function(){var e=this;t.closeVisibility(e.element,!1),e._popUp.popup("hide")},_destroy:function(){this.element.removeClass().off(this.eventNamespace).empty(),t.offClose(this.element)}})}(jQuery,AUI)},function(e,t){"use strict";!function(e,t){function i(e){var t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.val().length),t=i.text.length}else(e[0].selectionStart||"0"==e[0].selectionStart)&&(t=e[0].selectionStart);return t}ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.iptextbox={init:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).iptextbox(n)},update:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).iptextbox(n)}}),e.widget("aui.iptextbox",{options:{IP:"",disabled:!1,data:null},_viewModel:function(e,t){var i=this;i._first=ko.observable(),i._second=ko.observable(),i._third=ko.observable(),i._fourth=ko.observable(),i._disabled=ko.observable(t.disabled),i._mIP=ko.dependentObservable({read:function(){if(""!=t.IP){var e=t.IP.replace(/[^\d.]/g,"");return e=e.split("."),i._first(e[0])._second(e[1])._third(e[2])._fourth(e[3])}return i._first("")._second("")._third("")._fourth("")},write:function(){var e=[i._first,i._second,i._third,i._fourth];return e=e.join(".")},owner:e._viewModel}),i.formatFirstIP=ko.dependentObservable({read:function(){var t=/^\d{1,3}$/,n=i._first();if(""!=n||null!=n){if(!t.test(n))return i._first(n.replace(/[^\d.]/g,""));n<=0||n>255||127==n?(i._first("255"),e.options._firstIPText.select()):null!=e.options._secondIPText&&1==e.isChanged&&n>=100&&(e.options._secondIPText.focus(),e.options._secondIPText.select())}},write:function(e){e<=0||e>255||127==e?i._first(""):i._first(e)},owner:e._viewModel}),i.formatSecondIP=ko.dependentObservable({read:function(){var t=/^\d{1,3}$/,n=i._second();if(""!=n||null!=n){if(!t.test(n))return i._second(n.replace(/[^\d.]/g,""));n<0||n>255||127==n?(i._second("255"),e.options._secondIPText.select()):null!=e.options._thirdIPText&&1==e.isChanged&&n>=100&&(e.options._thirdIPText.focus(),e.options._thirdIPText.select())}},write:function(e){e<0||e>255||127==e?i._second(""):i._second(e)},owner:e._viewModel}),i.formatThirdIP=ko.dependentObservable({read:function(){var t=/^\d{1,3}$/,n=i._third();if(""!=n||null!=n){if(!t.test(n))return i._third(n.replace(/[^\d.]/g,""));n<0||n>255||127==n?(i._third("255"),e.options._thirdIPText.select()):null!=e.options._fourthIPText&&1==e.isChanged&&n>=100&&(e.options._fourthIPText.focus(),e.options._fourthIPText.select())}},write:function(e){e<0||e>255||127==e?i._third(""):i._third(e)},owner:e._viewModel}),i.formatFourthIP=ko.dependentObservable({read:function(){var t=/^\d{1,3}$/,n=i._fourth();if(""!=n||null!=n){if(!t.test(n))return i._fourth(n.replace(/[^\d.]/g,""));(n<0||n>255||127==n)&&(i._fourth("255"),e.options._fourthIPText.select())}},write:function(e){e<0||e>255||127==e?i._fourth(""):i._fourth(e)},owner:e._viewModel})},_initTemplate:function(t){var i="<div data-bind='disable:_disabled'>.</div>";return t.options._mainDiv=e("<div data-bind='disable:_disabled' role='application' aria-span='IP textbox'></div>"),
t.options._firstIPText=e("<input type='text' data-bind='value: _first,disable:_disabled,valueUpdate: \"afterkeydown\"' size=3 maxlength=3 />"),t.options._secondIPText=e("<input type='text' data-bind='value: _second,disable:_disabled ,valueUpdate: \"afterkeydown\"'  size=3 maxlength=3 />"),t.options._thirdIPText=e("<input type='text' data-bind='value: _third ,disable:_disabled,valueUpdate: \"afterkeydown\"' size=3 maxlength=3 />"),t.options._fourthIPText=e("<input type='text' data-bind='value: _fourth ,disable:_disabled,valueUpdate: \"afterkeydown\"' size=3 maxlength=3 />"),t.options._mainDiv.append(t.options._firstIPText),t.options._mainDiv.append(e(i).addClass("split")),t.options._mainDiv.append(t.options._secondIPText),t.options._mainDiv.append(e(i).addClass("split")),t.options._mainDiv.append(t.options._thirdIPText),t.options._mainDiv.append(e(i).addClass("split")),t.options._mainDiv.append(t.options._fourthIPText),t.options._mainDiv},_initManager:{_initIPTextBoxTemplate:function(e){e.element.append(e._initTemplate(e)),e.options._mainDiv.addClass("aui-iptextbox-border-style"),e.options._mainDiv.wrap('<div data-bind="stopBindings:true"></div>'),e.options.disabled&&e.options._mainDiv.attr("disabled",!0)},_initIPTextTemplate:function(e){e.options._firstIPText.addClass("aui-iptextbox-text-style"),e.options._secondIPText.addClass("aui-iptextbox-text-style"),e.options._thirdIPText.addClass("aui-iptextbox-text-style"),e.options._fourthIPText.addClass("aui-iptextbox-text-style")},_setDataBinding:function(t){t.element;t.options.data=new t._viewModel(t,t.options),e(function(){ko.applyBindings(t.options.data,t.options._mainDiv[0])})}},_eventManager:{_initializationEvent:function(e){0==e.options.disabled&&(e.options._mainDiv.off(e.eventNamespace),e.options._mainDiv.on("mouseenter"+e.eventNamespace,this,function(){e.options._mainDiv.addClass("aui-iptextbox-border-mouseenter")}).on("mouseleave"+e.eventNamespace,this,function(){e.options._mainDiv.removeClass("aui-iptextbox-border-mouseenter")})),e.options._firstIPText.off(e.eventNamespace),e.options._secondIPText.off(e.eventNamespace),e.options._thirdIPText.off(e.eventNamespace),e.options._fourthIPText.off(e.eventNamespace),e.options._firstIPText.on("keydown"+e.eventNamespace,this,function(t){e._methodManager._validateText1(t,e,e.options._secondIPText)}),e.options._secondIPText.on("keydown"+e.eventNamespace,this,function(t){e._methodManager._validateText2(t,e,e.options._thirdIPText)}),e.options._thirdIPText.on("keydown"+e.eventNamespace,this,function(t){e._methodManager._validateText3(t,e,e.options._fourthIPText)}),e.options._fourthIPText.on("keydown"+e.eventNamespace,this,function(t){e._methodManager._validateText4(t,e,e.options._fourthIPText)})}},_methodManager:{_validateText:function(e,t){var i=e||window.event,n=e.which||e.keyCode;32!=n&&110!=n&&190!=n||(i.preventDefault(),i.stopPropagation(),i.which=9,t.focus(),t.select())},_validateText1:function(e,t,i){t.isChanged=1,t._methodManager._validateText(e,i)},_validateText2:function(e,t,n){t.isChanged=1,t._methodManager._validateText(e,n);var o=(e||window.event,e.which||event.keyCode||e.keyCode);if(8==o){if(""==t.options._secondIPText.selector&&0!=i(t.options._secondIPText))return;if(""!=t.options._secondIPText.val())return void _self.options._secondIPText.val("");0==i(t.options._secondIPText)&&t.options._firstIPText.focusEnd()}},_validateText3:function(e,t,n){t.isChanged=1,t._methodManager._validateText(e,n);var o=(e||window.event,e.which||event.keyCode||e.keyCode);if(8==o){if(""==t.options._thirdIPText.selector&&0!=i(t.options._thirdIPText))return;if(""!=t.options._thirdIPText.val())return void t.options._thirdIPText.val("");0==i(t.options._thirdIPText)&&t.options._secondIPText.focusEnd()}},_validateText4:function(e,t,n){t.isChanged=1,t._methodManager._validateText(e,n);var o=(e||window.event,e.which||event.keyCode||e.keyCode);if(8==o){if(""==t.options._fourthIPText.selector&&0!=i(t.options._fourthIPText))return;if(""!=t.options._fourthIPText.val())return void t.options._fourthIPText.val("");0==i(t.options._fourthIPText)&&t.options._thirdIPText.focusEnd()}}},_create:function(){var e=this;e._initManager._initIPTextBoxTemplate(e),e._initManager._initIPTextTemplate(e),e._eventManager._initializationEvent(e),e._initManager._setDataBinding(e)},_setOption:function(e,t){"disabled"==e&&(t?(this.options.data._disabled(!0),this.options._mainDiv.attr("disabled",!0),this.options._mainDiv.off("."+this.eventNamespace),this.options._firstIPText.off("."+this.eventNamespace),this.options._secondIPText.off("."+this.eventNamespace),this.options._thirdIPText.off("."+this.eventNamespace),this.options._fourthIPText.off("."+this.eventNamespace)):(this.options.data._disabled(!1),this.options._mainDiv.removeAttr("disabled"),this.options._mainDiv.on("mouseenter"+this.eventNamespace,this,function(e){e.data.options._mainDiv.addClass("aui-iptextbox-border-mouseenter")}),this.options._mainDiv.on("mouseleave"+this.eventNamespace,this,function(e){e.data.options._mainDiv.removeClass("aui-iptextbox-border-mouseenter")})))},_destroy:function(){this.options._mainDiv.off(this.eventNamespace),this.options._firstIPText.off(this.eventNamespace),this.options._secondIPText.off(this.eventNamespace),this.options._thirdIPText.off(this.eventNamespace),this.options._fourthIPText.off(this.eventNamespace),this.element.empty()},getValue:function(){var e,t=this;return e=[t.options.data._first(),t.options.data._second(),t.options.data._third(),t.options.data._fourth()],e=e.join(".")}}),e.fn.setCursorPosition=function(t){return 0==this.lengh?this:e(this).setSelection(t,t)},e.fn.setSelection=function(e,t){if(0==this.lengh)return this;var i=this[0];if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}else i.setSelectionRange&&(i.focus(),i.setSelectionRange(e,t));return this},e.fn.focusEnd=function(){this.setCursorPosition(this.val().length)}}(jQuery,AUI)},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.loading={init:function(i,n){var i=t(i),o=n(),a=o.isClosed,s=ko.isObservable(a),r=ko.toJS(ko.unwrap(o)),l=e.executeEventHandler,d=r.opened,c=r.closed;return i.loading(r),s&&(i.loading("option","opened",function(e,t){a(!1),l(null,"opened",d,e,t)}),i.loading("option","closed",function(e,t){a(!0),l(null,"closed",c,e,t)}),a.subscribe(function(){i.loading("option","isClosed",a())})),{controlsDescendantBindings:!0}}});var i={OVERLAY_CLASS:"aui-loading-overlay",ABSOLUTE_CLASS:"aui-loading-position-absolute",FIXED_CLASS:"aui-loading-position-fixed",CONTENT_CLASS:"aui-loading-content",CONTENT_IMG_AREA_CLASS:"aui-loading-content-img-area",CONTENT_MESSAGE_CLASS:"aui-loading-content-message"};t.widget("aui.loading",{options:{closed:t.noop,content:null,isClosed:!0,opacity:null,opened:t.noop,overlayColor:null,zIndex:999,top:0},_isHidden:!1,isGlobal:!1,$content:null,$overlay:null,_create:function(){this._initMembers()._createLoading()._loaded()._initEvent()},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"overlayColor":i._setOverlayColor(t);break;case"zIndex":i._setzIndex(t);break;case"opacity":i._setOpacity(t);break;case"isClosed":n!=t&&i._setIsClosed(t);break;case"content":i._setContent(t);break;case"top":i._setTop(t)}},_initMembers:function(){var e=this,t=e.options,i=e.element;return i.is("body")&&(e.isGlobal=!0),t.overlayColor=t.loadingBackground||t.overlayColor,t.opacity=t.loadingOpacity||t.opacity,t.zIndex=t.loadingZIndex||t.zIndex,e},_createLoading:function(){var e=this;return e.element.append(e._createContent()).prepend(e._createOverlay()),e},_loaded:function(){var e=this,t=e.options,n=e.element;return e.$content=n.children('div[class~="'+i.CONTENT_CLASS+'"]'),e.$overlay=n.children('div[class~="'+i.OVERLAY_CLASS+'"]'),e._setzIndex(t.zIndex),e._setOverlayColor(t.overlayColor),e._setOpacity(t.opacity),e._setTop(t.top),t.isClosed||e.show(),null!=t.content&&e._setContent(t.content),this},_initEvent:function(){var e=this;e.eventNamespace;return e.$content.on("keydown",e,e._onContentKeydown),e.$overlay.on("keydown",e,e._onOverlayKeydown),this},_createOverlay:function(){var e=i.OVERLAY_CLASS;return e+=this.isGlobal?" "+i.FIXED_CLASS:" "+i.ABSOLUTE_CLASS,'<div tabindex="0" class="'+e+'"></div>'},_createContent:function(){var t=-1,n=[],o=i.CONTENT_CLASS;return o+=this.isGlobal?" "+i.FIXED_CLASS:" "+i.ABSOLUTE_CLASS,n[++t]='<div tabindex="0" class="'+o+'">',n[++t]='<img class="'+i.CONTENT_IMG_AREA_CLASS+'" src="'+e.path+'/image/loading.gif" />',n[++t]="</div>",n.join("")},_onOverlayKeydown:function(e){e.keyCode!=t.ui.keyCode.TAB||e.shiftKey||(e.preventDefault(),e.data.$content.focus())},_onContentKeydown:function(e){e.keyCode==t.ui.keyCode.TAB&&e.shiftKey&&(e.preventDefault(),e.data.$overlay.focus())},_setOverlayColor:function(e){null!=e&&this.$overlay.css("backgroundColor",e)},_setzIndex:function(e){var t=this;t.$overlay.css("zIndex",e),t.$content.css("zIndex",e)},_setOpacity:function(e){null!=e&&this.$overlay.css("opacity",e)},_setTop:function(e){this.$content.css("top",2*e)},_setContent:function(e){this.$content.empty().append(e)},_setIsClosed:function(e){var t=this;e?t.hide():t.show()},_onOpened:function(){var t=this;e.executeEventHandler(t,"opened",t.options.opened,null,e.Event({element:t.element}))},_onClosed:function(){var t=this;e.executeEventHandler(t,"closed",t.options.closed,null,e.Event({element:t.element}))},show:function(){var e=this;e.options.isClosed=!1,"static"==e.element.css("position")&&(e._position="static",e.element.css("position","relative")),e.$overlay.show(),e.$content.show(),e.$content.focus(),e._onOpened()},hide:function(){var e=this;e.options.isClosed=!0,e.$overlay.hide(),e.$content.hide(),"static"==e._position&&e.element.css("position","static"),e._onClosed()},isHidden:function(){return this.options.isClosed}})}(AUI,jQuery)},function(module,exports){!function($,undefined){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.messagebox={init:function(e,t){var i=ko.toJS(ko.unwrap(t()));$(e).messagebox(i)},update:function(e,t){var i=ko.toJS(ko.unwrap(t()));$(e).messagebox(i)}}),$.widget("aui.messagebox",{options:{title:"",bodyScroll:!0,content:"",closeText:"close",closeOnEscape:!0,titleClass:"",closeInTitleBar:$.noop,contentMaxheight:"auto",contentMaxwidth:"auto",height:"auto",width:500,type:"i",overlayOpacity:.25,zIndex:100,buttons:{},theme:{},parameters:{},shown:$.noop},_getImgPosition:function(e){var t={w:"-64px",e:"-96px",i:"-128px"};return t[e.toLowerCase()]==undefined?t.i:t[e.toLowerCase()]},_createButtons:function(){var e=this,t=this.options,i=!1,n=t.buttons,o=t.parameters;"object"==typeof n&&null!==n&&$.each(n,function(){return!(i=!0)}),i?($.each(n,function(i,n){var a,s,r="white";n=$.isFunction(n)?{click:n,text:i}:n,n=$.extend({type:"button"},n),s=n.click,n.click=function(t){s.apply(e.element[0],[t].concat($$.Event({element:e.element,parameters:o[i]})))},a=$("<button></button>",n).attr({role:"button",ariaDisabled:!1}).data("name",i).addClass("button").appendTo(e.uiButtonSet),$.each(t.theme,function(e,t){if(e==i)return void(r=t)}),$(a).button&&$(a).button({disabled:!1,theme:r}).css("margin-left","10px")}),this.uiDialog.addClass("aui-messagebox-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("aui-messagebox-buttons")},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e,t,i,n,o,a,s=this,r=this.options,l=r.title||"&#160;";i=(this.uiDialogIcon=$("<div>").addClass("aui-messagebox-content-pic-img")).append($('<span class="fi-round-infor-a image-larger "></span>').addClass("aui-messagebox-content-img").css({left:s._getImgPosition(r.type),top:"-24px"})),r.content&&this.element.html(r.content),e=this.uiDialog=this.element.show().removeAttr("title").wrap("<div></div>").addClass("aui-messagebox-content-div").css({"max-height":r.contentMaxheight,"max-width":r.contentMaxwidth}).before(i).parent().addClass("aui-messagebox-content").wrap("<div></div>").parent().addClass("aui-messagebox").css({display:"none",zIndex:r.zIndex,width:r.width,height:r.height}).attr("tabindex",0).keydown(function(e){r.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===$.ui.keyCode.ESCAPE&&(s.hide(e),s._trigger("closeInTitleBar",null,$$.Event({element:self.element})),e.preventDefault())}),"n"!=r.type&&"d"!=r.type||(this.element.parent().addClass("aui-messagebox-content-type-n"),this.element.css({"margin-left":"0px"})),t=(this.uiDialogTitlebar=$("<div>")).addClass("aui-messagebox-titlebar "+this.options.titleClass).bind("mousedown",function(){e.focus()}).prependTo(e),n=$("<div tabindex='0' role='button'></div>").addClass("aui-messagebox-titlebar-close").click(function(e){s._trigger("closeInTitleBar",null,$$.Event({element:self.element})),s.hide(),e.preventDefault()}).keydown(function(e){e.keyCode===$.ui.keyCode.ENTER&&(s.hide(e),s._trigger("closeInTitleBar",null,$$.Event({element:self.element})),e.preventDefault())}).append($("<span style='display:none;'></span>").text(r.closeText)).appendTo(t),(this.uiDialogTitlebarCloseText=$("<div class='aui-messagebox-icon-closethick fi-close-bs' aria-span='closebutton'></div>")).appendTo(n),this.uiDialogTitle=o=$("<span>").uniqueId().addClass("aui-messagebox-title").html(l).prependTo(t),"d"==r.type&&n.css({color:"#aaeeaa"}),"d"!=r.type&&t.css({"background-color":"inherit",color:"inherit"}),a=(this.uiDialogButtonPane=$("<div>")).addClass("aui-messagebox-buttonpane"),(this.uiButtonSet=$("<div>")).addClass("aui-messagebox-buttonset").appendTo(a),e.attr({role:"dialog","aria-describedBy":this.element.attr("id"),"aria-labelledby":o.attr("id")}),t.find("*").add(t).disableSelection(),this._createButtons(),this._on(e,{keydown:function(t){if(t.keyCode===$.ui.keyCode.TAB){var i=$(":tabbable",e),n=i.filter(":first"),o=i.filter(":last");return t.target!==o[0]||t.shiftKey?t.target===n[0]&&t.shiftKey?(o.focus(1),!1):void 0:(n.focus(1),!1)}},resize:function(){this.setPosition()}}),this._on($(window),{resize:function(){this.setPosition()}}),this._setType("i",this.options.type)},_init:function(){},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"content":i._setContent(t);break;case"title":i._setTitle(t);break;case"closeInTitleBar":$.isFunction(t)&&(i.options.closeInTitleBar=t);break;case"type":i._setType(n,t);break;case"buttons":i._setButton(t)}},_setTitle:function(e){this.uiDialogTitle.html(e)},_setContent:function(e){this.element.html(e)},_setButton:function(e){var t=this.uiDialogButtonPane;$.each(e,function(e,i){t.find("span.ui-button-text").filter(function(){return $(this).parent().data("name").toLowerCase()==e.toLowerCase()}).text(i)})},_getIcon:function(e){switch(e){case"e":e="fi-round-error-a text-red";break;case"q":e="fi-round-question-a text-blue";break;case"w":e="fi-warning-a text-orange";break;case"n":case"d":e="";break;default:e="fi-round-infor-a text-blue"}return e},_setType:function(e,t){this.uiDialogIcon.children().removeClass(this._getIcon(e)).addClass(this._getIcon(t))},_trigger:function(e,t,i){var n=this;return i&&(i.parameters=n.options.parameters[e]||{},i.type="messagebox"),n.element.trigger(e,i),$.Widget.prototype._trigger.call(n,e,t,i)},_destroy:function(){var e,t=this.oldPosition;this.overlay&&(this.overlay.off(),$("body").overlay("hide")),this.uiDialog.hide(),this.element.removeClass("aui-messagebox-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),self._trigger("destroy",null,$$.Event({element:self.element})),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},getOverlay:function(){return this.overlay},setPosition:function(){if(!this.uiDialog.is(":visible"))return!1;var e=$(window),t=(e.height()-this.uiDialog.height())/2;if(this.uiDialog.css("left",(e.width()-this.uiDialog.width())/2),this.uiDialog.css("top")!=t&&this.uiDialog.css("top",t),this.uiDialog.outerHeight()>document.documentElement.clientHeight){var i=this.uiDialog.find(".aui-messagebox-content").eq(0);i.css("overflow-y","scroll"),i.css("height",i.outerHeight()-this.uiDialog.outerHeight()+document.documentElement.clientHeight)}},show:function(){var e=this,t=($(window),$("body .aui-overlay:visible").not(".aui-overlay-display-none"));if(0==t.length)this.overlay=$("body").overlay({enabledElement:e.uiDialog,overlayOpacity:e.options.overlayOpacity,overlayZIndex:+e.options.zIndex-1}),$("body").overlay("show",+e.options.zIndex-1);else{var i=e.getOtherMsg(e.element);this.overlay=i.overlay();try{i[0].style.position=""}catch(n){}var o=e.options.zIndex;$("*:visible").filter(function(){return this.style.zIndex}).each(function(){this.style.zIndex<200&&(o=Math.max(o,this.style.zIndex))}),i.overlay("show",o+1),this.uiDialog.css("z-index",o+2)}this.uiDialog.css("visibility","hidden").show(),this._disableScroll("add"),this.setPosition(),this.uiDialog.css("visibility","visible"),setTimeout(function(){e.uiDialog.focus(1)},200),this._trigger("shown",null,$$.Event({element:e.element}))},hide:function(){var e=this;this.uiDialog.hide(),0==$(".aui-messagebox:visible").length?$("body").overlay("hide"):e.getOtherMsg(e.element).overlay("hide"),0==$(".aui-messagebox:visible").length&&this._disableScroll("remove")},getOtherMsg:function(e){var t=e.closest(".aui-messagebox"),i=$(".aui-messagebox:visible").not(t);return 0==i.length&&(i=$(".aui-dialog:visible").not(t)),i.length>1&&(i=i.eq(0),console.warn("Current visible Messagebox.length>1,Place chect it,Any question connect gui")),i},_disableScroll:function(type){if(!this.options.bodyScroll){var _width=$("body").outerWidth(!0);eval('$("html").'+type+'Class("dialog-open")'),$("body").css("padding-right",parseFloat($("body").css("padding-right"))+$("body").outerWidth(!0)-_width)}}})}(jQuery)},function(e,t){!function(e){"use strict";var t=-1,i={MULTICOMBOBOX_CLASS:"aui-multicombobox",INPUT_CLASS:"aui-multicombobox-input",DROPDOWN_CLASS:"aui-multicombobox-dropdown",ICON_DROPDOWN:"fi-triangle-down-bs",POPUP_CLASS:"aui-multicombobox-popup",NO_MATCH_CLASS:"aui-multicombobox-nomatch",LISTBOX_CLASS:"aui-multicombobox-listbox",SELECTION_ITEM_CLASS:"aui-multicombobox-selection-item",SELECTION_LABEL_CLASS:"aui-multicombobox-selection-span",MOUSEENTER_CLASS:"aui-multicombobox-mouseenter",BUTTON_AREA_CLASS:"aui-multicombobox-button-area",SELECT_ALL_CLASS:"aui-multicombobox-select-all"};e.widget("aui.multicombobox",{inputId:"aui-multicombobox-input-",dropdownId:"aui-multicombobox-dropdownId-",popupId:"aui-multicombobox-popup-",listboxId:"aui-multicombobox-listbox-",selectAllId:"aui-multicombobox-selectall-",okId:"aui-multicombobox-ok-",cancelId:"aui-multicombobox-cancel-",options:{width:220,height:38,popupWidth:null,dataCheckedField:null,dataTextField:null,dataDynamicField:null,hasSelect:!1,hasFilter:!1,noneText:$$.I18N.multicombobox.none,allText:$$.I18N.multicombobox.allText,selectAllText:$$.I18N.multicombobox.selectAllCheckbox,selectedItemsTemplate:$$.I18N.multicombobox.selectedXItems,selectedItemTemplate:$$.I18N.multicombobox.selectedXItem,selectionChanged:e.noop},_create:function(){this._initMember()._createMulticombobox()._loaded()._initEvent()},_setOption:function(e,t){},_initMember:function(){return this._checkRequired(),this._initId(),this._items=[],this._textName=this.options.dataTextField,this._checkName=this.options.dataCheckedField,this._dynamicName=this.options.dataDynamicField,this.$body=e("body"),this.element.addClass(i.MULTICOMBOBOX_CLASS),this},_checkRequired:function(){"string"==typeof this.options.dataCheckedField&&this.options.dataCheckedField||e.error("dataCheckedField is undefined"),"string"==typeof this.options.dataTextField&&this.options.dataTextField||e.error("dataTextField is undefined")},_initId:function(){++t,this.inputId+=t,this.dropdownId+=t,this.popupId+=t,this.listboxId+=t,this.selectAllId+=t,this.okId+=t,this.cancelId+=t},_createMulticombobox:function(){var e=-1,t=[],n="";return this.options.hasFilter||(n='readonly="true"  aria-readonly="true"'),t[++e]='<input id="'+this.inputId+'" class="'+i.INPUT_CLASS+'" type="text" '+n+' aria-autocomplete="none" />',t[++e]='<div id="'+this.dropdownId+'" unselectable="on" class="'+i.DROPDOWN_CLASS+" "+i.ICON_DROPDOWN+'" ></div>',this.element.html(t.join("")),this.$body.append(this._createPopup()),this},_createPopup:function(){var e=-1,t=[];return t[++e]='<div data-bind="stopBindings:multicombobox">',t[++e]='<div class="'+i.POPUP_CLASS+'" id="'+this.popupId+'">',t[++e]='<div class="'+i.NO_MATCH_CLASS+'">No matches found.</div>',t[++e]='<span class="'+i.SELECTION_LABEL_CLASS+" "+i.SELECT_ALL_CLASS+'">',t[++e]='<input id="'+this.selectAllId+'" type="checkbox" />',t[++e]="<span>"+this.options.selectAllText+"</span>",t[++e]="</span>",t[++e]='<div class="'+i.LISTBOX_CLASS+'" id="'+this.listboxId+'" role="listbox"  >',t[++e]="</div>",t[++e]='<div class="'+i.BUTTON_AREA_CLASS+'">',t[++e]='<button style="margin-top:8px;margin-right:5px;" id="'+this.okId+'" type="button" class="button-theme button-sm">OK</button>',t[++e]='<button style="margin-top:8px;margin-right:6px" id="'+this.cancelId+'" type="button" class="button button-sm">Cancel</button>',t[++e]="</div>",t[++e]="</div>",t[++e]="</div>",t.join("")},_loaded:function(){return this.$input=this.element.children("#"+this.inputId),this.$dropdown=this.element.children("#"+this.dropdownId),this.$popup=this.$body.find("#"+this.popupId),this.$listbox=this.$popup.children("#"+this.listboxId),this.$selectAll=this.$popup.find("#"+this.selectAllId),this.$ok=this.$popup.find("#"+this.okId),this.$cancel=this.$popup.find("#"+this.cancelId),this._setWidth()._setHeight()._setPopupWidth(),this._updatePopupPosition(),this},_initEvent:function(){return $$.close(this.element,"multicombobox","hide"),this.$input.on("mousedown",this,this._onContentMousedown).on("mouseenter",this,this._onContentMouseEnter).on("mouseleave",this,this._onContentMouseLeave).on("keydown",this,this._onContentKeydown).on("click",this,this._onContentClick).on("focus",this,this._onContentFocus).on("input propertychange",this,this._onContentChange),this.$dropdown.on("click",this,this._onDropdownClick).on("mousedown",this,this._onContentMousedown).on("mouseleave",this,this._onContentMouseLeave).on("mouseenter",this,this._onContentMouseEnter),this.$popup.on("mousedown",this,this._onselectionMouseDown).on("mousewheel",this,function(t){var t=t||event,i=e(this).children(".aui-multicombobox-listbox")[0],n=i.scrollHeight>i.clientHeight||i.offsetHeight>i.clientHeight,o=i.scrollTop<=0&&t.deltaY>0,a=i.scrollTop>=i.scrollHeight-i.offsetHeight&&t.deltaY<0,s=n&&(o||a),r=e(t.target).closest(this).length>0&&0==e(t.target).closest(i).length;(!n||s||r)&&t.preventDefault(),$$.closeExcept(t.data.element,!0)}),this.$listbox,this.$selectAll.on("click",this,this._onSelectAllClick),this.$ok.on("click",this,this._onOKClick),this.$cancel.on("click",this,this._onCancelClick),this},_updatePopupPosition:function(){var e=this,t="left top+";t+=e.element.height(),e.$popup.position({my:t,at:"left top+2",of:e.element,collision:"flipfit flipfit",within:e.options.within})},_onWindowResize:function(e){e.data._updatePopupPosition()},_trigger:function(t,i,n){var o=this;return n&&(n.type="multicombobox"),o.element.trigger(t,n),e.Widget.prototype._trigger.call(o,t,i,n)},_setWidth:function(){return this.element.width(this.options.width),this.$input.width(this.element.width()-22),this},_setHeight:function(){var e=this.options.height;return this.element.height(e),e-=2,this.$input.height(e),this},_setPopupWidth:function(){return this.options.popupWidth?this.$popup.width(this.options.popupWidth):this.$popup.width(this.element.width()),this},_hide:function(){this._isOpened=!1,$$.closeVisibility(this.element,!1),this.$input.attr("aria-expanded",!1).focus(),this.$popup.hide(),this._isCancel?this._cancel():this._onSelectionChanged()},_checkedAssert:function(e){return 1==e[this._checkName]},_onSelectionChanged:function(){function e(e){return e.filter(function(e){return 1==e[i._checkName]})}function t(t){return!!e(t)&&e(t).length==t.length}var i=this;this._updateContent(),this._trigger("selectionChanged",null,$$.Event({element:i.element,newValue:{isSelectAll:t(i._items),items:e(i._items)},oldValue:{isSelectAll:t(i._old),items:e(i._old)}}))},_updateContent:function(){for(var e,t=0,i=this._items,n=0,o=i.length;t<o;t++)i[t][this._checkName]&&++n;e=0==n?this.options.noneText:n==o?this.options.allText:1==n?this.options.selectedItemTemplate.format(n):this.options.selectedItemsTemplate.format(n),this.$input.val(e)},_updateCheckbox:function(){for(var e=0,t=this._items,i=t.length;e<i;e++)this.$checkboxes[e].prop("checked",t[e][this._checkName])},_cancel:function(){e.extend(!0,this._items,this._old),this._updateCheckbox(),this.$selectAll.prop("checked",this._allChecked)},_show:function(){this.options.selectedIndex;this._isCancel=!0,this._isOpened=!0,this._old=[],this._allChecked=this.$selectAll.prop("checked"),e.extend(!0,this._old,this._items),$$.closeVisibility(this.element,!0),this.$popup.show(),this.$listbox.scrollLeft(0),this._updatePopupPosition(),this.$input.focus(),this.$input.attr("aria-expanded",!0)},_onItemsSourceChanged:function(t){var n,o=t.length,a=this._items.length;if(this._items=t,a<o){for(var s=-1,r=[];a<o;a++)r[++s]='<span class="'+i.SELECTION_ITEM_CLASS+" "+i.SELECTION_LABEL_CLASS+'">',r[++s]='<input type="checkbox" />',r[++s]="<span></span>",r[++s]="</span>";this.$listbox.append(r.join(""))}else if(a>o)for(n=o;n<a;n++)e(this.$selection[n]).empty().remove();for(this.$selection=this.$listbox.children("."+i.SELECTION_ITEM_CLASS),this.$checkbox=this.$selection.find("input").off().on("click",this,this._onCheckboxClick),this.$checkboxes=[],this.$text=this.$selection.find("span"),n=0;n<o;n++)this.$checkboxes[n]=e(this.$checkbox[n]),this.$checkboxes[n].data("index",n).prop("checked",t[n][this._checkName]).prop("disabled",t[n][this._dynamicName]),this.$text[n].innerText=t[n][this._textName];this._checkSelectAll(),this._updateContent()},_onDropdownClick:function(e){var t=e.data;t.$input.focus(),t.options.disabled===!1&&(t._isOpened?t._hide():t._show()),t._isContentMouseDown=!1},_onContentMouseEnter:function(e){var t=e.data;t.options.disabled===!1&&t.element.addClass(i.MOUSEENTER_CLASS)},_onContentMouseLeave:function(e){var t=e.data;t.element.removeClass(i.MOUSEENTER_CLASS)},_onContentKeydown:function(t){var i=t.data;if(i.options.disabled===!1)switch(t.which){case e.ui.keyCode.ENTER:i._onElementEnter();break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.UP:t.preventDefault()}},_onElementEnter:function(){this._isOpened?this._hide():this._show()},_onContentMousedown:function(e){var t=e.data;$$.closeExcept(t.element,!0)},_onContentClick:function(e){var t=e.data;return t.options.disabled===!1&&(t._isOpened?t._hide():t._show()),t},_onContentFocus:function(t){var i=t.data;i.options.hasFilter&&(this.value?e(this).select():i._onContentChange.apply(i.$input,[t]))},_onContentChange:function(t){var n=t.data,o=this.value?this.value:"",a=0;if(!n.options.hasFilter)return!1;n.$text.each(function(){e(this).text().indexOf(o)!=-1?(a++,e(this).parent().show()):e(this).parent().hide()});var s=n.$popup.children("."+i.NO_MATCH_CLASS);a==n.$text.length?s.hide().siblings().show():0==a?s.show().siblings().hide():n.$selectAll.parent().hide()},_onselectionMouseDown:function(e){e.stopPropagation(),e.preventDefault()},_onSelectAllClick:function(e){for(var t=0,i=e.data,n=i._items.length,o=i.$selectAll.prop("checked");t<n;t++)i._items[t][i._dynamicName]||(i.$checkbox.eq(t).prop("checked",o),i._items[t][i._checkName]=o);i._checkHasSelect()},_checkSelectAll:function(){for(var e=0,t=0,i=this._items,n=i.length;e<n;e++)1==i[e][this._checkName]&&t++;t==n?this.$selectAll.prop("checked",!0):this.$selectAll.prop("checked",!1)},_onCheckboxClick:function(t){var i=t.data,n=e(t.target),o=n.data("index");i._items[o][i._checkName]=n.prop("checked"),n.prop("checked")?i._checkSelectAll():i.$selectAll.prop("checked",!1),i._checkHasSelect()},_onOKClick:function(e){var t=e.data;t._isCancel=!1,t._hide()},_onCancelClick:function(e){var t=e.data;t._isCancel=!0,t._hide()},_checkHasSelect:function(){function t(t){var i=!1;return e.each(t,function(e,t){i=t[o]||i}),i}var i=this,n=i.options.hasSelect,o=i._checkName;return!!n&&void(t(i._items)?i.$ok.removeAttr("disabled"):t(i._items)||i.$ok.attr("disabled","disabled"))},hide:function(){var e=this;e._isOpened&&e._hide()},selectedItems:function(){var e=this;return this._items.filter(function(t){return 1==t[e._checkName]})},itemsSource:function(t){return e.isArray(t)&&t.length>=0?void this._onItemsSourceChanged(t):this._items}})}(jQuery)},function(e,t){"use strict";!function(e,t){e.widget("aui.numericbox",{options:{value:0,minValue:0,maxValue:100,disabled:!1,width:40,contentChanged:e.noop,keyDown:e.noop,height:20,mode:"right"},_create:function(){var e=this,t=e.options,i=e.element;e._constant(),i.append(e._containerDiv),e._containerDiv.width(t.width).height(t.height),e._content.width(parseInt(t.width)-15).height(t.height),e._upDiv.append(e._upButton),e._downDiv.append(e._downButton),e._containerDiv.append(e._upDiv).append(e._content).append(e._downDiv),e._setDataBinding(e),e._upButton.repeatbutton({isTabStop:!1}),e._downButton.repeatbutton({isTabStop:!1}),e.disabled(t.disabled)},_init:function(){var e=this;e.options,e.element;e._upButton.find("img").addClass("aui-numericbox-up-mouseover"),e._downButton.find("img").addClass("aui-numericbox-down-mouseover"),e._upButton.find("img").addClass("aui-numericbox-up-mousedown"),e._downButton.find("img").addClass("aui-numericbox-down-mousedown"),e._containerDiv.on("keydown"+e.eventNamespace,e,e._method.keyDown),e._content.on("keypress"+e.eventNamespace,e,e._method.contentKeyPress).on("change"+e.eventNamespace,e,e._method.contentChange)},_destroy:function(){this._content.off(this.eventNamespace),this.element.empty()},_setOption:function(e,t){var i=this;i.element,i.options;switch(this.options[e]=t,e){case"maxValue":this.bindingData.maxValue(t);break;case"minValue":this.bindingData.minValue(t);break;case"value":this.bindingData.value(t),this._content.attr("aria-span",t);break;case"mode":this._changeMode();break;case"disabled":i.bindingData.disabled(t),i._containerDiv.attr("disabled",t).addClass("aui-numericbox-container-disabled"),t?i._containerDiv.addClass("aui-numericbox-container-disabled"):i._containerDiv.removeClass("aui-numericbox-container-disabled"),i.element.attr("disabled",t)}},_changeMode:function(){var e=this;"updown"==e.options.mode?(e._upButton.children("img").hide(),e._downButton.children("img").hide(),e._upButton.children("div[class~=aui-numericbox-arrow-up]").show(),e._downButton.children("div[class~=aui-numericbox-arrow-down]").show(),e._containerDiv.css("borderWidth",0).addClass("aui-numericbox-container-updown").attr("tabIndex",-1),e._upDiv.addClass("aui-numericbox-up-div-updown"),e._content.addClass("aui-numericbox-content-updown"),e._downDiv.addClass("aui-numericbox-down-div-updown")):(e._upButton.children("div[class~=aui-numericbox-arrow-up]").hide(),e._downButton.children("div[class~=aui-numericbox-arrow-down]").hide(),e._upButton.children("img").show(),e._downButton.children("img").show(),e._containerDiv.css("borderWidth",1).removeClass("aui-numericbox-container-updown").attr("tabIndex",0),e._upDiv.removeClass("aui-numericbox-up-div-updown"),e._content.removeClass("aui-numericbox-content-updown"),e._downDiv.removeClass("aui-numericbox-down-div-updown"))},_constant:function(){var i=this;i._containerDiv=e('<div tabindex="0"></div>').addClass("aui-numericbox-container aui-numericbox-mouseover"),i._content=e('<input role="spinbutton" hidefocus=true tabindex="0" type="text" data-bind="disable:disabled,value:value,valueUpdate: \'afterkeydown\'"/>').addClass("aui-numericbox-content"),
i._upDiv=e("<div></div>").addClass("aui-numericbox-up-div"),i._downDiv=e("<div></div>").addClass("aui-numericbox-down-div"),i._upButton=e('<div data-bind="disable:disabled,click:upClick"><div class="aui-numericbox-arrow-up"></div><img  class="aui-numericbox-up" alt="" src="'+t.path+'/image/numerictextbox.png"/></div>').addClass("aui-numericbox-ImgContainer"),i._downButton=e('<div data-bind="disable:disabled,click:downClick"><div class="aui-numericbox-arrow-down"></div><img class="aui-numericbox-down" alt="" src="'+t.path+'/image/numerictextbox.png"/></div>').addClass("aui-numericbox-ImgContainer"),i._changeMode()},_setDataBinding:function(i){var n=i.options,o=(n.members,i.element),a=function(e){var n=this;n.disabled=ko.observable(!1),n.value=ko.observable(e.value),n.minValue=ko.observable(e.minValue),n.maxValue=ko.observable(e.maxValue),n.upClick=function(e,o){n.disabled()||(n.value()<n.maxValue()?n.value(parseInt(n.value())+1):n.value(n.minValue()),i._setOption("value",n.value()),i._trigger("contentChanged",o,t.Event({element:i.element})))},n.downClick=function(e,o){n.disabled()||(n.value()>n.minValue()?n.value(n.value()-1):n.value(n.maxValue()),i._setOption("value",n.value()),i._trigger("contentChanged",o,t.Event({element:i.element})))}};i.bindingData=new a(n),e(function(){ko.applyBindings(i.bindingData,o[0])})},_method:{keyDown:function(i){var n=i.data,o=(n.options,i.which||i.keyCode||i.keyCode);switch(o){case 38:n.bindingData.value()<n.bindingData.maxValue()?n.bindingData.value(parseInt(n.bindingData.value())+1):n.bindingData.value(n.bindingData.minValue()),n._setOption("value",n.bindingData.value());break;case 40:n.bindingData.value()>n.bindingData.minValue()?n.bindingData.value(n.bindingData.value()-1):n.bindingData.value(n.bindingData.maxValue()),n._setOption("value",n.bindingData.value())}n._trigger("keyDown",i,e.extend(t._EventArgs,{element:n.element})),n._trigger("contentChanged",i,t.Event({element:n.element}))},contentKeyPress:function(e){var t=e.which||e.keyCode||e.keyCode;if((t<48||t>57)&&9!=t)return!1},contentChange:function(e){var i=e.data,n=i.options,o=/^\d+$/;o.test(i._content[0].value)?i.bindingData.value()<i.bindingData.minValue()||i.bindingData.value()>i.bindingData.maxValue()?(i._setOption("value",n.value),i.bindingData.value(n.value)):(i._setOption("value",i.bindingData.value()),i.bindingData.value()):(i.bindingData.value(n.value),i._setOption("value",i.bindingData.value())),i._trigger("contentChanged",e,t.Event({element:i.element}))}},value:function(e){return 0==arguments.length?this.options.value:void this._setOption("value",e)},width:function(e){this._containerDiv.width(e)},maxValue:function(e){return 0==arguments.length?this.options.maxValue:void this._setOption("maxValue",e)},minValue:function(e){return 0==arguments.length?this.options.minValue:void this._setOption("minValue",e)},disabled:function(e){return 0==arguments.length?this.options.disabled:void this._setOption("disabled",e)}})}(jQuery,AUI)},function(e,t){"use strict";!function(e){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.overlay={init:function(t,i,n){var o=ko.toJS(ko.unwrap(i()));e(t).overlay(o)},update:function(t,i,n){var o=ko.toJS(ko.unwrap(i()));e(t).overlay(o)}}),e.widget("aui.overlay",{options:{enabledElement:null,overlayBackground:"#000000",overlayOpacity:.25,overlayZIndex:10,isScrollVisible:!0},_initContainer:function(){var t=this,i=t.element,n=t.options;n.enabledElement=n.enabledElement instanceof jQuery?n.enabledElement:e(n.enabledElement),t.ATTR_ENABLED=$$.generateUUIDByControlName("attr_enable"),void 0==t._mainoverlay&&(t._mainoverlay=e("<div class='aui-overlay'></div>"),i.prepend(t._mainoverlay))},_initParts:function(){var e=this,t=e.element;e._mainoverlay.css({background:e.options.overlayBackground,opacity:e.options.overlayOpacity,"z-index":e.options.overlayZIndex}),t.is("body")?e._mainoverlay.addClass("aui-overlay-position-fixed"):(e._mainoverlay.css({height:t[0].clientHeight,width:t[0].clientWidth}),t.css("position","relative"),"static"==t.css("position")?e._mainoverlay.css({top:t.position().top,left:t.position().left,"margin-top":t.css("margin-top"),"margin-left":t.css("margin-left")}):e._mainoverlay.addClass("aui-overlay-place"))},_setFocusDisabled:function(t){var i=this,n=i.element;t?(i.options.enabledElement&&(i.options.enabledElement.find("*").each(function(){e(this).attr(i.ATTR_ENABLED,!0)}),i.options.enabledElement.attr(i.ATTR_ENABLED,!0)),n.find("*").each(function(){var t=e(this);e(this).attr(i.ATTR_ENABLED)||(void 0!=t.attr("tabindex")?t.attr("oldtabindex",t.attr("tabindex")):t.attr("oldtabindex","c27b1721-07a0-050b-f85b-10a5feeffcfc"),e(this).attr("tabindex",-1))})):n.find("*").each(function(){var t,n=e(this);n.attr(i.ATTR_ENABLED)?n.removeAttr(i.ATTR_ENABLED):(t=n.attr("oldtabindex"),void 0!=t&&n.attr("tabindex",n.attr("oldtabindex")),"c27b1721-07a0-050b-f85b-10a5feeffcfc"==t&&n.removeAttr("tabindex"),n.removeAttr("oldtabindex"))})},_resetSize:function(){var t=this,i=t.element;i[0]!=e("body")[0]&&(t._mainoverlay.css({height:i[0].clientHeight,width:i[0].clientWidth}),"static"==i.css("position")&&t._mainoverlay.css({top:i.position().top,left:i.position().left,"margin-top":i.css("margin-top"),"margin-left":i.css("margin-left")}))},_create:function(){var t=this;t._isHidden=!0,t._initContainer(),t._initParts(),e(window).resize(function(){t._resetSize()})},_destroy:function(){var e=this;e._isHidden||e.hide(),e._mainoverlay.removeClass().remove(),e.element.empty()},show:function(t){if(1==this._isHidden){var i=this,n=i.element;i._mainoverlay.removeClass("aui-overlay-display-none").addClass("aui-overlay-display-block"),i._isHidden=!1,i._setFocusDisabled(!0),i.options.isScrollVisible||(i._hostoverflow=n.css("overflow"),i._hostoverflowX=n.css("overflowX"),i._hostoverflowY=n.css("overflowY"),n.css("overflow","hidden").css("overflowX","hidden").css("overflowY","hidden")),n[0]!=e("body")[0]&&i._mainoverlay.css({height:n[0].clientHeight,width:n[0].clientWidth}),t&&i.resetZIndex(t)}},hide:function(){if(0==this._isHidden){var e=this;e._mainoverlay.removeClass("aui-overlay-display-block").addClass("aui-overlay-display-none"),e._isHidden=!0,e._setFocusDisabled(!1),e.options.isScrollVisible||e.element.css("overflow",e._hostoverflow).css("overflowX",e._hostoverflowX).css("overflowY",e._hostoverflowY)}},isHidden:function(){var e=this;return e._isHidden},refresh:function(){this._resetSize()},resetZIndex:function(e){this._mainoverlay.css("z-index",parseInt(e))}})}(jQuery)},function(e,t){"use strict";!function(e,t){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.peoplepicker={init:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).peoplepicker(n)},update:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).peoplepicker(n)}});var i=-1,n={inputContainerFocusClass:"aui-peoplepicker-default-container-focus",inputContainerMouseOverClass:"aui-peoplepicker-default-container-mouseover",itemInputClass:"aui-peoplepicker-item-input",itemInputContainerClass:"aui-peoplepicker-item-input-container",itemHightlightClass:"aui-peoplepicker-popup-item-highlight",itemNormalClass:"aui-peoplepicker-popup-item-normal",resolveditemPassedClass:"aui-peoplepicker-resolved-item-passed",resolveditemUnpassedClass:"aui-peoplepicker-resolved-item-unpassed"};e.widget("aui.peoplepicker",{listboxId:"aui-peoplepicker-listbox-",selectedId:"aui-peoplepicker-selected-",options:{itemsSource:[],reloadItem:[],width:300,height:24,popupMaxHeight:100,popupMaxWidth:320,keywordLength:3,isMultiSelection:!0,hasLoading:!1,disabled:!1,i18nPath:null,i18nLang:null,within:window,selectedTemplate:'<span data-bind="text:displayName"></span>',searching:e.noop,resolvedItemsChanged:e.noop,blur:e.noop,quickPick:e.noop},_create:function(){var i=this,n=i.options;i.ishide={isdelete:!1,popupopen:!1,inputfocus:!1},i._initMembers(),i._setDataBinding(),i._setOption("disabled",n.disabled),n.reloadItem.length>0&&i.reload(n.reloadItem),t.close(i.element,"peoplepicker","hide"),i._window=e(window).on("resize",i,i._onWindowResize),i._updateLayout()},_onWindowResize:function(e){var t=e.data;t._updateLayout()},_init:function(){var i=this,n=i.options;i._startSearch(),i._input.on("mouseup"+i.eventNamespace,function(o){i._keyWords=i._input.val(),""!=i._keyWords&&n.searching({},e.extend(t._EventArgs,{newValue:i._keyWords,element:i.element}))}),i._mousePick(),i._setPopupMaxHeight()},_initId:function(){var e=this;e.listboxId+=i,e.selectedId+=i},_initMembers:function(){var t=this,o=t.options;++i,t._initId(),t._showLi=[],t._selectID=-1,t._keyWords="",t._showList=[],t._main=e("<div></div>").addClass("aui-peoplepicker-default-container-border"),t._main.width(parseInt(o.width)+20),t._popupContainer=e("<div></div>").addClass("aui-peoplepicker-popup-container"),t._popupContainer.css("min-width",o.width),t._popupContainerItems=e("<div></div>").addClass("aui-peoplepicker-popup-container-items"),t._loading=e("<div></div>").addClass("aui-peoplepicker-search-loading"),t._main.append(t._getTemplateString().defaultContainer),t.element.append(t._main),e("body").append(t._popupContainer),t._input=t.element.find("."+n.itemInputClass),t._inputContainer=t.element.find("."+n.itemInputContainerClass),t._defaultContainerElement=t.element.find(".aui-peoplepicker-default-container"),t._defaultContainerElement.width(parseInt(o.width)),t._defaultContainerElement.append(t._loading),t._defaultContainerElement.css("min-height",o.height+"px"),t._popupContainer.css("max-width",o.popupMaxWidth+"px"),t._resolvedItemsElement=t.element.find(".aui-peoplepicker-resolved-items-span"),t._main.wrap("<div data-bind='stopBindings:true'></div>"),t._popUp=t._popupContainer.popup({placement:"bottom-left",within:o.within,dependence:t._defaultContainerElement,width:"auto"})},_initEvent:function(){var i=this,o=i.options;i.stop=!1,i.element.off(i.eventNamespace).on("click"+i.eventNamespace,function(){i._input.focus()}),i._main.off(i.eventNamespace),i._input.off(i.eventNamespace).on("focus"+i.eventNamespace,function(){i._main.addClass(n.inputContainerFocusClass),i._defaultContainerElement.addClass(n.inputContainerFocusClass)}).on("blur"+i.eventNamespace,this,function(a){i.ishide.inputfocus=!1,i._main.removeClass(n.inputContainerFocusClass),i._defaultContainerElement.removeClass(n.inputContainerFocusClass),i.ishide.isdelete==i.ishide.inputfocus==i.ishide.popupopen==0&&o.blur({},e.extend(t._EventArgs,{element:i.element,newValue:i.rootBindingData.resolvedItems()})),i.ishide.popupopen=!1,i.ishide.inputfocus=!0}).on("keydown"+i.eventNamespace,function(n){i._backSpace(n),13!=n.keyCode||i.ishide.popupopen||o.blur({},e.extend(t._EventArgs,{element:i.element})),i.ishide.popupopen=!1}),i._defaultContainerElement.off(i.eventNamespace).on("mouseover"+i.eventNamespace,function(){i.ishide.isdelete=!0,o.disabled||(i._main.addClass(n.inputContainerMouseOverClass),i._defaultContainerElement.addClass(n.inputContainerMouseOverClass))}).on("mouseout"+i.eventNamespace,function(){i.ishide.isdelete=!1,i._main.removeClass(n.inputContainerMouseOverClass),i._defaultContainerElement.removeClass(n.inputContainerMouseOverClass)}),i._popupContainer.off(i.eventNamespace).on("mousewheel"+i.eventNamespace,function(){t.closeExcept(i.element,!0)}).on("mouseover"+i.eventNamespace,function(){i.ishide.popupopen=!0}).on("mouseout"+i.eventNamespace,this,function(e){var t=e.data;t.ishide.popupopen=!1,t._input.focus()}).on("mousedown"+i.eventNamespace,this,function(e){e.stopPropagation(),t.closeExcept(i.element,!0)}),o.i18nPath&&I18N.register("aui.resultText",o.i18nPath,o.i18nLang)},_startSearch:function(){var i=this,n=i.options;i._input.off(i.eventNamespace),i._initEvent(),i._input.on("keyup"+i.eventNamespace,function(o){var a=o.which||o.keyCode;if(i._keycodePick(o),8==a||0==a||32==a||186==a||48<=a&&a<=57||61==a||65<=a&&a<=90||96<=a&&a<=111||173==a||188==a||190<=a&&a<=192||219<=a&&a<=222)if(i._keyWords=i._input.val(),""!=i._keyWords){if(i._keyWords.length>=n.keywordLength){var s=n.searching({},e.extend(t._EventArgs,{newValue:i._keyWords,element:i.element}));i._getSearchResult(),s!==!0?i._show():i.hide(),i._mousePick(),i._selectID=-1,i._continueCheck()}}else i._hide()})},_setOption:function(t,i){var n=this,o=n.options,a={oldValue:o[t],newValue:i,element:n.element};"hasLoading"==t&&(i?n._loading.show():n._loading.hide()),e.Widget.prototype._setOption.apply(this,arguments),"itemsSource"==t&&i.length>0&&(n.options.itemsSource=a.newValue),"disabled"==t&&(i?(n._defaultContainerElement.addClass("aui-peoplepicker-default-container-disabled"),n._input.attr("disabled","disabled").addClass("aui-peoplepicker-item-input-disabled"),n._defaultContainerElement.find("*").each(function(){e(this).attr("tabindex",-1)}),n._defaultContainerElement.find(".aui-peoplepicker-resolved-items-span-closebutton").removeClass("aui-peoplepicker-resolved-items-span-closebutton-div").addClass("aui-peoplepicker-resolved-items-span-closebutton-disabled"),n._defaultContainerElement.find(".aui-peoplepicker-resolved-item-unpassed").addClass("aui-peoplepicker-resolved-item-unpassed_disable"),n._hide(),n._defaultContainerElement.off(n.eventNamespace)):(n._defaultContainerElement.removeClass("aui-peoplepicker-default-container-disabled"),n._input.removeAttr("disabled").removeClass("aui-peoplepicker-item-input-disabled"),n._defaultContainerElement.find(".aui-peoplepicker-resolved-item").attr("tabindex",0),n._input.attr("tabindex",0),n._defaultContainerElement.find(".aui-peoplepicker-resolved-items-span-closebutton").removeClass("aui-peoplepicker-resolved-items-span-closebutton-disabled").addClass("aui-peoplepicker-resolved-items-span-closebutton-div"),n._defaultContainerElement.find(".aui-peoplepicker-resolved-item-unpassed").removeClass("aui-peoplepicker-resolved-item-unpassed_disable")))},_mousePick:function(){var i=this,o=i.options;i._items=i._popupContainer.find("li"),i._items.on("mouseover"+i.eventNamespace,function(t){e(t.target).addClass(n.itemHightlightClass),i.ishide.popupopen=!0}).on("mouseout"+i.eventNamespace,function(t){i.ishide.popupopen=!1,e(t.target).removeClass(n.itemHightlightClass)}).on("click"+i.eventNamespace,function(e){return i.ishide.popupopen=!1,i._input.val(""),!o.isMultiSelection&&i._resolvedItemsElement.children().length>0?(i._hide(),i._input.focus(),!1):(i._itemClick(i._getHighlightItem(),!0),i._updateLayout(),i._input.focus(),void i._hide())}).on("mousedown"+i.eventNamespace,function(e){t.closeExcept(i.element,!0)})},hide:function(){var e=this;e._popUp.popup("isOpening")&&e._hide()},_show:function(){var e=this;t.closeVisibility(e.element,!0),e._popUp.popup("show")},_hide:function(){var e=this;t.closeVisibility(e.element,!1),e._popUp.popup("hide")},_backSpace:function(i){var n=this,o=n.options,a=i.which||i.keyCode;({oldValue:null,newValue:null,element:n.element});8==a&&""==n._input.val()&&(n.rootBindingData.resolvedItems.pop(),o.resolvedItemsChanged({},e.extend(t._EventArgs,{newValue:n.rootBindingData.resolvedItems(),element:n.element})),n._updateLayout(),n._input.focus(),i.preventDefault())},_keycodePick:function(t){var i=this,o=i.options,a=t.which||t.keyCode,s=i._input.val().split(";");if(s.length>1&&i._validateInput(),i._showLi.length>0)switch(a){case 40:if(i.ishide.popupopen=!0,!(i._selectID<i._showLi.length-1))return e(i._showLi[i._selectID]).removeAttr("id",i.selectedId).removeClass(n.itemHightlightClass),i._selectID=-1,!1;e(i._showLi[i._selectID]).removeAttr("id",i.selectedId).removeClass(n.itemHightlightClass).addClass(n.itemNormalClass),i._selectID=i._selectID+1,e(i._showLi[i._selectID]).attr("id",i.selectedId).removeClass(n.itemNormalClass).addClass(n.itemHightlightClass),i._input.val(e(i._showLi[i._selectID]).text()),i._refreshScroll();break;case 38:if(i.ishide.popupopen=!0,!(i._selectID>0))return e(i._showLi[i._selectID]).removeAttr("id",i.selectedId).removeClass(n.itemHightlightClass),i._selectID=i._showLi.length,!1;e(i._showLi[i._selectID]).removeAttr("id",i.selectedId).removeClass(n.itemHightlightClass).addClass(n.itemNormalClass),i._selectID=i._selectID-1,e(i._showLi[i._selectID]).attr("id",i.selectedId).removeClass(n.itemNormalClass).addClass(n.itemHightlightClass),i._input.val(e(i._showLi[i._selectID]).text()),i._refreshScroll();break;case 13:if(!i._popUp.is(":hidden")){if(i._input.val(""),!o.isMultiSelection&&i._resolvedItemsElement.children().length>0)return i._hide(),i._input.focus(),!1;i._itemClick(i._getHighlightItem(),!0),i._updateLayout(),i._input.focus(),i._hide()}}t.stopPropagation(),t.preventDefault()},_refreshScroll:function(){var e=this,t=e._popupContainerItems.find("."+n.itemHightlightClass),i=t[0].offsetTop,o=e._popupContainerItems[0].clientHeight,a=e._popupContainerItems[0].scrollTop,s=t[0].clientHeight;return a-i+s>0?void(e._popupContainerItems[0].scrollTop=i):i-a>=o-s?void(e._popupContainerItems[0].scrollTop=i-o+s):void 0},_getSearchResult:function(){var i=this,o=i.options,a=o.itemsSource;i._showList=[],i._showLi=[],i._searchResult="",i._popupContainer.find(".aui-peoplepicker-popup-container-items").empty();for(var s=0,r=a.length;s<r;s++)(a[s].displayName.toLowerCase().indexOf(i._keyWords.toLowerCase())>=0||a[s].detail.toLowerCase().indexOf(i._keyWords.toLowerCase())>=0)&&(i._searchResult="<li role='option' index='"+s+"'  class='aui-peoplepicker-item-list-style'  title='"+a[s].detail+"'>"+a[s].displayName+"</li>",i._showList.push(a[s]),i.element.find("."+n.itemHightlightClass).removeClass(n.itemHightlightClass).addClass(n.itemNormalClass),i._popupContainerItems.append(i._searchResult),i._popupContainer.append(i._popupContainerItems),i._showLi.push(i._popupContainer.find("li[index="+s+"]")));i._popupContainer.find(".aui-peoplepicker-show-results-info-container").remove(),0==i._showList.length?(i._NOresult=e("<div>"+t.I18N.peoplepicker.noResults+"</div>").addClass("aui-peoplepicker-show-results-info-container"),i._popupContainer.append(i._NOresult)):1==i._showList.length?(i._resultCount=e("<div>"+t.I18N.peoplepicker.result.format(1)+"</div>").addClass("aui-peoplepicker-show-results-info-container"),i._popupContainer.append(i._resultCount)):(i._resultCount=e("<div>"+t.I18N.peoplepicker.results.format(i._showList.length)+"</div>").addClass("aui-peoplepicker-show-results-info-container"),i._popupContainer.append(i._resultCount)),i._setPopupMaxHeight(i._showList.length)},_getTemplateString:function(e){var t='<div id="resoveItems" class="aui-peoplepicker-default-container">';return t+='<span class="aui-peoplepicker-resolved-items-span" data-bind="foreach: { data:resolvedItems  ,as:\'resolvedItem\'}">',t+='<span class="aui-peoplepicker-resolved-item" tabindex="0" role="application" data-bind="attr: {\'aria-span\': resolvedItem.displayName},event:{mouseenter:$parent.itemsmouseover,mouseleave:$parent.itemsmouseleave}">',t+='<span class="aui-peoplepicker-resolved-item-text" data-bind="css:resolvedItemCss,attr:{title:resolvedItem.rootData.detail}">',t+=this.options.selectedTemplate,t+="</span>",t+='<input type="button"  role="button"  class="aui-peoplepicker-resolved-items-span-closebutton aui-peoplepicker-resolved-items-span-closebutton-div" data-bind="click: $parent.removeItem" aria-span="close"/>',t+="</span>",t+="</span>",t+='<div class="aui-peoplepicker-item-input-container">',t+='<input class="aui-peoplepicker-item-input" type="text" autocomplete="off" role="combobox" aria-owns="'+self.listboxId+'" aria-activedescendant="'+self.selectedId+'" aria-busy="false" />',t+="</div>",{defaultContainer:t}},_setDataBinding:function(){var i=this,n=i.options,o=(i.element,function(){var o=this;o.resolvedItems=ko.observableArray(),o.removeItem=function(a){n.disabled||(i.ishide.isdelete=!1,o.resolvedItems.remove(a),n.resolvedItemsChanged({},e.extend(t._EventArgs,{newValue:i.rootBindingData.resolvedItems(),element:i.element})),i._updateLayout(),i._input.focus())},o.itemsmouseover=function(){i.ishide.isdelete=!0},o.itemsmouseleave=function(){i.ishide.isdelete=!1}});i.rootBindingData=new o,ko.applyBindings(i.rootBindingData,i._main[0])},_setResolvedItems:function(i,o){var a=this,s=a.options,r="",l=a.rootBindingData.resolvedItems(),d=n.resolveditemPassedClass;o?r=i.displayName:(d=n.resolveditemUnpassedClass,r=i);var c={displayName:r,rootData:i,resolvedItemCss:d,isResolvedPassed:o};if(0==l.length)this.rootBindingData.resolvedItems.push(c),s.resolvedItemsChanged({},e.extend(t._EventArgs,{newValue:a.rootBindingData.resolvedItems(),element:a.element}));else{for(var u=0,h=l.length;u<h;u++)if(c.displayName==l[u].displayName&&c.rootData.id==l[u].rootData.id&&c.rootData.detail==l[u].rootData.detail)return!1;this.rootBindingData.resolvedItems.push(c),s.resolvedItemsChanged({},e.extend(t._EventArgs,{newValue:a.rootBindingData.resolvedItems(),element:a.element}))}a._hide()},_reCheck:function(){var e=this,t=e.options,i=e.options.itemsSource,n=[],o=e.rootBindingData.resolvedItems(),a=o.slice(0);if(e.rootBindingData.resolvedItems.removeAll(),t.isMultiSelection||0==o.length)for(var s=0,r=a.length;s<r;s++){var l=a[s].displayName;n=ko.utils.arrayFilter(i,function(e){return e.displayName.toLowerCase()==l.toLowerCase()||e.detail.toLowerCase()==l.toLowerCase()}),0==n.length?e._itemClick(a[s].displayName,!1):e._itemClick(e._getRootDataByDisplayName(a[s].displayName),!0)}else{var l=a[0].displayName;n=ko.utils.arrayFilter(i,function(e){return e.displayName.toLowerCase()==l.toLowerCase()||e.detail.toLowerCase()==l.toLowerCase()}),0==n.length?e._itemClick(a[0].displayName,!1):e._itemClick(this._getRootDataByDisplayName(a[0].displayName),!0)}},_destroy:function(){var e=this;e._popupContainer.removeClass(),e._popupContainerItems.removeClass(),e._loading.removeClass(),e._input.removeClass().removeAttr("disabled"),e._defaultContainerElement.removeClass().removeAttr("tabindex"),e._resolvedItemsElement.removeClass(),e.element.removeClass().off(this.eventNamespace).empty(),t.offClose(e.element)},updateLayout:function(){this._updateLayout()},_updateLayout:function(){var t=this,i=30,n=0,o=t._defaultContainerElement.width(),a=o-i,s=t._resolvedItemsElement.find(".aui-peoplepicker-resolved-item");t._resolvedItemsElement.find("br").remove(),s.each(function(i){n+e(this).width()+5>=a&&(e(this).width()+5>=a&&e(this).find(".aui-peoplepicker-resolved-item-text").width()>=a&&(i==s.length-1&&e("<br />").insertAfter(e(this)),e(e(this).find("span")[0]).css("width",a)),0!=i&&e("<br />").insertBefore(e(this)),n=0),n+=e(this).width()+5,e(this).width()+5>=a?t._inputContainer.width(o-7):t._inputContainer.width(o-n-7)}),0==s.length&&t._inputContainer.width(o-7),t._main.height()>200&&t._main.css("height","200px"),t._main.height()>=t._defaultContainerElement.height()?(t._main.css("border-width",0),t._defaultContainerElement.css("border-width",1)):(t._main.css("border-width",1),t._defaultContainerElement.css("border-width",0))},_setPopupMaxHeight:function(i){var n=this,o=(n.options,n._popupContainerItems),a=i*t.removePx(e(o.children()[0]).css("height"));null!=o&&(o.css("height","auto"),a<t.removePx(this.options.popupMaxHeight)||o.css("height",this.options.popupMaxHeight))},_validateInput:function(e){var t=this,i=t.options,n=t._showList,o=[],e=t._keyWords.split(";")[0].toString(),a=t.options.quickPick(e,!1);return arguments.length>0?t.value=e:t.value=t._keyWords.split(";")[0].toString(),""==e.replace(/(^\s*)|(\s*$)/g,"")?(t._input.val(""),!1):!i.isMultiSelection&&t._resolvedItemsElement.children().length>0?(t._input.val(""),t._hide(),t._input.focus(),!1):(o=ko.utils.arrayFilter(n,function(t){return t.displayName.toLowerCase()==e.toLowerCase()||t.detail.toLowerCase()==e.toLowerCase()}),0==o.length?a?void t._itemClick(a,!0):(this._itemClick(e,!1),!1):(i.quickPick(e,!0),void t._itemClick(t._getRootDataByDisplayName(e),!0)))},_itemClick:function(e,t){var i=this;i._setResolvedItems(e,t),i._updateLayout(),i._input.focus(),i._input.val("")},_getRootDataByDisplayName:function(e){for(var t=this.options.itemsSource,i=0,n=t.length;i<n;i++)if(t[i].displayName.toLowerCase()==e.toLowerCase()||t[i].detail.toLowerCase()==e.toLowerCase())return t[i];return e},_getHighlightItem:function(){for(var e=this,t=e._showLi,i=0,o=t.length;i<o;i++)if(t[i].hasClass(n.itemHightlightClass))return e._showList[i];return e._showList[0]},_continueCheck:function(){var e=this,t=e.options,i=t.itemsSource,n=e._input.val(),o=[],a=[];if(n.indexOf(";")>0){if(a=n.split(";"),a.length<=2)return;if(!t.isMultiSelection&&e._resolvedItemsElement.children().length>0)return e._input.val(""),e._hide(),e._input.focus(),!1;if(t.isMultiSelection||0!=e._resolvedItemsElement.children().length)for(var s=0,r=a.length;s<r;s++){var l=a[s];l.length>0&&(o=ko.utils.arrayFilter(i,function(e){return e.displayName.toLowerCase()==l.toLowerCase()||e.detail.toLowerCase()==l.toLowerCase()}),0==o.length?this._itemClick(a[s],!1):this._itemClick(this._getRootDataByDisplayName(a[s]),!0))}else{var l=a[0];l.length>0&&(o=ko.utils.arrayFilter(i,function(e){return e.displayName.toLowerCase()==l.toLowerCase()||e.detail.toLowerCase()==l.toLowerCase()}),0==o.length?this._itemClick(l,!1):this._itemClick(this._getRootDataByDisplayName(l),!0))}}},setItemsSource:function(e){var t=this,i=t.options;return 0==arguments.length?i.dataList:(t._setOption("itemsSource",e),t._startSearch(),t._show(),t._getSearchResult(),t._mousePick(),void(""==t._input.val()&&(t._reCheck(),t._hide())))},clearInput:function(){this.rootBindingData.resolvedItems.removeAll(),this._input.val(""),this._updateLayout(),this._input.focus()},reload:function(e,t,i,n){if(n&&this.rootBindingData.resolvedItems.removeAll(),0==t)for(var o=0,a=e.length;o<a;o++)this._setResolvedItems(e[o].displayName,!1);else for(var o=0,a=e.length;o<a;o++)this._setResolvedItems(e[o],!0);return i&&this._input.focus(),this._updateLayout(),this.element},getResolvedItems:function(e){if(!e)return this.rootBindingData.resolvedItems();for(var t=0,i=this.rootBindingData.resolvedItems().length;t<i;t++)if(this.rootBindingData.resolvedItems()[t].isResolvedPassed)return this.rootBindingData.resolvedItems()[t]},check:function(){var e=this,t=e._input.val();""!=t&&e._validateInput(t)}})}(jQuery,AUI)},function(e,t){"use strict";!function(e,t){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.popup={init:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).popup(n)},update:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).popup(n)}});var i=e(document.documentElement);e.widget("aui.popup",{options:{uuid:"",popupClass:"aui-popup",dependence:null,placement:"bottom-left",placementMode:"v",offsetHorizontal:0,offsetVertical:0,isOpening:!1,zIndex:998,width:"auto",height:"auto",showing:function(e,t){return!0},shown:e.noop,hiding:function(e,t){return!0},hidden:e.noop,hiden:e.noop,destroyed:e.noop,resized:e.noop,_isResized:!1},show:function(t,n){var o=this,a=this.element,s={};o.options.showing({},{element:o.element})&&(o._init(),e.extend(!0,s,o.options),e.extend(!0,s,t),a.addClass("aui-visibility-hidden"),a.css("z-index",s.zIndex).show(),o._updatePosition(s,n),a.removeClass("aui-visibility-hidden"),o.option("isOpening",!0),o._docuemntMouseDown=function(t){var i=t.target;o.element[0]!=t.target&&(e.contains(o.element[0],i)||!o.options.dependence||e.contains(o.options.dependence[0],i)||o.hide())},o._dependenceMouseDown=function(e){o._passHide=!0},i.off("mousedown"+o.eventNamespace).on("mousedown"+o.eventNamespace,o._docuemntMouseDown).off("touchend"+o.eventNamespace).on("touchend"+o.eventNamespace,o._docuemntMouseDown),e.inArray(o.element,window.AUI.popupArray)<0&&window.AUI.popupArray.push(o.element),o.options.shown({},{element:o.element}))},hide:function(e){var t=this;e=void 0==e?-1:e,t.options.hiding({},{element:t.element})&&(t.element.hide(),t.option("isOpening",!1),window.AUI.popupArray.pop(),t.options.hidden({},{element:t.element,parameters:{type:e}}),t.options.dependence&&(t.options.dependence.off("mousedown"+t.eventNamespace,t._dependenceMouseDown),t.options.dependence.off("touchend"+t.eventNamespace,t._dependenceMouseDown)),i.off("mousedown"+t.eventNamespace).off("touchend"+t.eventNamespace))},popupClass:function(e){return 0==arguments.length?this.options.popupClass:void this.option("popupClass",e)},dependence:function(e){return 0==arguments.length?this.options.dependence:void this.option("dependence",e)},placement:function(e){return 0==arguments.length?this.options.placement:void this.option("placement",e)},placementMode:function(e){return 0==arguments.length?this.options.placementMode:void this.option("placementMode",e)},offsetHorizontal:function(e){return 0==arguments.length?this.options.offsetHorizontal:void this.option("offsetHorizontal",e)},offsetVertical:function(e){return 0==arguments.length?this.options.offsetVertical:void this.option("offsetVertical",e)},width:function(e){return 0==arguments.length?this.options.width:void this.option("width",e)},height:function(e){return 0==arguments.length?this.options.height:void this.option("height",e)},isOpening:function(){return this.options.isOpening},zIndex:function(e){return 0==arguments.length?this.options.zIndex:void this.option("zIndex",e)},_create:function(){var e=this.element,t=this;e.addClass(this.options.popupClass).on("touchend"+t.eventNamespace,function(e){e.stopPropagation()}),window.AUI.popupArray||(window.AUI.popupArray=[])},_init:function(){var e=this.element;e.width(this.options.width).height(this.options.height).css({left:0,top:0}).hide()},_destroy:function(){var e=this,t=e.element;t.removeClass(e.options.popupClass),e.options.destroyed({},{element:e.element})},_setOption:function(t,i){({oldValue:this.options[t],newValue:i});switch(t){case"placement":e.Widget.prototype._setOption.apply(this,arguments),this.options.isOpening&&this._updatePosition();break;default:e.Widget.prototype._setOption.apply(this,arguments)}},_updatePosition:function(e,t){var i=this,n=(i.element,{});switch(e||(e=i.options),n.of=e.dependence,n.collision="flipfit flipfit",n.within=e.within,e.placement.toLowerCase()){case"top-left":e.placementMode&&0=="vertical".indexOf(e.placementMode.toLowerCase())?n.my="left+"+e.offsetHorizontal+" bottom+"+e.offsetVertical:n.my="right+"+e.offsetHorizontal+" top+"+e.offsetVertical,n.at="left top";break;case"top-right":e.placementMode&&0=="vertical".indexOf(e.placementMode.toLowerCase())?n.my="right+"+e.offsetHorizontal+" bottom+"+e.offsetVertical:n.my="left+"+e.offsetHorizontal+" top+"+e.offsetVertical,n.at="right top";break;case"bottom-left":e.placementMode&&0=="vertical".indexOf(e.placementMode.toLowerCase())?n.my="left+"+e.offsetHorizontal+" top+"+e.offsetVertical:n.my="right+"+e.offsetHorizontal+" bottom+"+e.offsetVertical,n.at="left bottom";break;case"bottom-right":e.placementMode&&0=="vertical".indexOf(e.placementMode.toLowerCase())?n.my="right+"+e.offsetHorizontal+" top+"+e.offsetVertical:n.my="left+"+e.offsetHorizontal+" bottom+"+e.offsetVertical,n.at="right bottom";break;case"mouse":n.my="left+"+e.offsetHorizontal+" top+"+e.offsetVertical,n.of=t}i.element.position(n)}})}(jQuery,AUI)},function(e,t){!function(e){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.progressbar={init:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).progressbar(n)},update:function(t,i){var n=ko.toJS(ko.unwrap(i()));e(t).progressbar(n)}});var t={PROGRESSBAR_CLASS:"aui-progressbar",PROGRESSBAR_VALUE_PART_CLASS:"aui-progressbar-value",PROGRESSBAR_RADIUS_CLASS:"aui-progressbar-radius-right",PROGRESSBAR_CONTENT_PART_CLASS:"aui-progressbar-text-content"};ko.bindingHandlers.progressValue={update:function(t,i){e(t).progressbar({value:ko.utils.unwrapObservable(i())})}},ko.bindingHandlers.progressPercent={update:function(t,i){e(t).progressbar({hasRate:ko.utils.unwrapObservable(i())})}},e.widget("aui.progressbar",{options:{width:"auto",height:"auto",hasRate:!0,value:0,min:0,max:100,hasAnimate:!0},_create:function(){var e=this,i=e.element;i.attr({role:"progressbar",tabindex:0,"aria-valuemin":e.options.min,"aria-valuemax":e.options.max,"aria-readonly":!0}).addClass(t.PROGRESSBAR_CLASS).append('<div class="'+t.PROGRESSBAR_VALUE_PART_CLASS+'"></div>').append('<div class="'+t.PROGRESSBAR_CONTENT_PART_CLASS+'"></div>'),
e._valuePart=i.children('div[class~="'+t.PROGRESSBAR_VALUE_PART_CLASS+'"]'),e._contentPart=i.children('div[class~="'+t.PROGRESSBAR_CONTENT_PART_CLASS+'"]')},_init:function(){this._refreshProgressbar()},_value:function(){var e=this,t=e.options.value;if("number"!=typeof t){var i=parseInt(t);t=isNaN(i)?0:i}return Math.min(e.options.max,Math.max(e.options.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_setOption:function(e,t){var i=this;"value"===e&&(i.options.value=t,i._refreshProgressbar()),"hasRate"===e&&(i.options.hasRate=t,i._showText())},_showText:function(){var e=this,t=e._contentPart;e.options.hasRate?t.css("opacity",1):t.css("opacity",0)},_refreshProgressbar:function(){var e=this,t=(e._value(),e._percentage()),i=Math.round(t)+"%",n=e._valuePart,o=e._contentPart;"auto"!==e.options.width&&e.element.width(e.options.width),"auto"!==e.options.height&&e.element.height(e.options.height),e.element.attr("aria-valuenow",t),e.options.hasAnimate===!0?n.animate({width:i},300,function(){}):n.width(i),o.text(i),e.options.hasRate?o.css({opacity:1,"line-height":e.element.height()+"px"}):o.css("opacity",0)},_destroy:function(){var e=this;e.element;e._valuePart.removeClass(t.PROGRESSBAR_VALUE_PART_CLASS),e._contentPart.removeClass(t.PROGRESSBAR_CONTENT_PART_CLASS),e.element.removeClass(t.PROGRESSBAR_CLASS)}})}(jQuery)},function(e,t){"use strict";!function(e){ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.radiobutton={init:function(t,i,n,o,a){var t=e(t),s=i(),r=ko.toJS(ko.unwrap(s)),l=s.checked,d=ko.isObservable(l),c=s.disabled,u=ko.isObservable(c),h=r.check,_=r.isEnabledChanged,p=r.unCheck;t.radiobutton(r),t.radiobutton("option","check",function(e,t){d&&l(t.newValue),$$.executeEventHandler(null,"checked",h,null,t)}),t.radiobutton("option","unCheck",function(e,t){d&&l(t.newValue),$$.executeEventHandler(self,"unChecked",p,null,t)}),d&&l.subscribe(function(){t.radiobutton("isChecked",l())}),t.radiobutton("option","isEnabledChanged",function(e,t){u&&c(t.newValue),$$.executeEventHandler(null,"IsEnabledChanged",_,null,t)}),u&&c.subscribe(function(){t.radiobutton("isEnabled",!c())})}});var t=1,i={},n={RADIOBUTTON_CLASS:"aui-radiobutton",RADIOBUTTON_INPUT_CLASS:"aui-radiobutton-source",RADIOBUTTON_HORIZONTAL_CLASS:"aui-radiobutton-horizontal",RADIOBUTTON_RADIO_CLASS:"aui-radiobutton-radio",RADIOBUTTON_BG_CLASS:"fi-radiobutton-bg",RADIOBUTTON_BORDER_CLASS:"fi-radiobutton-border",RADIO_BORDER_CLASS:"aui-radiobutton-radio-border",RADIO_BORDER_FOCUS_CLASS:"aui-radiobutton-radio-border-focus",RADIO_PART_MOUSEOVER_CLASS:"aui-radiobutton-radio-mouseover",RADIO_PART_FOCUS_CLASS:"aui-radiobutton-radio-focus",BORDER_MOUSEOVER_CLASS:"aui-radiobutton-border-mouseover",RADIO_MOUSEDOWN_CLASS:"aui-radiobutton-radio-mousedown",BORDER_MOUSEDOWN_CLASS:"aui-radiobutton-border-mousedown",RADIO_DISABLED_CLASS:"aui-radiobutton-radio-disabled",RADIO_BORDER_DISABLED_CLASS:"aui-radiobutton-radio-border-disabled",RADIOBUTTON_CHECKED_CLASS:"fi-radiobutton-point",RADIOBUTTON_CHECKED_IMAGE_CLASS:"aui-radiobutton-checked-image",RADIO_CHECKED_CLASS:"aui-radiobutton-checked-checked",RADIO_CHECKED_DISABLED_CLASS:"aui-radiobutton-checked-disabled",RADIOBUTTON_CONTENT_CLASS:"aui-radiobutton-content",RADIOBUTTON_CONTENT_NOWRAP_CLASS:"aui-radiobutton-content-nowrap"};e.widget("aui.radiobutton",{options:{disabled:null,checked:null,content:"",isInline:!1,isWordwrap:!0,parameters:{},check:e.noop,unCheck:e.noop,isEnabledChanged:e.noop},_create:function(){var e=this,i=e.element.attr("content")||e.element.attr("data-content")||e.options.content;e._name=e.element.attr("name");e.options.content=null==i?"":i,"boolean"!=typeof e.options.checked?e.options.checked=!!e.element.prop("checked"):e.element.prop("checked",e.options.checked),e._oldChecked=e.options.checked?null:e.options.checked,"boolean"!=typeof e.options.disabled?e.options.disabled=!!e.element.prop("disabled"):e.element.prop("disabled",e.options.disabled),e._oldDisabled=e.options.disabled?null:e.options.disabled,e._uuid=t,e.element.data("uuid",t++),e.element.addClass(n.RADIOBUTTON_INPUT_CLASS),e.element.attr("wt-isInline")&&"true"==e.element.attr("wt-isInline")&&(e.options.isInline=!0),e._label=e.element.wrap("<span >"+e.options.content+"</span>").parent(),e._content=e._label.wrap('<div class="'+n.RADIOBUTTON_CONTENT_CLASS+'"></div>').parent(),e._root=e._content.wrap("<div></div>").parent(),e._root.addClass(n.RADIOBUTTON_CLASS),0==e.options.isWordwrap&&e._label.addClass(n.RADIOBUTTON_CONTENT_NOWRAP_CLASS),e._createRadioPart(),e._radio=e._root.children("."+n.RADIOBUTTON_RADIO_CLASS),e._radioBorder=e._radio.children("."+n.RADIO_BORDER_CLASS),e._checkedImg=e._radio.find("."+n.RADIOBUTTON_CHECKED_IMAGE_CLASS),e._createGroup(),e._onCheckedChanged(e.options.checked),e._setOption("disabled",e.options.disabled),e.refresh(),e._initializesEvent()},_createRadioPart:function(){var e=this,t="";t+='<div class="'+n.RADIOBUTTON_RADIO_CLASS+" "+n.RADIOBUTTON_BG_CLASS+'">',t+='<div class="'+n.RADIO_BORDER_CLASS+" "+n.RADIOBUTTON_BORDER_CLASS+'" ></div>',t+='<div class="'+n.RADIOBUTTON_CHECKED_IMAGE_CLASS+" "+n.RADIOBUTTON_CHECKED_CLASS+'" /></div>',t+="</div>",e._root.append(t)},_initializesEvent:function(){var t=this;t.element.on("focus"+t.eventNamespace,t,t._radioFocus).on("blur"+t.eventNamespace,t,t._radioBlur),t._radio.on("mouseover"+t.eventNamespace,t,t._radioMouseOver).on("mouseout"+t.eventNamespace,t,t._radioMouseOut).on("click"+t.eventNamespace,t,t._radioClick).on("mousedown"+t.eventNamespace,t,t._radioMouseDown),e(document).on("mouseup"+t.eventNamespace,t,t._radioMouseUp),t.element.on("keydown"+t.eventNamespace,t,t._elementKeyDown).on("keyup"+t.eventNamespace,t,t._elementKeyUp),t._label.on("mouseover"+t.eventNamespace,t,t._radioMouseOver).on("mouseout"+t.eventNamespace,t,t._radioMouseOut).on("click"+t.eventNamespace,t,t._radioClick)},_setOption:function(t,n,o){var a=this,s=(i[a._name],e.extend(s,$$._EventArgs));switch(s.oldValue=a.options[t],a.options[t]=n,t){case"checked":a._oldValue=s.oldValue,a.isChecked(n,o);break;case"disabled":a._onIsEnabledChanged(e.extend(s,{element:a.element,value:n,newValue:n}));break;case"isInline":a.refresh()}},_removeCheckedClass:function(){var e=this._name,t=i[e],o=t.checkedIndex-t.minIndex;t.radios[o].removeClass(n.RADIO_CHECKED_CLASS+" "+n.RADIO_CHECKED_DISABLED_CLASS)},isEnabled:function(e){var t=this;return"boolean"!=typeof e?!t.options.disabled:void t._setOption("disabled",!e)},isChecked:function(e,t){var n=this;if("boolean"!=typeof e)return n.options.checked;var o=i[n._name],a=n.element.data("uuid"),s=null,r=o?o.minIndex:0,l=n._oldValue;l===!1&&o&&(s=o.checkedIndex),e!==l&&(n._onCheckedChanged(e,t),1==e&&null!=s&&s!=a&&o.elements[s-r].radiobutton("isChecked",!1,t))},_onCheckedChanged:function(e,t){var n=this,o=i[n._name];$$.Event({element:n.element});n.options.checked=e,n._oldValue=e,e?(o&&(o.checkedIndex=n._uuid),n._onChecked($$.Event({oldValue:!e,newValue:e,element:n.element,parameters:t}))):n._onUnChecked($$.Event({oldValue:!e,newValue:e,element:n.element,parameters:t}))},_trigger:function(t,i,n){var o=this;return o.element.trigger(t,n),n&&(n.parameters=o.options.parameters[t]),e.Widget.prototype._trigger.call(o,t,i,n)},isInline:function(e){var t=this;return"boolean"!=typeof e?!t.options.isInline:void t._setOption("isInline",e)},refresh:function(){var e=this,t=e._root;e._label;1==e.options.isInline?t.addClass(n.RADIOBUTTON_HORIZONTAL_CLASS):t.removeClass(n.RADIOBUTTON_HORIZONTAL_CLASS)},getSelectedValue:function(){for(var e=i[this._name],t=e.elements,n=0,o=t.length;n<o;n++)if(t[n].is(":checked"))return t[n].val()},_destroy:function(){var e=this,t=e.eventNamespace;e._radio.remove(),e._label.remove(),e._checked.remove(),e.element.off(t).removeClass().unwrap(),e._updateGroup(),$$.clearEventHandler(e.options.check),$$.clearEventHandler(e.options.isEnabledChanged),$$.clearEventHandler(e.options.unCheck)}}),e.extend(e.aui.radiobutton.prototype,{_elementKeyUp:function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:e.data.isChecked(!0)}},_elementKeyDown:function(e){var t=e.data,n=t.element.data("uuid"),o=t._name,a=i[o],s=a?a.maxIndex:0,r=a?a.minIndex:0,l=a?a.checkedIndex:null,d=t.options.checked;if(n!=l)switch(e.keyCode){case 32:d||t.isChecked(!0);break;case 37:case 38:d&&--n>=r&&t._onCheckedChanged(!1);break;case 39:case 40:d&&++n<=s&&t._onCheckedChanged(!1)}}}),e.extend(e.aui.radiobutton.prototype,{_createGroup:function(){var e=this,t=e._name,n=null;t&&(n=i[t]=i[t]||{},n.elements=n.elements||[],n.radios=n.radios||[],n.uuids=n.uuids||[],n.checkedIndex=n.checkedIndex||null,null==n.minIndex&&(n.minIndex=e._uuid),n.maxIndex=e._uuid,e.options.checked===!0&&(n.checkedIndex=e._uuid),n.elements.push(e.element),n.radios.push(e._checked),n.uuids.push(e._uuid))},_updateGroup:function(){var e=this,t=e._name,n=i[t],o=e._uuid,a=n.minIndex,s=o-a;o==n.checkedIndex&&(n.checkedIndex=null),delete n.elements[s],delete n.radios[s],delete n.uuids[s]}}),e.extend(e.aui.radiobutton.prototype,{_radioClick:function(e){var t=e.data;t.options.disabled||t.isChecked(!0)},_radioFocus:function(e){var t=e.data;t._radio.addClass(n.RADIO_PART_FOCUS_CLASS),t._radioBorder.addClass(n.RADIO_BORDER_FOCUS_CLASS)},_radioBlur:function(e){var t=e.data;t._radio.removeClass(n.RADIO_PART_FOCUS_CLASS),t._radioBorder.removeClass(n.RADIO_BORDER_FOCUS_CLASS)},_radioMouseOver:function(e){var t=e.data;t._radio.addClass(n.RADIO_PART_MOUSEOVER_CLASS),t._radioBorder.addClass(n.BORDER_MOUSEOVER_CLASS)},_radioMouseOut:function(e){var t=e.data;t._radio.removeClass(n.RADIO_PART_MOUSEOVER_CLASS),t._radioBorder.removeClass(n.BORDER_MOUSEOVER_CLASS)},_radioMouseDown:function(e){var t=e.data;t._radio.addClass(n.RADIO_MOUSEDOWN_CLASS),t._radioBorder.addClass(n.BORDER_MOUSEDOWN_CLASS)},_radioMouseUp:function(e){var t=e.data;t._radio.removeClass(n.RADIO_MOUSEDOWN_CLASS),t._radioBorder.removeClass(n.BORDER_MOUSEDOWN_CLASS)}}),e.extend(e.aui.radiobutton.prototype,{check:function(e,t){$$.updateEventHandler(this.options.check,e,t)},_onChecked:function(e){var t=this;t._checkedImg.addClass(n.RADIO_CHECKED_CLASS),t.element.prop("checked",t.options.checked),t.options.checked!=t._oldChecked&&(t._trigger("check",null,e),t._oldChecked=t.options.checked)},unCheck:function(e,t){$$.updateEventHandler(this.options.unCheck,e,t)},_onUnChecked:function(e){var t=this;t._checkedImg.removeClass(n.RADIO_CHECKED_DISABLED_CLASS+" "+n.RADIO_CHECKED_CLASS),t.element.prop("checked",t.options.checked),t.options.checked!=t._oldChecked&&(t._trigger("unCheck",null,e),t._oldChecked=t.options.checked)},isEnabledChanged:function(e,t){$$.updateEventHandler(this.options.isEnabledChanged,e,t)},_onIsEnabledChanged:function(e){var t=this;t.options.disabled===!1?(t._radio.removeClass(n.RADIO_DISABLED_CLASS),t._radioBorder.removeClass(n.RADIO_BORDER_DISABLED_CLASS),t._checkedImg.removeClass(n.RADIO_CHECKED_DISABLED_CLASS)):(t._radio.addClass(n.RADIO_DISABLED_CLASS),t._radioBorder.addClass(n.RADIO_BORDER_DISABLED_CLASS),t._checkedImg.addClass(n.RADIO_CHECKED_DISABLED_CLASS)),t.element.prop("disabled",t.options.disabled),t._oldDisabled!=t.options.disabled&&($$.executeEventHandler(t,"IsEnabledChanged",t.options.isEnabledChanged,null,e),t._oldDisabled=t.options.disabled)}})}(jQuery)},function(e,t){!function(e,t){var i=-1,n={RANGE_PICKER_CLASS:"aui-rangepicker",RANGE_PICKER_DISABLED_CLASS:"aui-rangepicker-disabled",RANGE_PICKER_DISPLAY:"aui-rangepicker-display",RANGE_PICKER_TITLE:"aui-rangepicker-title",RANGE_PICKER_VALIDATION:"aui-rangepicker-validation",RANGE_PICKER_OPERATER:"aui-rangepicker-operater",RANGE_PICKER_NO_TIMEPICKER:"aui-rangepicker-no-timepicker",RANGR_PICKER_BLOCK:"aui-rangepicker-block"};t.widget("aui.rangepicker",{$window:null,$body:null,isValidate:!0,nowValidate:!0,startDPId:"aui-rangepicker-start-",endDPId:"aui-rangepicker-end-",validationId:"aui-rangepicker-validation-",order:0,options:{dateTimeFormat:"dd-MM-yy",disabled:!1,hasTimeZone:!1,hasTimePicker:!0,is24HourSupported:!1,startDateTitle:"Start:",endDateTitle:"End:",parameters:{},selectedStartDate:null,selectedEndDate:null,displayMode:e.gcalendar("view").month,isReadOnly:!0,validateTime:!1,width:250,zIndex:1,selectionChanged:t.noop,shown:t.noop,hidden:t.noop},_create:function(){this._initMembers()._createRangePicker()._initCalendar()._loaded()},_loaded:function(){var e=this,i=e.options;return i.selectedStartDate&&e._setOption("selectedStartDate",i.selectedStartDate),i.selectedEndDate&&e._setOption("selectedEndDate",i.selectedEndDate),e._disable(i.disabled),t(window).resize(function(){e._resizeContent()}),e._resizeContent(),e},_resizeContent:function(){var e=this,t=e.element.width();t<=700&&e.options.hasTimePicker?(e.$operater.hide(),e.$endDP.parent().css({"margin-top":"20px"})):(e.$operater.show(),e.$endDP.parent().css({"margin-top":"0px"}))},_setOption:function(e,t){var i=this;i.options[e];switch(i.options[e]=t,e){case"hasTimePicker":i.$startDP.datepicker("option","hasTimePicker",t),i.$endDP.datepicker("option","hasTimePicker",t);break;case"selectedStartDate":i.$startDP.datepicker("option","selectedStartDate",t);break;case"selectedEndDate":i.$endDP.datepicker("option","selectedStartDate",t);break;case"disabled":i._disable(t)}},_disable:function(e){var t=this;e&&"String"==e.constructor.name&&(e=e.toLowerCase());var i={start:!1,end:!1};"start"!=e&&"both"!=e&&e!==!0||(i.start=!0),"end"!=e&&"both"!=e&&e!==!0||(i.end=!0),t.$startDP.datepicker("option","disabled",i.start),t.$endDP.datepicker("option","disabled",i.end)},_initMembers:function(){var e=this;return++i,e._initId(),e},_initId:function(){var e=this;e.startDPId+=i,e.endDPId+=i,e.validationId+=i},_createRangePicker:function(){var e=this;return e.$startDP=t('<div id="'+e.startDPId+'"></div>'),e.$endDP=t('<div id="'+e.endDPId+'"></div>'),e.$operater=t('<div class="'+n.RANGE_PICKER_OPERATER+'">-</div>'),e.$validateDP=t('<div class="'+n.RANGE_PICKER_VALIDATION+'"></div>'),e.element.addClass(n.RANGE_PICKER_CLASS).append(e.$startDP).append(e.$operater).append(e.$endDP).append(e.$validateDP),e.$validateDP.hide(),e},_initCalendar:function(){var e=this,t=e.options,i=e.element,o={dateTimeFormat:t.dateTimeFormat,disabled:t.disabled,hasTimeZone:t.hasTimeZone,hasTimePicker:t.hasTimePicker,is24HourSupported:t.is24HourSupported,parameters:t.parameters,selectedStartDate:t.selectedStartDate,displayMode:t.displayMode,isReadOnly:!0,zIndex:1,selectionChanged:function(t,i){e._startDateChanged(t,i)}},a={dateTimeFormat:t.dateTimeFormat,disabled:t.disabled,hasTimeZone:t.hasTimeZone,hasTimePicker:t.hasTimePicker,is24HourSupported:t.is24HourSupported,parameters:t.parameters,selectedStartDate:t.selectedEndDate,displayMode:t.displayMode,isReadOnly:!0,zIndex:1,selectionChanged:function(t,i){e._endDateChanged(t,i)}};return e.$startDP.datepicker(o).before("<div class='"+n.RANGE_PICKER_TITLE+"'>"+t.startDateTitle+"</div>").parent().addClass(n.RANGE_PICKER_DISPLAY),e.$endDP.datepicker(a).before("<div class='"+n.RANGE_PICKER_TITLE+"'>"+t.endDateTitle+"</div>").parent().addClass(n.RANGE_PICKER_DISPLAY),e.options.hasTimePicker||(e.$startDP.css({width:"100%"}),e.$endDP.css({width:"100%"}),i.addClass(n.RANGR_PICKER_BLOCK),e.$startDP.parent().addClass(n.RANGE_PICKER_NO_TIMEPICKER),e.$endDP.parent().addClass(n.RANGE_PICKER_NO_TIMEPICKER)),e},_startDateChanged:function(t,i){var n=this,o=n.options.selectedStartDate,a=n.options.selectedEndDate;n.options.selectedStartDate=i.newValue,n._trigger("selectionChanged",null,e.Event({element:n.element,oldValue:{start:o,end:a},newValue:{start:n.options.selectedStartDate,end:n.options.selectedEndDate}})),n._changedValidation()},_endDateChanged:function(t,i){var n=this,o=n.options.selectedStartDate,a=n.options.selectedEndDate;n.options.selectedEndDate=i.newValue,n._trigger("selectionChanged",null,e.Event({element:n.element,oldValue:{start:o,end:a},newValue:{start:n.options.selectedStartDate,end:n.options.selectedEndDate}})),n._changedValidation()},_changedValidation:function(){var e=this;e.options;isNaN(Date.parse(e.options.selectedStartDate))&&isNaN(Date.parse(e.options.selectedEndDate))||e._validateNow(),isNaN(Date.parse(e.options.selectedStartDate))||isNaN(Date.parse(e.options.selectedEndDate))||!e.nowValidate||e._validation()},_validateNow:function(){function t(e){if(!e)return null;var e=new Date(e);return n.hasTimePicker?Date.parse(e):(e.setDate(e.getDate()+1),Date.parse(e)-1)}var i=this,n=i.options,o=new Date;if(n.validateTime){var a=n.validateTime.toLowerCase(),s=t(i.options.selectedStartDate),r=t(i.options.selectedEndDate),l=s<Date.parse(o)&&!!s,d=r<Date.parse(o)&&!!r;if(("start"==a||"both"==a||a===!0)&&l)return i.$validateDP.html(e.I18N.rangepicker.earlierStartTime).show(),i.nowValidate=!1,!1;if(("end"==a||"both"==a||a===!0)&&d)return i.$validateDP.html(e.I18N.rangepicker.earlierEndTime).show(),i.nowValidate=!1,!1;i.nowValidate=!0}},_validation:function(){var t=this,i=t.options.selectedStartDate,n=t.options.selectedEndDate;t.isValidate=t._validateAssert(i,n),t.isValidate&&t.nowValidate?t.$validateDP.hide():t.$validateDP.html(e.I18N.rangepicker.earlierStart).show(),i&&n||(t.$validateDP.html(e.I18N.rangepicker.incompleteTime).show(),t.isValidate=!1)},_validateAssert:function(e,t){return Date.parse(e)<Date.parse(t)},validation:function(){var e=this;return e._validateNow(),e._validation(),e.isValidate&&e.nowValidate},_trigger:function(e,i,n){var o=this;return n&&(n.parameters=o.options.parameters[e]||{},n.type="rangepicker"),o.element.trigger(e,n),t.Widget.prototype._trigger.call(o,e,i,n)}})}(AUI,jQuery)},function(e,t){"use strict";!function(e){var t={REPEATBUTTON_CLASS:"aui-repeatbutton",REPEATBUTTON_MOUSEOVER_CLASS:"aui-repeatbutton-mouseover",REPEATBUTTON_PRESSED_CLASS:"aui-repeatbutton-pressed"};e.widget("aui.repeatbutton",{options:{isTabStop:!0,delay:200,content:"",isRepeatable:!1,mouseoverClass:null,pressClass:null},_create:function(){var e=this;e.element.append('<div class="'+t.REPEATBUTTON_CLASS+'">'+e.options.content+"</div>"),e._content=e.element.children("."+t.REPEATBUTTON_CLASS),e._isRepeatable=!1,e._delay=e.options.delay,e._pressClass=e.options.pressClass,e._mouseoverClass=e.options.mouseoverClass,e._tempDelay=e._delay,e._timer=null,e._isEnterDown=!1},_setOption:function(e,t){var i=this;switch(i.options[e]=t,e){case"delay":i._delay=t}},_init:function(){var e=this,t=e.eventNamespace;e.options.isTabStop===!0&&e._content.attr("tabindex",0),e._content.attr("role","button").on("click"+t,e,e._onClick).on("mouseover"+t,e,e._onMouseOver).on("mouseout"+t,e,e._onMouseOut).on("mousedown"+t,e,e._onMouseDown).on("mouseup"+t,e,e._onMouseUp).on("mouseout"+t,e,e._stop).on("keypress"+t,e,e._onKeyPress).on("keydown"+t,e,e._onKeyDown).on("keyup"+t,e,e._onKeyUp).on("blur"+t,e,e._stop)},_doRepeat:function(e){var t=this;t._startTimer(t._delay,e)},_addPressdClass:function(){var e=this,i=this._content,n=e._pressClass;null!=n?i.addClass(n):i.addClass(t.REPEATBUTTON_PRESSED_CLASS)},_removePressdClass:function(){var e=this,i=this._content,n=e._pressClass;n?i.removeClass(n):i.removeClass(t.REPEATBUTTON_PRESSED_CLASS)},content:function(e){var t=this;return null==e?t.options.content:(t._content.html(e),void t._setOption("content",e))},delay:function(e){var t=this;return null==e?t.options.delay:void t._setOption("delay",e)},isRepeatable:function(){return this._isRepeatable},resetTimer:function(e,t){var i=this;i._isRepeatable===!0&&i._tempDelay!=e&&(i._tempDelay=e,i._startTimer(e,t))},tempDelay:function(){return this._tempDelay},_destroy:function(){var e=this;e._content.off(e.eventNamespace).removeClass().remove()}}),e.extend(e.aui.repeatbutton.prototype,{_startTimer:function(e,t){var i=this;i._clearTimer(),e=e||i._delay,i._timer=setInterval(function(){i._onTimer(t)},e)},_clearTimer:function(){var e=this._timer;null!=e&&clearInterval(e)},_stop:function(e){var t=e.data;t._clearTimer(),t._isRepeatable=!1,t._tempDelay=t.options.delay,t._removePressdClass()},_onTimer:function(e){var t=this,i=new jQuery.Event("click"),n=null;null!=e&&(n={offsetX:e.offsetX||e.originalEvent.layerX,offsetY:e.offsetY||e.originalEvent.layerY},i.offsetY=n.offsetY,i.offsetX=n.offsetX),t.element.trigger(i),t._isRepeatable=!0}}),e.extend(e.aui.repeatbutton.prototype,{_onClick:function(e){e.stopPropagation()},_onMouseOver:function(e){var i=e.data,n=i._content,o=i._mouseoverClass;null!=o?n.addClass(o):n.addClass(t.REPEATBUTTON_MOUSEOVER_CLASS)},_onMouseOut:function(e){var i=e.data,n=i._content,o=i._mouseoverClass;null!=o?n.removeClass(o):n.removeClass(t.REPEATBUTTON_MOUSEOVER_CLASS)},_onMouseDown:function(e){var t=e.data;t._addPressdClass(),t._onTimer(e),t._doRepeat(e)},_onMouseUp:function(e){e.stopPropagation();var t=e.data;t._removePressdClass(),t._stop(e)}}),e.extend(e.aui.repeatbutton.prototype,{_onKeyPress:function(e){var t=e.data;32==e.which&&t._onTimer(),32!=e.which&&13!=e.which||t._addPressdClass()},_onKeyDown:function(e){if(13==e.which){var t=e.data;t._isEnterDown===!1&&(t._isEnterDown=!0,t._onTimer())}},_onKeyUp:function(e){var t=e.data;t._isEnterDown=!1,t._removePressdClass()}})}(jQuery)},function(e,t){"use strict";!function(e,t){function i(e,t){var i=0,n=t.length,t=ko.mapping.fromJS(t)();for(e.removeAll();i<n;i++)e.push(t[i])}ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.richcombobox={init:function(e,n){var e=t(e),o=n().viewModel.items,a=ko.isObservable(o),s=n().viewModel.selectedItems,r=ko.isObservable(s),l=!1,d=ko.toJS(ko.unwrap(n()));return e.richcombobox(d),s.removeAll(),e.richcombobox("option","selectionChanged",function(t,n){l=!0,a?i(o,e.richcombobox("itemsSource")):o=e.richcombobox("itemsSource"),r?i(s,e.richcombobox("selectedItems")):s=e.richcombobox("selectedItems"),l=!1}),a&&o.subscribe(function(){l===!1&&e.richcombobox("itemsSource",ko.toJS(o))}),r&&s.subscribe(function(){if(l===!1){var t=ko.toJS(s);e.richcombobox("selectedItems",t)}}),e.richcombobox("itemsSource",d.viewModel.items),e.richcombobox("selectedItems",d.viewModel.selectedItems),{controlsDescendantBindings:!0}}});var n=-1,o=300,a={RICHCOMBOBOX_CLASS:"aui-richcombobox",WITH_SCROLL_CLASS:"aui-richcombobox-scroll",RICHCOMBOBOX_TEXTAREA_CLASS:"aui-richcombobox-textarea",RICHCOMBOBOX_SELECTED_AREA_CLASS:"aui-richcombobox-selected-area",RICHCOMBOBOX_SELECTED_ITEM_CLASS:"aui-richcombobox-selected-item",RICHCOMBOBOX_SELECTED_ITEM_CONTENT_CLASS:"aui-richcombobox-selected-item-content",SELECTED_DISABLED_CLASS:"aui-richcombobox-selected-item-disabled",RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CLASS:"aui-richcombobox-selected-item-close",RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CONTENT_CLASS:"aui-richcombobox-selected-item-close-content",SEMICOLON_CLASS:"aui-richcombobox-semicolon",CLOSE_ICON_CLASS:"fi-close-bs",RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CONTENT_MOUSEOVER_CLASS:"aui-richcombobox-selected-item-close-content-mouseover",RICHCOMBOBOX_SELECTEDITEM_MOUSEOVER_CLASS:"aui-richcombobox-selecteditem-mouseover",RICHCOMBOBOX_SELECTEDITEM_PRESSED_CLASS:"aui-richcombobox-selecteditem-pressed",DROPDOWN_CLASS:"aui-richcombobox-dropdown",DROPDOWN_ICON_CLASS:"aui-richcombobox-dropdown-icon",DOWN_ICON_CLASS:"fi-triangle-down-bs",RICHCOMBOBOX_DROPDOWN_IMG_CLASS:"aui-richcombobox-dropdown-img",RICHCOMBOBOX_SELECTION_AREA_CLASS:"aui-richcombobox-selection-area",RICHCOMBOBOX_SELECTION_CREATE_CLASS:"aui-richcombobox-selection-create",RICHCOMBOBOX_SELECTION_CREATE_MOUSEOVER_CLASS:"aui-richcombobox-selection-create-mouseover",RICHCOMBOBOX_SELECTION_MESSAGE_CLASS:"aui-richcombobox-selection-message",RICHCOMBOBOX_SELECTION_CONTAINER_CLASS:"aui-richcombobox-selection-area-container",RICHCOMBOBOX_SELECTION_AREA_POPUP_CLASS:"aui-richcombobox-selection-popup",RICHCOMBOBOX_SELECTION_ITEM_CLASS:"aui-richcombobox-selection-item",RICHCOMBOBOX_SELECTION_ITEM_CONTENT_CLASS:"aui-richcombobox-selection-item-content",RICHCOMBOBOX_SELECTION_ITEM_SELECTED_CLASS:"aui-richcombobox-selection-item-selected",RICHCOMBOBOX_SELECTION_ITEM_MOUSEOVER_CLASS:"aui-richcombobox-selection-item-mouseover",RICHCOMBOBOX_DISABLED_CLASS:"aui-richcombobox-disabled",MOUSEOVER_CLASS:"aui-richcombobox-hover",FOCUS_CLASS:"aui-richcombobox-focus"},s={selectionMouseOver:"'aui-richcombobox-selection-item-mouseover'",selectionSelected:"'aui-richcombobox-selection-item-selected'"},r={selectionMouseOver:"_isSelectionMouseOver",selectionSelected:"_isSelectionSelected"},l={selectionNormal:{add:[],remove:[r.selectionMouseOver,r.selectionSelected]},selectionMouseOver:{add:[r.selectionMouseOver],remove:[r.selectionSelected]},selectionSelected:{add:[r.selectionSelected],remove:[r.selectionMouseOver]}};t.widget("aui.richcombobox",{createNewId:"aui-richcombobox-input-",dropdownId:"aui-richcombobox-dropdown-",inputId:"aui-richcombobox-input-",listboxId:"aui-richcombobox-listbox-id-",messageId:"aui-richcombobox-message-id-",popupId:"aui-richcombobox-popup-id-",selectedAreaId:"aui-richcombobox-selected-area-id-",options:{autoSort:!0,createTemplate:"",dataTextField:"",dataValueField:"",deleting:function(e,t){return!0},disabled:!1,displayName:"",height:38,hasCreate:!1,hasFilter:!0,inputBlur:t.noop,inputKeyup:t.noop,isMultiple:!0,isCaseSensitive:!1,isDropDownHidden:!1,itemClick:t.noop,maxHeight:300,maxSelectedHeight:null,maxlength:null,parameters:{},readonly:!1,selectionChanged:t.noop,stopeTimer:!1,viewModel:{},width:"auto",zIndex:null,within:window},_create:function(){this._initMembers()._createRichcombobox()._loaded()._initEvent()._applyBinding()},_initMembers:function(){return n++,this._initId(),this._smartTimer=null,this._measureTimer=null,this.$body=t("body"),this._vm={},this._selectedItems=[],this._currentSelectedIndex=-1,this._currentSelectionIndex=-1,this._displayName=this.options.displayName,this._dropDownWidth=15,this._firstFilterIndex=-1,this._isCaseSensitive=this.options.isCaseSensitive,this._isDropDownHidden=this.options.isDropDownHidden,this._isFilter=!1,this._isHidden=!0,this._isTextAreaFocus=!1,this._isOpened=!1,this._selections=[],t.extend(this._vm,this.options.viewModel),this._vm.disabled=ko.observable(this.options.disabled),ko.isObservable(this._vm.items)||(this._vm.items=ko.observableArray()),ko.isObservable(this._vm.selectedItems)||(this._vm.selectedItems=ko.observableArray()),this.options.hasFilter=!this.options.stopeTimer,this},_initId:function(){this.dropdownId+=n,this.inputId+=n,this.listboxId+=n,this.messageId+=n,this.popupId+=n,this.selectedAreaId+=n},_createRichcombobox:function(){var e=-1,i=[];return i[++e]="<div>",i[++e]=this._createSelectedArea(),i[++e]='<input id="'+this.inputId+'" role="combobox" class="'+a.RICHCOMBOBOX_TEXTAREA_CLASS+'" />',i[++e]=this._createArrow(),i[++e]="</div>",this.element.addClass(a.RICHCOMBOBOX_CLASS).width(this.options.width).html(i.join("")),t.isNumeric(this.options.maxSelectedHeight)&&this.element.addClass(a.WITH_SCROLL_CLASS).css("max-height",this.options.maxSelectedHeight),this.$body.append(this._createPopup()),this},_createArrow:function(){var e=-1,t=[];return t[++e]='<div id="'+this.dropdownId+'" class="'+a.DROPDOWN_CLASS+'">',t[++e]='<div  class="'+a.DROPDOWN_ICON_CLASS+" "+a.DOWN_ICON_CLASS+'">',t[++e]="</div>",t[++e]="</div>",t.join("")},_createSelectedArea:function(){var e=-1,t=[];return t[++e]='<div id="'+this.selectedAreaId+'" class="'+a.RICHCOMBOBOX_SELECTED_AREA_CLASS+'" data-bind="foreach: selectedItems">',t[++e]='<div role="gridcell" tabindex="0" class="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLASS+"\" data-bind=\"attr:{index: $index, 'aria-span':"+this.options.displayName+'}">',t[++e]='<div class="'+a.RICHCOMBOBOX_SELECTED_ITEM_CONTENT_CLASS+'" data-bind="attr:{index: $index},css:{\''+a.SELECTED_DISABLED_CLASS+"':$root.disabled},text:"+this.options.displayName+'"></div>',t[++e]='<div class="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CLASS+'" data-bind="attr:{index: $index}, visible:!$root.disabled()">',t[++e]='<div class="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CONTENT_CLASS+" "+a.CLOSE_ICON_CLASS+'" ></div>',t[++e]="</div>",t[++e]='<div class="'+a.SEMICOLON_CLASS+'" data-bind="visible:$root.disabled()">;</div>',t[++e]="</div>",t[++e]="</div>",t.join("")},_createPopup:function(){var e=-1,t=[];return t[++e]='<div data-bind="stopBindings:richcombobox">',t[++e]='<div id="'+this.popupId+'" class="'+a.RICHCOMBOBOX_SELECTION_AREA_CLASS+'">',this.options.hasCreate&&(t[++e]='<div id="'+this.createNewId+'" class="'+a.RICHCOMBOBOX_SELECTION_CREATE_CLASS+'">'+this.options.createTemplate+"</div>"),t[++e]='<div id="'+this.messageId+'" class="'+a.RICHCOMBOBOX_SELECTION_MESSAGE_CLASS+'">No Match</div>',t[++e]='<div role="listbox" id="'+this.listboxId+'" class="'+a.RICHCOMBOBOX_SELECTION_CONTAINER_CLASS+'" data-bind="foreach: items">',t[++e]='<div tabindex="0" role="option" class="'+a.RICHCOMBOBOX_SELECTION_ITEM_CLASS+'" data-bind="attr:{index: $index},css:{'+s.selectionMouseOver+":_isSelectionMouseOver()>0,"+s.selectionSelected+':_isSelectionSelected()>0},style: { display: _display}">',t[++e]='<div class="'+a.RICHCOMBOBOX_SELECTION_ITEM_CONTENT_CLASS+'" data-bind="attr:{index: $index},text:'+this.options.displayName+",'aria-span':"+this.options.displayName+'"></div>',t[++e]="</div>",t[++e]="</div>",t[++e]="</div>",t[++e]="</div>",t.join("")},_loaded:function(){return this.$main=this.element.children().css("min-height",this.options.height),this.$dropdown=this.$main.children("#"+this.dropdownId),this.$input=this.$main.children("#"+this.inputId),this._setMaxLength(),this.$selectedArea=this.$main.children("#"+this.selectedAreaId),this.$popup=this.$body.find("#"+this.popupId).width(this.options.width-2).css("max-height",this.options.maxHeight).hide(),t.isNumeric(this.options.zIndex)&&this.$popup.css("z-index",this.options.zIndex),this._updatePopupPosition(),this._measureSelectedItems(),this.$selectionMessage=this.$popup.children("#"+this.messageId),this.$selectionCreate=this.$popup.children("#"+this.createNewId),this.$listbox=this.$popup.children("#"+this.listboxId),this.$window=t(window),this.options.disabled===!0&&this._setDisabled(!1,this.options.disabled),this.options.readonly===!0&&this.$input.prop("readonly",!0),this._isDropDownHidden===!0&&this.$dropdown.hide(),this},_initEvent:function(){var t=this,i=this.eventNamespace;return this.$window.on("resize"+i,this,this._onResize),this.element.on("click"+i,this,function(){t.$input.focus()}).on("keydown"+i,this,this._onMainKeyDown),this.$input.on("keydown"+i,this,this._onTextAreaKeyDown).on("keypress"+i,this,this._onTextAreaKeyPressed).on("keyup"+i,this,this._onTextAreaKeyUp).on("focus"+i,this,this._onTextAreaFocus).on("blur"+i,this,this._onTextAreaBlur),this.$dropdown.on("mousedown"+i,this,this._onDropdownMouseDown).on("click"+i,this,this._onDropDownClick),this.$selectionCreate.on("click"+i,this,this._onCreateNewClick),this.$selectedArea.on("keydown"+i,this,this._onSelectedAreaKeyDown),this.$popup.on("mousedown"+i,this._onPopupMouseDown).on("mousewheel"+i,this,this._onPopupMouseWheel),e.close(this.element,"richcombobox","hide"),this},_onPopupMouseDown:function(e){e.stopPropagation()},_onPopupMouseWheel:function(t){e.closeExcept(t.data.element,!0)},_onDropdownMouseDown:function(t){var i=t.data;e.closeExcept(i.element,!0)},hide:function(){this._hide()},show:function(){this._show()},_applyBinding:function(){return ko.applyBindings(this._vm,this.$popup[0]),ko.applyBindings(this._vm,this.$selectedArea[0]),this},_hide:function(){return this._isOpened&&(this._isOpened=!1,e.closeVisibility(this.element,!1),this.$popup.hide()),this},_show:function(){return this._isOpened||(this._isOpened=!0,e.closeVisibility(this.element,!0),this.$popup.show(),this._updatePopupPosition()),this},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"disabled":i._setDisabled(n,t)}},_setMaxLength:function(){t.isNumeric(this.options.maxlength)&&this.options.maxlength>0&&this.$input.attr("maxlength",this.options.maxlength)},_setDisabled:function(t,i){var n=this;n.$input.prop("disabled",i),this._vm.disabled(i),i===!1?n.element.removeClass(a.RICHCOMBOBOX_DISABLED_CLASS).find("."+a.RICHCOMBOBOX_SELECTED_ITEM_CLASS).attr("tabIndex",0):n.element.addClass(a.RICHCOMBOBOX_DISABLED_CLASS).find("."+a.RICHCOMBOBOX_SELECTED_ITEM_CLASS).removeAttr("tabIndex"),
t!=i&&n._trigger("isEnabledChanged",null,e.Event({element:n.element,oldValue:t,newValue:i}))},_updatePopupPosition:function(){var e="left top+";return this.$popup.is(":visible ")&&(e+=this.element.height(),this.$popup.position({my:e,at:"left top",of:this.element,collision:"flipfit flipfit"}).width(this.element.width())),this},itemClick:function(t,i){e.updateEventHandler(this.options.itemClick,t,i)},deleting:function(t,i){e.updateEventHandler(this.options.deleting,t,i)},_afterSelectionAreaDisplayChanged:function(e){var t=this;"none"==t.$popup.css("display")?(t._changeVisualStates(l.selectionNormal),t._currentSelectionIndex=-1,t.$main.css("zIndex",0)):(t.$main.css("zIndex",3),t._currentSelectedIndex=-1,t._selections.length>0?(t._firstFilterIndex=t._firstFilterIndex==-1?0:t._firstFilterIndex,t._firstFilterIndex=-1,t._changeVisualStates(l.selectionSelected)):t._currentSelectionIndex=-1)},_onResize:function(e){var t=e.data;t._updatePopupPosition()._hide()._measureSelectedItems()},_destroy:function(){}}),t.extend(t.aui.richcombobox.prototype,{_onMainKeyDown:function(i){i.stopPropagation();var n=i.data,o=n._selectedItems.length-1;if(1!=n.options.disabled){switch(i.which){case t.ui.keyCode.UP:case t.ui.keyCode.DOWN:i.preventDefault();break;case 37:0==n._currentSelectedIndex||n._currentSelectedIndex==-1?n._currentSelectedIndex=o:n._currentSelectedIndex--;break;case 39:n._currentSelectedIndex==o?n._currentSelectedIndex=0:n._currentSelectedIndex++}37==i.which||39==i.which?n._currentSelectedIndex>=0&&n._currentSelectedIndex<=o&&n._selectedItems[n._currentSelectedIndex].focus():46!=i.which&&8!=i.which||(i.stopPropagation(),0==n._isTextAreaFocus&&i.preventDefault(),e.executeEventHandler(n,"deleting",n.options.deleting,i,e.Event({element:n.element,newValue:ko.toJS(n.selectedItems()[n._currentSelectedIndex])}))&&n._removeSelectedItemByKeyboard())}}}),t.extend(t.aui.richcombobox.prototype,{_onCloseMouseOver:function(e){e.data},_onCloseMouseOut:function(e){var i=e.data;null!=i&&t(this).children().removeClass(a.RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CONTENT_MOUSEOVER_CLASS)},_onCloseClick:function(i){var n,o,a=i.data,s=t(this),r=s.attr("index");1!=a.options.disabled&&e.executeEventHandler(a,"deleting",a.options.deleting,i,e.Event({element:a.element,newValue:ko.toJS(a.selectedItems()[r])}))&&(a._lastSelectedItems=ko.mapping.toJS(a._vm.selectedItems),a._lastItems=ko.mapping.toJS(a._vm.items),a._removeSelectedItemByIndex(r),o=ko.mapping.toJS(a._vm.selectedItems),n=ko.mapping.toJS(a._vm.items),a._trigger("selectionChanged",null,e.Event({element:a.element,oldValue:a._lastSelectedItems,newValue:o})),a._trigger("itemsSourceChanged",null,e.Event({element:a.element,oldValue:a._lastItems,newValue:n})),a._updateAndRearrange(!0))}}),t.extend(t.aui.richcombobox.prototype,{_onDropDownClick:function(e,t){var i=e.data;null==i||i.options.disabled||(i._isOpened?i._hide():i._show(),i._afterSelectionAreaDisplayChanged(!1),i.$input.focus())}}),t.extend(t.aui.richcombobox.prototype,{_onTextAreaKeyDown:function(e){var i=e.data;switch(clearInterval(i._smartTimer),e.which==t.ui.keyCode.ENTER&&e.preventDefault(),229==e.which||32==e.which||e.which>=48&&e.which<=57||e.which>=65&&e.which<=90||e.which>=96&&e.which<=111||e.which>=186&&e.which<=192||e.which>=219&&e.which<=222?i._startTimer(o):8==e.which&&""==i.$input.val()?0==i._currentSelectedIndex||i._currentSelectedIndex==-1?i._currentSelectedIndex=i._selectedItems.length-1:i._currentSelectedIndex--:e.which==t.ui.keyCode.DOWN&&(i._isOpened||i.$dropdown.trigger("click",[{isKeyDown:!0}])),e.which){case 13:e.preventDefault(),i._currentSelectionIndex!=-1&&t(i._selections[i._currentSelectionIndex]).trigger("click");break;case 35:i._goToNextItem(35);break;case 36:i._goToNextItem(36);break;case 38:i._goToNextItem(38);break;case 40:i._goToNextItem(40);break;case 27:i._changeVisualStates(l.selectionNormal),i._hideSelectionArea(),i.$input.focus()}},_onTextAreaKeyUp:function(t){var i=t.data;i._isTextAreaPressed=!1,8==t.which&&1==i._isFilter&&i._startTimer(200),i._trigger("inputKeyup",null,e.Event({newValue:i.$input.val()})),i.$input.val().length>=1&&(clearInterval(i._smartTimer),i._startSmartSearch())},_startSmartSearch:function(){var t=this;this._smartTimer=setInterval(function(){t.$input.val().length>=1&&(clearInterval(t._smartTimer),t._trigger("smartSearch",null,e.Event({newValue:t.$input.val()})))},1e3)},_onTextAreaFocus:function(e){var t=e.data;t._currentSelectedIndex=-1,t._isTextAreaFocus=!0,t.$main.addClass(a.FOCUS_CLASS)},_onTextAreaKeyPressed:function(e){var t=e.data;t._isTextAreaPressed=!0},_onTextAreaBlur:function(t){var i=t.data;i._isTextAreaFocus=!1,i.$main.removeClass(a.FOCUS_CLASS),i._trigger("inputBlur",null,e.Event({newValue:i.$input.val()}))}}),t.extend(t.aui.richcombobox.prototype,{_changeVisualStates:function(e){var t=this,i=t._currentSelectionIndex,n=e.add,o=e.remove,a=0,s=n.length,r=o.length;if(i!=-1){for(;a<s;a++)t._vm.items()[i][n[a]](1);for(a=0;a<r;a++)t._vm.items()[i][o[a]](0)}}}),t.extend(t.aui.richcombobox.prototype,{_onSelectionItemClick:function(t){var i,n,o=t.data,s=this.getAttribute("index");o._clearFilter(),o.hide(),o._currentSelectionIndex=-1,o._lastSelectedItems=ko.mapping.toJS(o._vm.selectedItems),o._lastItems=ko.mapping.toJS(o._vm.items),o._addSelectedItemByIndex(s),n=ko.mapping.toJS(o._vm.selectedItems),i=ko.mapping.toJS(o._vm.items),o._trigger("selectionChanged",null,e.Event({element:o.element,oldValue:o._lastSelectedItems,newValue:n})),o._trigger("itemsSourceChanged",null,e.Event({element:o.element,oldValue:o._lastItems,newValue:i})),o.options.isMultiple===!1&&o._vm.selectedItems().length>1&&o.$main.find('div[class~="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CLASS+'"][index=0]').trigger("click"),o._selections=o.$listbox.children(),o._measureSelectedItems(!0)},_onSelectItemMouseOver:function(e){var t=e.data,i=-1;t._changeVisualStates(l.selectionNormal),i=t._currentSelectionIndex=this.getAttribute("index"),t._changeVisualStates(l.selectionMouseOver)},_onSelectItemMouseOut:function(e){var t=e.data;t._changeVisualStates(l.selectionNormal)},_hideSelectionArea:function(){this.$popup.hide(),this.$main.css("zIndex",0)},_getDisplayName:function(e){var t,i=this,n=i._displayName;return t=i._isCaseSensitive?e[n]():e[n]().toLowerCase()},_manageSelectionEvent:function(){var e=this,t=e.eventNamespace;e._method;e._selections.off(t).on("click"+t,e,e._onSelectionItemClick).on("mouseout"+t,e,e._onSelectItemMouseOut).on("mouseover"+t,e,e._onSelectItemMouseOver)},_goToNextItem:function(e){var t=this,i=t._currentSelectionIndex,n=t._selections,o=n.length-1,a=-1;switch(e){case 35:a=o;break;case 36:a=0;break;case 38:a=t._getNextIndex(!1,i),t._updateScrollbar(!0,a);break;case 40:a=t._getNextIndex(!0,i),t._updateScrollbar(!1,a)}t._changeVisualStates(l.selectionNormal),t._currentSelectionIndex=a,t._changeVisualStates(l.selectionSelected)},_updateScrollbar:function(e,i){var n=this,o=t(n._selections[0]),a=0,s=n.options.maxHeight,r=t(n._selections[i]);e?(a=r.offset().top-o.offset().top-n.$popup.scrollTop(),a<0&&n.$popup.scrollTop(n.$popup.scrollTop()+a)):(a=r.offset().top-o.offset().top+26-s,a>n.$popup.scrollTop()&&n.$popup.scrollTop(a))},_getNextIndex:function(e,i){var n=this,o=-1,a=n._selections;return o=e?++i<a.length-1?i:a.length-1:--i>0?i:0,t(n._selections[o]).is(":hidden")&&(o=n._getNextIndex(e,o)),o},_onCreateNewClick:function(e){var t=e.data;null!=t&&t._hideSelectionArea()}}),t.extend(t.aui.richcombobox.prototype,{_onSelectedAreaKeyDown:function(e){var t=e.data,i=e.which;9==i&&(e.preventDefault(),t.$input.focus())},_onSelectedItemClick:function(i){var n,o=i.data,a=t(i.target).attr("index")-0;o.options.disabled||(n=ko.mapping.toJS(o._vm.selectedItems()[a]),delete n._display,delete n._isSelectionMouseOver,delete n._isSelectionSelected,o._trigger("itemClick",null,e.Event({element:o.element,newValue:n,parameters:{index:a}})))},_onSelectedItemFocus:function(e){var t=e.data;t._currentSelectedIndex=this.getAttribute("index")},_setSelectedItems:function(t){var i,n,o=this,a=0,s=0,r="",l=!1,d=o._vm.items(),c=o._vm.selectedItems().length,u=c-1,h=t.length;if(o._lastSelectedItems=ko.mapping.toJS(o._vm.selectedItems),o._lastItems=ko.mapping.toJS(o._vm.items),o._isSelectedItemsChanged(t,o._lastSelectedItems)){if(0!=c)for(;u>=0;u--)o._removeSelectedItemByIndex(u);for(;a<h;a++)for(s=o._vm.items().length-1;s>=0;s--){l=!1;for(r in t[a]){if(t[a][r]!=d[s][r]())break;l=!0}if(1==l){o._addSelectedItemByIndex(s);break}}n=ko.mapping.toJS(o._vm.selectedItems),i=ko.mapping.toJS(o._vm.items),o._trigger("selectionChanged",null,e.Event({element:o.element,oldValue:o._lastSelectedItems,newValue:n})),o._trigger("itemsSourceChanged",null,e.Event({element:o.element,oldValue:o._lastItems,newValue:i})),o._updateAndRearrange(!0)}},selectedItems:function(e){var i=this;return null!=e&&t.isArray(e)?void i._setSelectedItems(e):i._vm.selectedItems()}}),t.extend(t.aui.richcombobox.prototype,{_addSelectedItemByIndex:function(e){var t=this,i=(t._method,t.eventNamespace),n=null,o=null,s=0;n=t._vm.items.splice(e,1)[0],t._vm.selectedItems.push(n),s=t._selectedItems.length,o=t.$main.find('div[class~="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLASS+'"][index='+s+"]").on("click"+i,t,t._onSelectedItemClick).on("focus"+i,t,t._onSelectedItemFocus),t._closeButtons=o.children('div[class~="'+a.RICHCOMBOBOX_SELECTED_ITEM_CLOSE_CLASS+'"][index='+s+"]").on("mouseover"+i,t,t._onCloseMouseOver).on("mouseout"+i,t,t._onCloseMouseOut).on("click"+i,t,t._onCloseClick),t._selectedItems.push(o)},_trigger:function(e,i,n){var o,a=this;return n&&(o=a.options.parameters[e]||{},t.extend(!0,n.parameters,o),n.type="richcombobox"),a.element.trigger(e,n),t.Widget.prototype._trigger.call(a,e,i,n)},_removeSelectedItemByIndex:function(e){var t=this;t._vm.items.push(t._vm.selectedItems.splice(e,1)[0]),t._selectedItems.splice(e,1)},_removeSelectedItemByKeyboard:function(){var t,i,n=this,o=n._currentSelectedIndex,a=0;o!=-1&&n._selectedItems.length>0&&(n._lastSelectedItems=ko.mapping.toJS(n._vm.selectedItems),n._lastItems=ko.mapping.toJS(n._vm.items),n._removeSelectedItemByIndex(o),i=ko.mapping.toJS(n._vm.selectedItems),t=ko.mapping.toJS(n._vm.items),n._trigger("selectionChanged",null,e.Event({element:n.element,oldValue:n._lastSelectedItems,newValue:i})),n._trigger("itemsSourceChanged",null,e.Event({element:n.element,oldValue:n._lastItems,newValue:t})),n._updateAndRearrange(!0),a=o<=0?0:o-1,a>=0&&(n._selectedItems[a]&&n._selectedItems[a].focus(),n._currentSelectedIndex=a))},_updateAndRearrange:function(e){this._sortItemsSource(),this._selections=this.$listbox.children(),this._manageSelectionEvent(),this._measureSelectedItems(e)},_arrangeSelectedItems:function(t){var i,n,o,s=(this.$selectedArea.width(),this.element.width()),r=s-45,l=0;this.element.hasClass(a.WITH_SCROLL_CLASS)&&e.isScroll(this.element)&&(s-=17,r-=17),this.$selectedArea.width("auto").css("margin-right",90),this.element.find("."+a.RICHCOMBOBOX_SELECTED_ITEM_CONTENT_CLASS).css("max-width",r-105-32),i=this.$main.find("."+a.RICHCOMBOBOX_SELECTED_ITEM_CLASS+":last"),1==i.length&&this.selectedItems().length>0?(o=i.position(),r=s-45-o.left-i.width(),l=o.top-2,n="auto"):(r=s-45,l=2),this.$input.css({width:r,top:l}),t===!0&&this.$input.focus()},_measureSelectedItems:function(e){var t=this;return clearInterval(this._measureTimer),this.$selectedArea.is(":hidden")?this._measureTimer=setInterval(function(){t.$selectedArea.is(":visible")&&(clearInterval(t._measureTimer),t._arrangeSelectedItems())},200):this._arrangeSelectedItems(),this},itemsSource:function(e){var i=this;if(void 0===e)return ko.mapping.toJS(i._vm.items);var n=0,o=[],a=0;for(t.extend(!0,o,e),a=o.length;n<a;n++)o[n]._display="block",o[n][r.selectionMouseOver]=0,o[n][r.selectionSelected]=0;i._setItemsSource(o),i._selections=this.$listbox.children(),i._manageSelectionEvent()},_setItemsSource:function(e){var t=this,i=t._vm.items(),n=i.length,o=e.length,a=0,s=0;if(t.options.itemsSource=e,0===n)t._vm.items(ko.mapping.fromJS(e)()),t._sortItemsSource();else{if(n<o)for(s=n;s<o;s++)t._vm.items.push(ko.mapping.fromJS(e[s]));else n>o&&t._vm.items.splice(o);for(var a=0;a<n;a++)for(var r in i[a])"__ko_mapping__"!=r&&(ko.isObservable(i[a][r])?i[a][r](e[a][r]):i[a][r]=e[a][r])}},clearItems:function(){var e=this;e._vm.items.removeAll(),e._vm.selectedItems.removeAll(),e._selectedItems.splice(0),e._measureSelectedItems(!1)}}),t.extend(t.aui.richcombobox.prototype,{_onTimer:function(e){e._isTextAreaPressed===!1&&(e._clearTimer(),e._filterSelection())},_startTimer:function(e){var t=this;t.options.hasFilter&&(t._clearTimer(),t._timer=setInterval(function(){t._onTimer(t)},e))},_clearTimer:function(){null!=this._timer&&clearInterval(this._timer)},_getFilterCondition:function(){var e=this,t=e.$input,i="";return i=e._isCaseSensitive?t.val():t.val().toLowerCase()},_isSelectedItemsChanged:function(e,t){var i,n=!0,o=0,a=this._displayName;if(t.length==e.length){for(i=e.length;o<i&&e[o][a]==e[o][a];o++);o==i&&(n=!1)}return n},_filterSelection:function(){var e=0,t=0,i=this,n=[],o=i.$selectionMessage,a=i._getFilterCondition();i._firstFilterIndex=-1,ko.utils.arrayForEach(i._vm.items(),function(o){var s=i._getDisplayName(o);o._display("block"),s.indexOf(a)==-1?(o._display("none"),n.push(e)):(t++,i._firstFilterIndex==-1&&(i._firstFilterIndex=e)),e++}),0!=n.length?i._isFilter=!0:i._isFilter=!1,i.show(),this._updatePopupPosition(),0==t?o.show():o.hide(),i._changeVisualStates(l.selectionNormal),i._afterSelectionAreaDisplayChanged(!0)},_clearFilter:function(){this.options.hasFilter&&""==this.$input.val("")&&(this.$input.val(""),this._filterSelection(),this._changeVisualStates(l.selectionNormal))},clearFilter:function(){var e=this;e._clearFilter(),e._hideSelectionArea(),e._currentSelectionIndex=-1},getSearchCondition:function(){return this.$input.val()},setSearchCondition:function(e){return this.$input.val(e)}}),t.extend(t.aui.richcombobox.prototype,{_sortPredicate:function(e,t){var i=0,n=e.name().toLowerCase(),o=t.name().toLowerCase();return n<o&&(i=-1),n>o&&(i=1),i},_sortItemsSource:function(){var e=this;e.options.autoSort===!0&&(e.options.sortPredicate?e._vm.items.sort(e.options.sortPredicate):e._vm.items.sort(function(t,i){var n=0,o=e.options.displayName,a=t[o]().toLowerCase(),s=i[o]().toLowerCase();return a<s&&(n=-1),a>s&&(n=1),n}))}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";var i=-1,n={SEPARATOR_CLASS:"aui-separator",GRID_CLASS:"aui-separator-grid",CONTAINMENT_CLASS:"aui-separator-containment",THUMB_CLASS:"aui-separator-thumb",THUMB_FONT_CLASS:"aui-separator-thumb-font",THUMB_FONT_V_CLASS:"aui-icon-splitter-v",BORDER_CLASS:"aui-separator-border",THUMB_VERTICAL_CLASS:"aui-separator-thumb-vertical"},o={horizontal:"horizontal",vertical:"vertical"};t.widget("aui.separator",{firstId:"aui-separator-first-",lastId:"aui-separator-last-",$grid:null,$thumb:null,$panels:null,$containment:null,$first:null,$last:null,options:{start:"20",minimum:0,maximize:"100",orientation:o.horizontal},_create:function(){this._initMembers()._createSeparator()._loaded()._initEvent()},_initMembers:function(){var e=this;return++i,e._initId(),e.element.addClass(n.SEPARATOR_CLASS),e.$panels=e.element.children(),e},_initId:function(){var e=this;e.firstId+=i,e.lastId+=i},_createSeparator:function(){var e=this,t=[],i=-1;return t[++i]=e._createThumb(),t[++i]='<table class="'+n.GRID_CLASS+" "+n.BORDER_CLASS+'">',t[++i]="<colgroup>",t[++i]='<col id="'+e.firstId+'" />',t[++i]='<col style="width:1px;" />',t[++i]='<col style="width:7px;" />',t[++i]='<col style="width:1px;" />',t[++i]='<col id="'+e.lastId+'" />',t[++i]="</colgroup>",t[++i]="<tbody>",t[++i]="<tr>",t[++i]="<td></td>",t[++i]='<td><div style="width:1px;height:100%;"></div></td>',t[++i]="<td></td>",t[++i]='<td><div style="width:1px;height:100%;"></div></td>',t[++i]="<td></td>",t[++i]="</tr>",t[++i]="</tbody>",t[++i]="</table>",t[++i]='<div class="'+n.CONTAINMENT_CLASS+'"></div>',e.element.append(t.join("")),e},_createThumb:function(){var e=this,t=[],i=-1;return e.options.orientation==o.horizontal&&(t[++i]='<div class="'+n.THUMB_CLASS+" "+n.THUMB_VERTICAL_CLASS+" "+n.BORDER_CLASS+'">',t[++i]='<div class="'+n.THUMB_FONT_CLASS+" "+n.THUMB_FONT_V_CLASS+'" >',t[++i]="</div>",t[++i]="</div>"),t.join("")},_loaded:function(){var e=this,t=e.options,i="string"==typeof t.start?t.start+"%":t.start,o="string"==typeof t.minimum?t.minimum+"%":t.minimum+"px",a="string"==typeof t.maximize?t.maximize+"%":t.maximize;return e.$grid=e.element.children('table[class~="'+n.GRID_CLASS+'"]'),void 0!=e.options.minWidth&&e.element.css("min-width",e.options.minWidth),e.$first=e.$grid.find("#"+e.firstId).width(i),e.$last=e.$grid.find("#"+e.lastId),e._resetPanels(e.$grid,e.$panels),e.$containment=e.element.children('div[class~="'+n.CONTAINMENT_CLASS+'"]').width(a).css("padding-left",o),e.$thumb=e.element.children('div[class~="'+n.THUMB_CLASS+'"]').css("left",i).draggable({separator:e,containment:e.$containment,cursor:"e-resize",disabled:e.options.disabled,drag:e._onThumbDrag}),e},_resetPanels:function(e,i){var n=e.find("td");3!=i.length,t(n[0]).append(i[0]),t(n[4]).append(i[1])},_getContainmentWidth:function(){},_onThumbDrag:function(e,t){var i=t.helper.draggable("option","separator");i.$first.width(t.position.left)},_initEvent:function(){var e=this;e.eventNamespace;return e}})}(AUI,jQuery)},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.slider={init:function(i,n,o,a){var i=t(i),s=n(),r=s.disabled,l=ko.isObservable(r),d=s.selectedValue,c=ko.isObservable(d),u=ko.toJS(ko.unwrap(s)),h=e.executeEventHandler,_=u.isEnabledChanged,p=u.valueChanged;return u.parameters=a.parameters,i.slider(u),c&&(i.slider("option","valueChanged",function(e,t){d(t.newValue),h(null,"valueChanged",p,e,t)}),d.subscribe(function(){i.slider("option","selectedValue",d())})),l&&(i.slider("option","isEnabledChanged",function(e,t){r(t.newValue),h(null,"isEnabledChanged",_,e,t)}),r.subscribe(function(){i.slider("option","disabled",r())})),{controlsDescendantBindings:!0}}});var i={SLIDER_CLASS:"aui-slider",SLIDER_DISABLED_CLASS:"aui-slider-disabled",SLIDER_SCALE_CLASS:"aui-slider-scale",SLIDER_SCALE_HORIZONTAL_CLASS:"aui-slider-scale-horizontal",SLIDER_SCALE_VERTICAL_CLASS:"aui-slider-scale-vertical",SCALE_PART_CLASS:"aui-slider-scale-part",SCALE_PART_CONTENT_CLASS:"aui-slider-scale-part-content",ORBIT_CONTAINER_CLASS:"aui-slider-orbit-container",ORBIT_CONTAINER_HORIZONTAL_CLASS:"aui-slider-orbit-container-horizontal",ORBIT_CONTAINER_VERTRICAL_CLASS:"aui-slider-orbit-container-vertical",ORBIT_CLASS:"aui-slider-orbit",ORBIT_HORIZONTAL_CLASS:"aui-slider-orbit-horizontal",ORBIT_VERTICAL_CLASS:"aui-slider-orbit-vertical",THUMB_CLASS:"aui-slider-thumb",THUMB_VERTICAL_CLASS:"aui-slider-thumb-vertical",THUMB_HORIZONTAL_CLASS:"aui-slider-thumb-horizontal",PROGRESS_CLASS:"aui-progress",PROGRESS_HORIZONTAL_CLASS:"aui-progress-horizontal",PROGRESS_VERTICAL_CLASS:"aui-progress-vertical",PROGRESS_SPEAKERS_CLASS:"aui-progress-speakers",OVERLAY_CLASS:"aui-slider-overlay"},n={horizontal:"horizontal",vertical:"vertical",speakers:"speakers"};e.slider=function(e){var i=null;return"orientation"==e&&(i=t.extend(!0,i,n)),i},t.widget("aui.slider",{$scale:null,$orbitContainer:null,$thumb:null,$progress:null,_pow:1,_mode:null,_direction:null,_reDirection:null,_values:[],_minimum:0,_second:1,_maximum:100,_valuerange:1,_range:1,_step:1,_oldValue:-1,_wh:null,_hw:null,_offset:null,_draggable:!1,options:{hasScale:!0,range:300,values:[],selectedValue:0,disabled:!1,orientation:n.horizontal,draggable:!1,increment:1,isEnabledChanged:t.noop,valueChanged:t.noop},_create:function(){this._initMembers()._createSlider()._loaded()._setScalePosition()},_initMembers:function(){var e=this;return"horizontal"==e.options.orientationMode?e.options.orientation=n.horizontal:"vertical"==e.options.orientationMode&&(e.options.orientation=n.vertical),e._values=e.options.values,e._draggable=e.options.draggable,e._mode=e.options.orientation,e._range=e.options.range,e._pow=1/e.options.increment,e._initDirection(),e.element[e._wh](e._range).addClass(i.SLIDER_CLASS),0==e._values.length?t.error('Please set "values" when using slider.'):(e._minimum=parseInt(e._values[0])||0,e._second=parseInt(e._values[1])||0,e._maximum=parseInt(e._values[e._values.length-1])||0),e._minimum=e._minimum*e._pow,e._second=e._second*e._pow,e._maximum=e._maximum*e._pow,(e._minimum>=e._maximum||0==e._maximum)&&t.error('Minimum must less than Maximum.Please check your initialize settings for "values".'),e._step=(e._second-e._minimum)/e._pow,e._valuerange=e._maximum-e._minimum,e},_initDirection:function(){var e=this;switch(e.options.orientation){case n.horizontal:e._direction="left",e._reDirection="right",e._wh="width",e._hw="height",e._offset="offsetX";break;case n.vertical:e._direction="top",e._reDirection="bottom",e._wh="height",e._hw="height",e._offset="offsetY";break;case n.speakers:e._direction="bottom",e._reDirection="top",e._wh="height",e._hw="height",e._offset="offsetY"}return e},_createSlider:function(){var e=this,t=-1,n=[];return n[++t]=e._createScale(),n[++t]='<div class="'+i.OVERLAY_CLASS+'"></div>',n[++t]=e._createOrbit(),e.element.html(n.join("")),e},_createScale:function(){var e=this,t=-1,n=0,o=e._values,a=o.length,s=0,r=e._direction,l=i.SLIDER_SCALE_CLASS+" ",d=[];for(l+="horizontal"==e._mode?i.SLIDER_SCALE_HORIZONTAL_CLASS:i.SLIDER_SCALE_VERTICAL_CLASS,a>2&&(s=100/(a-1)),e.options.hasScale?d[++t]='<div class="'+l+'">':d[++t]='<div class="'+l+'" style="display:none;">';n<a;n++)d[++t]='<div class="'+i.SCALE_PART_CLASS+'" style="'+r+":"+n*s+'%"><div class="'+i.SCALE_PART_CONTENT_CLASS+'">'+o[n]+"</div></div>";return d[++t]="</div>",d.join("")},_createOrbit:function(){var e=this,t=-1,o=i.ORBIT_CONTAINER_CLASS+" ",a=i.ORBIT_CLASS+" ",s=i.THUMB_CLASS,r=i.PROGRESS_CLASS+" ",l=[];return"horizontal"!=e._mode?(s+=" "+i.THUMB_VERTICAL_CLASS,a+=i.ORBIT_VERTICAL_CLASS,o+=i.ORBIT_CONTAINER_VERTRICAL_CLASS,r+=e._mode==n.speakers?i.PROGRESS_SPEAKERS_CLASS:i.PROGRESS_VERTICAL_CLASS):(s+=" "+i.THUMB_HORIZONTAL_CLASS,a+=i.ORBIT_HORIZONTAL_CLASS,o+=i.ORBIT_CONTAINER_HORIZONTAL_CLASS,r+=i.PROGRESS_HORIZONTAL_CLASS),l[++t]='<div class="'+o+'">',l[++t]='<div class="'+a+'"></div>',l[++t]='<div role="slider" tabindex="0" class="'+s+'" aria-valuemin="'+e._minimum+'" aria-valuemax="'+e._maximum+'">',l[++t]="</div>",l[++t]='<div class="'+r+'"></div>',l[++t]="</div>",l.join("")},_loaded:function(){var e=this;return e.element.children('div[class~="'+i.OVERLAY_CLASS+'"]').on("click",e,e._onElementClick),e.$scale=e.element.find('[class~="'+i.SLIDER_SCALE_CLASS+'"]').find('[class~="'+i.SCALE_PART_CONTENT_CLASS+'"]'),e.$orbitContainer=e.element.children('div[class~="'+i.ORBIT_CONTAINER_CLASS+'"]').on("click",e,e._onElementClick),e.$thumb=e.$orbitContainer.children('[class~="'+i.THUMB_CLASS+'"]').draggable({slider:e,disabled:!e._draggable,containment:e.$orbitContainer,drag:e._onThumbDrag,zIndex:2}).on("mousedown",e,e._onThumbMouseDown).on("keydown",e,e._onThumbKeyDown).on("click",e._onThumbClick),e.$progress=e.$orbitContainer.children('div[class~="'+i.PROGRESS_CLASS+'"]'),t.isNumeric(e.options.selectedValue)?e._setOption("selectedValue",e.options.selectedValue,!1):t.error('"selectedValue" is not numeric.Please check your initialize settings for "selectedValue".'),e._setOption("disabled",e.options.disabled),e},_onThumbKeyDown:function(e){if(e.which==t.ui.keyCode.LEFT||e.which==t.ui.keyCode.UP||e.which==t.ui.keyCode.RIGHT||e.which==t.ui.keyCode.DOWN){var i=e.data,o=i._step,a=!1,s=i.$thumb.data("value-now");i.options.disabled||(e.which==t.ui.keyCode.LEFT||e.which==t.ui.keyCode.UP?(e.preventDefault(),i._mode==n.speakers?s+=o:s-=o,a=!0):e.which!=t.ui.keyCode.RIGHT&&e.which!=t.ui.keyCode.DOWN||(e.preventDefault(),i._mode==n.speakers?s-=o:s+=o,a=!0),a&&i._selectedValue(s,!1))}},_onElementClick:function(t){var i=t.data,o=i._step,a=(i._direction,i._getOffset(t)),s=i.$thumb.data("value-now");i.options.disabled||(i._draggable?(s=parseInt((a+2)*i._valuerange/(i._range-2)+i._minimum),i._mode==n.speakers&&(s=i._maximum-s,e.log(s))):i._stepAssert(a)?s+=o:s-=o,i._selectedValue(s))},_getOffset:function(e){var o,a=this;a.element[a._wh]();return o=e[a._offset],t(e.target).hasClass(i.PROGRESS_CLASS)&&a._mode==n.speakers&&(o=a.element[a._wh]()-a.$progress[a._hw]()+o),o},_stepAssert:function(e){var e,t=this,i=t._direction,o=t.element[t._wh]();return t._mode!=n.speakers?e>parseInt(t.$thumb.css(i)):e<o-parseInt(t.$thumb.css(i))},_onThumbMouseDown:function(e){e.stopPropagation(),e.data.$thumb.focus()},_onThumbClick:function(e){e.stopPropagation()},_onThumbDrag:function(e,t){var i=t.helper.draggable("option","slider"),o=i._mode==n.speakers?"top":i._direction,a=i._wh,s=parseFloat(i.$thumb.css(o));i._mode==n.speakers&&(s=i.element[a]()-s),i.$progress[a](s)},_onThumbDragStop:function(e,t){var i,o=t.helper.draggable("option","slider"),a=o._mode==n.speakers?"top":o._direction;i=(parseFloat(o.$thumb.css(a))+2)*o._valuerange/(o._range-2)+o._minimum,i=parseInt(i),o._mode==n.speakers&&(i=o._maximum-i),o._selectedValue(i)},_onValueChanged:function(t,i){var n=this;n._oldValue=i,n.options.selectedValue=i,n.$thumb.attr("aria-valuenow",i),t!=i&&n._trigger("valueChanged",null,e.Event({element:n.element,oldValue:t,newValue:i}))},_setScalePosition:function(){var e=this,i=e.$scale,n=0,o=null,a=0,s=0,r=e.$scale.length;if("horizontal"==e._mode)for(r>0&&(a=t(i[0]).height()),e.element.height(a+11+4);n<r;n++)o=t(i[n]),o.css(e._reDirection,o[e._wh]()/2-2);else r>0&&(s=t(i[i.length-1]).width()),i.width(s),e.element.width(s+11+4),e.$orbitContainer.css("right",0),i.css(e._reDirection,i[e._wh]()/2-2)},_setOption:function(e,t,i){var n=this;n.options[e];switch(n.options[e]=t,e){case"selectedValue":n.options.selectedValue<n._minimum?n.options.selectedValue=n._minimum/n._pow:n.options.selectedValue>n._maximum&&(n.options.selectedValue=n._maximum/n._pow),n._selectedValue(parseInt(t*n._pow),i);break;case"disabled":n._setDisabled(t)}},_setDisabled:function(t){var n=this;t?(n.$thumb.draggable("disable"),n.$thumb.addClass(i.SLIDER_DISABLED_CLASS),n.$progress.addClass(i.SLIDER_DISABLED_CLASS)):(n._draggable&&n.$thumb.draggable("enable"),n.$thumb.removeClass(i.SLIDER_DISABLED_CLASS),n.$progress.removeClass(i.SLIDER_DISABLED_CLASS)),e.executeEventHandler(n,"isEnabledChanged",n.options.isEnabledChanged,null,e.Event({element:n.element,oldValue:!t,newValue:t}))},_selectedValue:function(e,t){var i,n=this,o=n._range,a=n._valuerange;e<n._minimum?e=n._minimum:e>n._maximum&&(e=n._maximum),i=(e-n._minimum)*o/a,n.$thumb.data("value-now",e),e/=n._pow,n.$progress[n._wh](i),n.$thumb.attr("aria-valuenow",e).css(n._reDirection,"auto").css(n._direction,i),t!==!1&&n.$thumb.focus(),n._onValueChanged(n._oldValue,e)},setValue:function(e){var i=this;e=parseInt(e),t.isNumeric(e)&&i._setOption("selectedValue",e)},getValue:function(){return this.options.selectedValue},_trigger:function(e,i,n){var o=this;return o.element.trigger(e,n),n&&(n.type="slider"),t.Widget.prototype._trigger.call(o,e,i,n)},_destroy:function(){var t=this;t.element.empty(),t._trigger("destroy",null,e.Event({element:t.element}))}})}(AUI,jQuery)},function(e,t){"use strict";!function(e){var t={classBarDisabled:"aui-splitter-split-bar-disabled",classBarNormal:"aui-splitter-split-bar-normal",classBarMouseover:"aui-splitter-split-bar-mouseover",classBarMousedown:"aui-splitter-split-bar-mousedown"};e.widget("aui.splitter",{options:{orientation:0,width:"100%",height:"100%",panels:[{defaultSize:"15%",minSize:"10%"},{defaultSize:"80%",minSize:"200"}],offsetX:0,offsetY:0},_create:function(){this.dragBar=this._createSplitBar(),this.isInDrag=!1,this._addHandler(),this._setChildrenClass(),this._initDefaultData()},_destroy:function(){this.element.empty()},_setOption:function(e,t){this.options[e]=t,"disabled"==e&&this.disable(t)},disable:function(e){this.element.prop("disabled",!0);var i=this.element.find(".aui-splitter-split-bar");null!=i&&i.addClass(t.classBarDisabled)},enable:function(){this.element.prop("disabled",!1);var e=this.element.find(".aui-splitter-split-bar");null!=e&&e.removeClass(t.classBarDisabled)},_initDefaultData:function(){this.options.offsetX=this.element.offset().left,this.options.offsetY=this.element.offset().top},_setChildrenClass:function(){var t=this.element.children(),i=e('<div class="aui-splitter-split-bar-middle-div"><img class="aui-splitter-split-bar-middle-div-img" src="'+$$.path+'/image/splitter.png" alt=""/></div>');0==this.options.orientation?(this.element.addClass("aui-splitter-main-div-horizonal"),e(t[0]).width(this.options.panels[0].defaultSize).addClass("aui-splitter-split-left-div"),e(t[2]).addClass("aui-splitter-split-right-div"),e(t[1]).append(i),i.css("marginTop",(this.element.height()-i.height())/2)):(this.element.addClass("aui-splitter-main-div-vertical"),e(t[0]).height(this.options.panels[0].defaultSize).addClass("aui-splitter-split-top-div"),e(t[1]).append(i),e(t[2]).height(this.element.height()-e(this.element.children()[1]).height()-this._reverseSize(this.options.panels[0].defaultSize,this.element.height())).addClass("aui-splitter-split-bottom-div"))},_resetSplitSpace:function(){var t=e(this.dragBar.find(".aui-splitter-split-bar-middle-div"));0==this.options.orientation&&t.css("marginTop",(this.element.height()-t.height())/2)},_createSplitBar:function(){var t=e('<div class="aui-splitter-split-bar" tabindex="0" role="separator" aria-grabbed="true"></div>');return t.insertAfter(this.element.children()[0]),t},_reverseSize:function(e,t){return e.indexOf("px")!=-1?parseInt(e.substr(0,e.length-2)):e.indexOf("%")!=-1?parseInt(e.substr(0,e.length-1))*t/100:parseInt(e)},_setBarClass:function(i,n){var o=e(i.find(".aui-splitter-split-bar-middle-div"));"mouseover"==n?i.removeClass(t.classBarNormal).addClass(t.classBarMouseover).removeClass(t.classBarMousedown):"mousedown"==n?(i.removeClass(t.classBarNormal).removeClass(t.classBarMouseover).addClass(t.classBarMousedown),o[0].focus()):i.addClass(t.classBarNormal).removeClass(t.classBarMouseover).removeClass(t.classBarMousedown)},_addHandler:function(){var t=this.dragBar,i=this;null!=t&&(e(document).on("mouseup",function(){i._releaseBarCapture()}),t.bind("mouseover",function(e){i.element.prop("disabled")||(i._setBarClass(t,"mouseover"),i._resetSplitSpace())}).bind("mouseout",function(e){i.element.prop("disabled")||i._setBarClass(t,"normal")}).bind("mousedown",function(e){i.element.prop("disabled")||(1==i.isInDrag&&(i.isInDrag=!1,i._releaseBarCapture()),i._setBarClass(t,"mousedown"),i._setBarCapture(),i.element.bind("mousemove",function(e){i.element.prop("disabled")||i.isInDrag&&(0==i.options.orientation?i._setLeftChildSize(i,e,null):i._setTopChildSize(i,e,null))}).bind("selectstart",function(){return!1}).addClass("aui-splitter-main-div-use-select-none"))}).bind("mouseup",function(e){i.element.prop("disabled")||(i._releaseBarCapture(),i.element.unbind("mousemove").unbind("mouseup").unbind("selectstart").removeClass("aui-splitter-main-div-use-select-none"))}).bind("mousemove",function(e){}).bind("keydown",function(e){if(!i.element.prop("disabled")){var t=e.which||event.keyCode||e.keyCode;if(0==i.options.orientation)switch(t){case 39:i._setLeftChildSize(i,null,39);break;case 37:i._setLeftChildSize(i,null,37)}else switch(t){case 38:i._setTopChildSize(i,null,38);break;case 40:i._setTopChildSize(i,null,40)}}}))},_setLeftChildSize:function(e,t,i){var n=e.element.children(),o=n[0],a=n[1],s=(n[2],0),r=e._reverseSize(e.options.panels[0].minSize,e.element.width()),l=e._reverseSize(e.options.panels[0].defaultSize,e.element.width()),d=(e.element.width()-s-a.clientWidth,e._reverseSize(e.options.panels[1].minSize,e.element.width()));if(null==t?(s=o.clientWidth,39==i?s+=10:37==i&&(s-=10)):s=t.clientX-e.options.offsetX,!(s>=e.element.width()-a.clientWidth-d)){if(s>=l&&s<=r)e.options.panels[0].minSize=s;else if(s<=r)return;o.style.width=s+"px"}},_setTopChildSize:function(t,i,n){var o=t.element.children(),a=o[0],s=o[1],r=o[2],l=0,d=t._reverseSize(t.options.panels[0].minSize,t.element.height()),c=t._reverseSize(t.options.panels[0].defaultSize,t.element.height()),u=t._reverseSize(t.options.panels[1].minSize,t.element.height());
null==i?(l=a.clientHeight,40==n?l+=10:38==n&&(l-=10)):l=i.clientY-t.options.offsetY;var h=t.element.height()-l-e(t.element.children()[1]).height();if(!(l>=t.element.height()-s.clientHeight-u)){if(l>=c&&l<=d)t.options.panels[0].minSize=l;else if(l<=d)return;a.style.height=l+"px",r.style.height=h+"px"}},_setBarCapture:function(){this.dragBar.setCapture?this.dragBar.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),this.isInDrag=!0},_releaseBarCapture:function(){this.dragBar.releaseCapture?this.dragBar.releaseCapture():window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),this.isInDrag=!1},_getOptions:function(){return this.options}})}(jQuery)},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.stackpanel={init:function(e,i,n,o,a){var e=t(e),s=i(),r=s.disabled,l=ko.isObservable(r),d=t("<div></div>"),c={},u=ko.toJS(ko.unwrap(s));return d.append(e.children()),e.append(d),d.stackpanel(u),c={$data:a.$data,$parent:a.$parent,$parentContext:a.$parentContext,$parents:a.$parents,$root:a.$root,item:a.item},c=t.extend(!0,c,o),ko.applyBindings(c,d[0]),l&&(d.stackpanel("option","isEnabledChanged",function(e,t){r(t.newValue),executeEventHandler(null,"isEnabledChanged",isEnabledChanged,e,t)}),r.subscribe(function(){d.stackpanel("option","disabled",r())})),{controlsDescendantBindings:!0}}});var i=-1,n={},o={STACKPANEL_CLASS:"aui-stackpanel",TOP_NONE_CLASS:"aui-stackpanel-top-none",TITLE_CLASS:"aui-stackpanel-title",LOGO_CLASS:"aui-stackpanel-logo",TITLE_TEMPLATE_CLASS:"aui-stackpanel-title-template",PANEL_CLASS:"aui-stackpanel-panel",FOLD_CLASS:"fi-arrow-right-bs",UNFOLD_CLASS:"fi-arrow-down-bs",TITLE_WIDGET:"aui-stackpanel-title-widget",STRIPT_CLASS:"aui-stackpanel-stript"};t.widget("aui.stackpanel",{titleId:"aui-stackpanel-title-",panelId:"aui-stackpanel-panel-",logoId:"aui-stackpanel-logo-",templateId:"aui-stackpanel-header-template-",options:{groupName:null,isExpand:!1,selectedIndex:-1,shown:t.noop,hidden:t.noop},_create:function(){this._initMembers()._createStackPanel()._loaded()._initEvent(),this._isGrouped&&this._initGroup(),this.options.selectedIndex!=-1&&this._setSelectedIndex()},_setOption:function(e,t){var i=this,n=i.options[e];switch(i.options[e]=t,e){case"disabled":i._setDisabled(n,t)}},_initMembers:function(){return this._uuid=++i,this._initId(),this._isGrouped=!!this.options.groupName,this._groupName=this.options.groupName,this._expand=!1,this},_initId:function(){this.titleId+=i,this.panelId+=i,this.logoId+=i,this.templateId+=i},_createStackPanel:function(){var e=-1,i=[];return this.element.children().length>2&&t.error("stackpanel's children is more than 2. "),i[++e]='<div class="'+o.TITLE_CLASS+'" id="'+this.titleId+'">',i[++e]='<div class="'+o.STRIPT_CLASS+'" ></div>',i[++e]='<div style="display:table-cell;width:6px;"></div>',i[++e]='<div class="'+o.LOGO_CLASS+" "+o.FOLD_CLASS+'" id="'+this.logoId+'"></div>',i[++e]='<div class="'+o.TITLE_TEMPLATE_CLASS+'" id="'+this.templateId+'"></div>',i[++e]="</div>",i[++e]='<div class="'+o.PANEL_CLASS+'" id="'+this.panelId+'"></div>',this.element.append(i.join("")),this},_loaded:function(){return this.element.addClass(o.STACKPANEL_CLASS),this.$titleTemplate=t(this.element.children()[0]),this.$panelTemplate=t(this.element.children()[1]),this.$title=this.element.children("#"+this.titleId),this.$logo=this.$title.children("#"+this.logoId),this.$titleTemplate=this.$title.children("#"+this.templateId).append(this.$titleTemplate),this.$panel=this.element.children("#"+this.panelId).append(this.$panelTemplate),this.$titleWidgets=this.$title.find(".aui-stackpanel-title-widget"),this},_initGroup:function(){var e;e=n[this._groupName]||{},e.titles=e.titles||[],e.selectedIndex=e.selectedIndex>=0?e.selectedIndex:-1,this._index=e.titles.length,e.titles[e.titles.length]=this.$title,this.$title.data("index",this._index),n[this._groupName]=e},_initEvent:function(){var e=this.eventNamespace;return this.$title.on("click"+e,this,this._onTitleClick),this.$titleWidgets.on("click"+e,this,this._onTitleWidgetClick),this},_onTitleWidgetClick:function(e){e.stopPropagation()},_onTitleClick:function(e){var t,i=e.data;i._isGrouped&&(t=n[i._groupName],i._expand?t.selectedIndex=-1:(t.selectedIndex>-1&&t.titles[t.selectedIndex].click(),t.selectedIndex=i._index)),i._expand?i._onHide():i._onShow()},_onHide:function(){this._expand=!1,this._updateLogo(this.$logo,!1),this.$panel.hide(),this._trigger("hidden",null,e.Event({element:this.element,newValue:this._index}))},_onShow:function(){this._expand=!0,this._updateLogo(this.$logo,!0),this.$panel.show(),this._trigger("shown",null,e.Event({element:this.element,newValue:this._index}))},_updateLogo:function(e,t){var i,n;t?(i=o.FOLD_CLASS,n=o.UNFOLD_CLASS):(i=o.UNFOLD_CLASS,n=o.FOLD_CLASS),e.removeClass(i).addClass(n)},expandByIndex:function(e){this._expand||(this.options.selectedIndex=e,this._setSelectedIndex())},closeByIndex:function(e){this._expand&&this.$title.click()},_setSelectedIndex:function(){var e=this.options.selectedIndex;if(t.isNumeric(e))if(this._isGrouped){var i=n[this._groupName];e>-1&&e<i.titles.length&&e!=i.selectedIndex&&i.titles[e].click()}else 0==e&&this.$title.click();return this},_trigger:function(e,i,n){var o=this;return n&&(n.type="stackpanel"),o.element.trigger(e,n),t.Widget.prototype._trigger.call(o,e,i,n)},_updateGroup:function(){var e,t,i=n[this._groupName],o=0;for(e=i.titles,t=e.length;o<t;o++)if(e[o].attr("id")==this.titleId){e[o].data("index")==i.selectedIndex&&(i.selectedIndex=-1),e.splice(o,1);break}},_destroy:function(){this._isGrouped&&this._updateGroup(),this._trigger("destroy",null,e.Event({element:this.element}))}})}(AUI,jQuery)},function(e,t){!function(e){window.af.Suspender=window.af.Suspender||{},window.af.Suspender.CONSTENTS={},e.widget("aui.suspender",{options:{scrollCount:3},_create:function(){e(document).on("scroll.aui.suspender",this,function(e){e.data._checkScrollHeight()?e.data.element.addClass("show"):e.data.element.removeClass("show")}),this._body=e("body")[0],this._html=e("html")[0]},_checkScrollHeight:function(){return this._body.scrollTop>=window.innerHeight*parseInt(this.options.scrollCount)||this._html.scrollTop>=window.innerHeight*parseInt(this.options.scrollCount)}})}(jQuery)},function(e,t){!function(e){"use strict";window.af.TabControl={CONSTENTS:{TABCONTROL:"aui-tabcontrol",TABCONTROL_NAV:"aui-tabcontrol-nav",TABCONTROL_WIZARD:"aui-tabcontrol-wizard"}},e.widget("aui.tabcontrol",e.aui.tabbase,{options:{tabcontrolClass:"aui-tabcontrol",selectedIndex:0,selectedIndexChanged:e.noop},checkIndex:function(t){return window.console&&console.warn('Function "checkIndex" is deprecated.'),this._li.index(e(t).closest("li"))},resetElement:function(){this._dealWithLi()},_create:function(){e(this.element.children("ul").find("li")[this.options.selectedIndex]).addClass(""),this._super(),this._initElement(),this._initUl(),this._initLi(),this._selectItem(this._li[this.options.selectedIndex])},_initElement:function(){this.element.addClass(this.options.tabcontrolClass)},_initUl:function(){this._ul&&this._ul.length>0&&this._ul.attr("role","tablist").on("click","a",function(t){var i=e(t.target);i.closest("a")&&i.closest("a").attr("href")&&0===i.closest("a").attr("href").indexOf("#")&&t.preventDefault()})},_initLi:function(){var t=this;t._li&&t._li.length>0&&t._li.each(function(i,n){var o=!1,a=e(n);i===t.options.selectedIndex&&(o=!0,a.addClass("select")),a.attr({role:"tab",tabindex:o?0:-1,"aria-selected":o})})},_getSelectedIndexByItem:function(e){return this._li.index(e)},_selectedItemChanged:function(e,t){this.option("selectedIndex",this._getSelectedIndexByItem(t))},_setExtendOption:function(e,t){var i=this._super(e,t),n=this;return"selectedIndex"===e?n.options[e]!==t&&(i&&!0):i},_optionChanged:function(e,t){this._super(e,t),"selectedIndex"===e&&(this._changeSelectedItem(this._li[t.newValue],this._li[t.oldValue]),this.element.trigger("selectedIndexChanged",t),this.options.selectedIndexChanged.apply(this.element,[{},t]))}})}(jQuery)},function(e,t){!function(e){window.af.Textbox=window.af.Textbox||{},window.af.Textbox.CONSTENTS={TEXTBOX:"aui-textbox",TEXTBOX_SEARCH:"aui-textbox-search"},e.widget("aui.textboxes",{options:{type:window.af.Textbox.CONSTENTS.TEXTBOX_SEARCH,searched:e.noop,stopped:e.noop},doSearch:function(e){this._doSearch(e)},stopSearch:function(e){this._doStop(e)},toggleSearch:function(e){var t=this;this.element.hasClass("ui-state-disabled")||this.options.disabled||this.element.hasClass("disabled")||(t.icon.hasClass("afui-icon-close fi-close-bs")||""===t.input.val()?t._doStop(e):t._doSearch(e))},_create:function(){var e=this,t=e.element;switch(e.options.type){case window.af.Textbox.CONSTENTS.TEXTBOX_SEARCH:e._initSearch()}t.find("input").on("focus",t,function(e){e.data.addClass("focus")}).on("blur",t,function(e){e.data.removeClass("focus")})},_initSearch:function(){var e=this,t=e.element;e.input=t.children("input[type=text]"),e.icon=t.children("div"),e.input.on("keydown",function(t){switch(t.keyCode){case 13:e._doSearch(t),t.preventDefault();break;case 27:""!==e.input.val()&&e._doStop(t),t.preventDefault()}}).on("input propertychange",function(t){e.icon.removeClass("afui-icon-close fi-close-bs")}),e.icon.on("click",e,function(e){e.data.toggleSearch(e)})},_doSearch:function(e){var t=this,i=t.element;t.icon.addClass("afui-icon-close fi-close-bs"),i.trigger("searched",[e,{element:i,newValue:t.input.val()}]),t.options.searched.apply(i,[e,{element:i,newValue:t.input.val()}])},_doStop:function(e){var t=this,i=t.element;t.input.val(""),t.icon.removeClass("afui-icon-close fi-close-bs"),i.trigger("stopped",[e,{element:i,oldValue:t.input.val()}]),t.options.stopped.apply(i,[e,{element:i,oldValue:t.input.val()}])}})}(jQuery)},function(e,t){!function(e){var t=function(e){for(var t=e.length-1;t>=0;t--)if(!e[t].isDone())return t;return 0},i=function(e){for(var t=e[e.length-1].year(),i=0,n=e.length;i<n;i++){var o=e[i].year();if(o==t&&0==i)return-1;if(o==t&&0!=i)return i}return-1};window.af.Timeline={CONSTENTS:{TIMELINE:"aui-timeline"},ViewModel:function(i,n,o){var a=this,s=e('<li role="option"></li>').append(e('<a tabindex="0" href="##" data-bind="{ css: { done: isDone, selected: $index() == $parent.selectedIndex() }, attr: { \'aria-span\': span } }"></a>').append(e("<span></span>").addClass("icon").append("<span class=\"afui-icon-dot fi-dot-bs\" data-bind=\"css: { 'afui-icon-circle-finished fi-round-finish-a': isDone, 'afui-icon-circle-concentric fi-circle-dot-a': $index() == $parent.selectedIndex() }\"></span>")).append(e("<div></div>").addClass("date").append(e("<div></div>").attr("data-bind","{ text: dateAndMonth }"))));a.itemsSource=ko.observableArray(i?i:[]),a.selectedIndex=ko.observable(n?n:t(a.itemsSource())),a.selectedItem=ko.computed(function(){return a.itemsSource()[a.selectedIndex()]}),a.hasPast=ko.observable(!0),a.hasFuture=ko.observable(!0),a.template=o?o:s,a.itemClick=function(t,i,n){a.selectedIndex(e.inArray(ko.dataFor(n.target),a.itemsSource()))}},DateViewModel:function(e,t){var i=this;i.dateValue=ko.observable(e),i.isDone=ko.observable(t),i.year=ko.computed(function(){return i.dateValue().getFullYear()}),i.month=ko.computed(function(){return i.dateValue().getMonth()}),i.date=ko.computed(function(){return i.dateValue().getDate()}),i.dateAndMonth=ko.computed(function(){return i.date()+" "+window.af.Date.I18N.Months[i.month()]}),i.span=ko.computed(function(){return i.date()+" "+window.af.Date.I18N.FullMonths[i.month()]})},Utils:{checkCurrentYear:function(e){return e[e.length-1].year()}}},ko.bindingHandlers.AUITimelineBinding={init:function(t,n,o,a,s){var r=e(t),l=n().itemsSource(),d=e("<ul></ul>");a._lastItemsSource=l,d.append("<!-- ko foreach: itemsSource -->").append(a.template).append("<!-- /ko -->"),r.attr("data-toggle","aui-timeline").addClass("aui-timeline").append('<div><button tabindex="0" class="afui-icon-circle-arrow-up fi-circle-arrow-up-bs"></button><div></div></div>').append(d).append('<div><button tabindex="0" class="afui-icon-circle-arrow-down fi-circle-arrow-down-bs"></button><div></div></div>');i(l);r.data("aui.timeline",r.timeline({itemsSource:l,selectedIndex:e.inArray(n().selectedIndex),preButtonLabel:n().topButtonLabel,nextButtonLabel:n().bottomButtonLabel}));var c=function(t){return function(){e("#"+t).timeline("setYears",n().itemsSource())}};window.setTimeout(c(r.attr("id")),1)},update:function(t,i,n,o,a){var s=e(t),r=ko.unwrap(i());o._lastItemsSource!=r.itemsSource()&&(o._lastItemsSource=r.itemsSource(),window.setTimeout(function(){s.timeline("setYears",i().itemsSource())},1))}},e.widget("aui.timeline",{options:{itemsSource:[],selectedIndex:0,preButtonLabel:"Previous",nextButtonLabel:"Next"},setYears:function(t){var i=this,n=0,o=i.element.find("li");e(i.element.find("li.year")).remove();for(var a=t.length-1;a>-1;a--)n!=t[a].year()&&(n=t[a].year(),e(o[a]).after('<li class="year">'+n+"</li>"))},previousButton:function(){return this._topButton},nextButton:function(){return this._bottomButton},_create:function(){var e=this;e._initElement(),e._initEvent()},_initElement:function(){var t=this,i=t.element,n=e("button",i);t._topButton=e(n[0]).attr("aria-span",t.options.preButtonLabel),t._bottomButton=e(n[1]).attr("aria-span",t.options.nextButtonLabel),t._ul=e("ul",i),t._lists=t._ul.children("li")},_initEvent:function(){var e=this,t=e.element;e._topButton.on("click"+e.eventNamespace,function(e){t.trigger("topButtonClick",[{element:t}])}),e._bottomButton.on("click"+e.eventNamespace,function(e){t.trigger("bottomButtonClick",[{element:t}])}),e._ul.on("click","a",function(e){e.preventDefault(),t.trigger("itemClick",[{element:t,target:this}])})}})}(jQuery)},function(e,t){!function(e){"use strict";e.widget("aui.treeView",{options:{pageIndexChanged:e.noop,arrowClick:e.noop,iconTemplate:""},_create:function(){var e=this;e.element.addClass("aui-treeview");this.firstDraw=!0,this.selectedItem=null,this.root=e._createRootTree(),e._bindHandlers()},_createRootTree:function(){var t=this,i=t.element,n=i.children("ul");return 0==n.length?i.append(e("<ul></ul>").attr("role","tree").addClass("aui-treeview-dropdown-root").data("depth",-1)):i},_destroy:function(){var e=this,t=e.element;t.empty().removeAttr("role").removeAttr("data-role")},_createNode:function(e){return"<span class='aui-treeview-item-content'>"+this.getNodeTemplate(e)+"</span>"},_createItem:function(t,i,n){var o=this,i=i||o.root,a=i.children("ul"),s=a.data("depth")||i.data("depth"),s=++s,r=e("<li></li>").append(o._createNode(t)).data("datasource",t);if(0==a.length){var l=e("<ul></ul>").attr("role","group").addClass("aui-treeview-dropdown").data("depth",s),a=l;l.append(r).appendTo(i)}else a.append(r);a.hasClass("aui-treeview-dropdown-root")||a.css("display",n?"block":"none"),i.children(".aui-treeview-item-content").attr("aria-expanded",!0),i.attr("expanded",n),i.data("hasItems",!0);var d=a.find("li"),c=d.find(".aui-treeview-item-content"),u=i.attr("id"),h=/aui-treeview-item-id-/.test(u)?u:"aui-treeview-item-id-"+s;return e.each(d,function(t,n){var a=e(n);if(!a.find(".aui-treeview-item-li-div").length){var r=o._createArrow(h+t);a.attr("id",h+t).data("depth",s).data("treeItem",o).data("parentItem",i.is("li")?i:null).data("selfItem",e(n)).data("hasItems",!1).addClass("aui-treeview-item-li").prepend(r).children(":not(ul)"),a.children(".aui-treeview-item-content").children().removeAttr("tabindex"),r.on("click",function(){var t=e(this).closest("li"),i=t.children(".aui-treeview-dropdown");i.is(":visible")?o._collapse(t):o._expand(t),$$.executeEventHandler(o,"arrowClick",o.options.arrowClick,null,$$.Event({element:o.element,newValue:o.getArrowIcon(t)}))})}}),e.each(c,function(t,i){e(i).attr("role","treeitem").attr("id",h+t+"-content").off("selectstart").on("selectstart",function(){return!1}).off("mouseenter mouseleave").on("mouseenter",function(t){e(t.target).closest(".aui-treeview-item-content").addClass("aui-treeview-item-hover").addClass("aui-treeview-state-hover")}).on("mouseleave",function(t){e(t.target).closest(".aui-treeview-item-content").removeClass("aui-treeview-item-hover").removeClass("aui-treeview-state-hover")}).on("focus",function(t){e(t.target).closest(".aui-treeview-item-content").addClass("aui-treeview-item-pressed").children().removeAttr("tabindex")})}),null==o.selectedItem&&o.firstDraw&&(e(d[0]).children(".aui-treeview-item-content").attr("tabindex",0),o.selectedItem=e(d[0]),o.firstDraw=!1),e(d[d.length-1])},_selectItem:function(e,t){var i=this;if(!e||e.length){null!=i.selectedItem&&(i.selectedItem.children(".aui-treeview-item-content").removeClass("aui-treeview-item-pressed").removeAttr("tabindex").children().removeAttr("tabindex"),i.selectedItem=null);var n=e.closest("li").children(".aui-treeview-item-content");n.attr("tabindex",0),t&&n.focus(1),i.selectedItem=e.closest("li")}},_bindHandlers:function(){var t=this;t.element.on("keydown",function(i){var n=i.keyCode,o=e(i.target),a=o.closest("li");switch(n){case 9:return null!=t.getSelectedItem()&&t.getSelectedItem().focus(1),!0;case 13:return e(i.target).closest("li").data("hasItems")?(t._selectItem(o),e(i.target).closest("li").children("ul").is(":hidden")?t._expand(o.closest("li")):t._collapse(o.closest("li"))):o.closest(".aui-treeview-item-content").click(),i.stopPropagation(),!0;case 32:return i.stopPropagation(),!0;case 35:return o.closest(".aui-treeview-item-content").removeAttr("tabindex"),t._lastItem(),i.stopPropagation(),!1;case 36:return o.closest(".aui-treeview-item-content").removeAttr("tabindex"),t._firstItem(),i.stopPropagation(),!1;case 37:var s=a.data("parentItem"),r=a.data("hasItems");return r&&a.children("ul").is(":visible")?(t._selectItem(o),t._collapse(a)):s&&(o.closest(".aui-treeview-item-content").removeAttr("tabindex"),s.children(".aui-treeview-item-content").attr("tabindex",0).focus(1),t._selectItem(s)),i.stopPropagation(),!1;case 38:var l=a.data("prevItem");return null!=l&&(l.is(":visible")?0==l.children(".aui-treeview-item-content").length?(o.removeAttr("tabindex"),l.attr("tabindex",0).focus(1),t.selectedItem.children(".aui-treeview-item-content").removeClass("aui-treeview-item-pressed").removeAttr("tabindex").children().removeAttr("tabindex")):(o.closest(".aui-treeview-item-content").removeAttr("tabindex"),l.children(".aui-treeview-item-content").attr("tabindex",0).focus(1),t._selectItem(l)):(o.closest(".aui-treeview-item-content").removeAttr("tabindex"),a.prev().children(".aui-treeview-item-content").attr("tabindex",0).focus(1),t._selectItem(a.prev()))),i.stopPropagation(),!1;case 39:if(a.data("hasItems")){a.data("nextItem");a.children(".aui-treeview-dropdown").is(":visible")?(a.data("nextItem").children(".aui-treeview-item-content").attr("tabindex",0).focus(1),o.closest(".aui-treeview-item-content").removeAttr("tabindex"),t._selectItem(a.data("nextItem"))):(t._selectItem(o),t._expand(a))}return i.stopPropagation(),!1;case 40:var d=a.data("nextItem");return null!=d&&(d.is(":visible")?0==d.children(".aui-treeview-item-content").length?(o.removeAttr("tabindex"),t.selectedItem.children(".aui-treeview-item-content").removeClass("aui-treeview-item-pressed").removeAttr("tabindex").children().removeAttr("tabindex"),d.attr("tabindex",0).focus(1)):(o.closest(".aui-treeview-item-content").removeAttr("tabindex"),d.children(".aui-treeview-item-content").attr("tabindex",0).focus(1),t._selectItem(d)):d.parent().closest("li").is(":visible")&&(o.closest(".aui-treeview-item-content").removeAttr("tabindex"),a.next().children(".aui-treeview-item-content").attr("tabindex",0).focus(1),t._selectItem(a.next()))),i.stopPropagation(),!1}})},_firstItem:function(){var e=this.element.find("ul:first").find("li:first");e.children(".aui-treeview-item-content").attr("tabindex",0).focus(1),self._selectItem(e)},_lastItem:function(){var e=this.element.find("ul:first").find("li:last");e.children(".aui-treeview-item-content").attr("tabindex",0).focus(1),self._selectItem(e)},_createArrow:function(t){return e("<div></div>").addClass("aui-treeview-item-li-div").append(e("<a></a>").append(e("<div></div>").addClass("fi-triangle-right-bs")).addClass("aui-treeview-item-li-a").addClass("aui-treeview-item-li-a-collapse").attr("id",t+"-arrow").attr("role","presentation")).append('<div class="aui-treeview-item-custom-icon">'+this.options.iconTemplate+"</div>")},getNodeTemplate:function(e){return"<span>"+e.span+"</span>"},hasChildren:function(t){var i=e(t).children("ul:not(.aui-treeview-dropdown-root)");return 0!=i.length&&0!=i.children("li").length},appendChildrenTo:function(t,i,n){var o=this,a=o._createItem(t,i,n);return o._updateItemLayout(e(i)),o.updateCustomizedLayout(a,t),a},_updateItemLayout:function(e){this.hasChildren(e)&&e.children("ul").is(":visible")?(e.find(".aui-treeview-item-li-a:first").addClass("aui-treeview-item-li-a-expand").removeClass("aui-treeview-item-li-a-collapse"),e.find(".fi-triangle-right-bs:first").addClass("fi-triangle-right-down-bs").removeClass("fi-triangle-right-bs"),e.children(".aui-treeview-item-li-div").addClass("aui-treeview-item-li-div-cursorp")):this.hasChildren(e)&&e.children("ul").is(":hidden")?(e.find(".aui-treeview-item-li-a:first").removeClass("aui-treeview-item-li-a-collapse"),e.find(".fi-triangle-right-down-bs:first").removeClass("fi-triangle-right-down-bs"),e.children(".aui-treeview-item-li-div").addClass("aui-treeview-item-li-div-cursord")):(e.find(".aui-treeview-item-li-a:first").addClass("aui-treeview-item-li-a-collapse").removeClass("aui-treeview-item-li-a-expand"),e.find(".fi-triangle-right-down-bs:first").addClass("fi-triangle-right-bs").removeClass("fi-triangle-right-down-bs"),e.children(".aui-treeview-item-li-div").addClass("aui-treeview-item-li-div-cursord"))},updateCustomizedLayout:function(e,t){},getSelectedItem:function(){return this.selectedItem},setSelectItem:function(e){this._selectItem(e)},getRootNode:function(){return this.root},getLabel:function(e){return e.children(".aui-treeview-item-content")},getArrowArea:function(e){return e.children(".aui-treeview-item-li-div")},getArrowIcon:function(e){return e.children(".aui-treeview-item-li-div").children(".aui-treeview-item-custom-icon")},removeNode:function(e){if(e){var t=e.parent().closest("li");e.remove(),this._updateNodeInformation(t,this.hasChildren(t)),this._updateNodeInformation(t.parent().closest("li"),this.hasChildren(t.parent().closest("li"))),0!=t.length?(this.selectedItem=t,setTimeout(function(){t.children(".aui-treeview-item-content").attr("tabindex",0).focus(1)},200)):0!=t.parent().closest("li").length?(this.selectedItem=t.parent().closest("li"),setTimeout(function(){this.selectedItem.children(".aui-treeview-item-content").attr("tabindex",0).focus(1)},200)):this.selectedItem=null}},removeChildren:function(e){e&&(e.children("ul.aui-treeview-dropdown").remove(),e.find(".fi-triangle-right-down-bs:first").addClass("fi-triangle-right-bs").removeClass("fi-triangle-right-down-bs").parent().addClass("aui-treeview-item-li-a-collapse"),e.children(".aui-treeview-item-li-div").addClass("aui-treeview-item-li-div-cursord"),e.data("hasItems",!1).children(".aui-treeview-item-content").removeAttr("aria-expanded"),this._updateNodeInformation(e,!1))},expandAll:function(){var t=this,i=t.root;if(i){var n=i.find(".aui-treeview-item-li");e.each(n,function(i,n){var o=e(n);t.hasChildren(o)&&t._expand(o)})}},collapseAll:function(){var t=this,i=t.root;if(i){var n=i.find(".aui-treeview-item-li");e.each(n,function(i,n){var o=e(n);t.hasChildren(o)&&t._collapse(o)})}},expand:function(e){this._expand(e)},collapse:function(e){this._collapse(e)},_expand:function(e){var t=e.children(".aui-treeview-dropdown");t.show().addClass("aui-treeview-item-li-a-expand").removeClass("aui-treeview-item-li-a-collapse"),e.find(".fi-triangle-right-bs:first").addClass("fi-triangle-right-down-bs").removeClass("fi-triangle-right-bs"),e.children(".aui-treeview-item-content").attr("aria-expanded",!0),e.attr("expanded",!0),this._updateNodeInformation(t,!0)},_collapse:function(e){var t=e.children(".aui-treeview-dropdown");t.hide().addClass("aui-treeview-item-li-a-collapse").removeClass("aui-treeview-item-li-a-expand"),e.find(".fi-triangle-right-down-bs:first").addClass("fi-triangle-right-bs").removeClass("fi-triangle-right-down-bs"),e.children("ul").hide(),e.children(".aui-treeview-item-content").attr("aria-expanded",!1),e.attr("expanded",!1),this._updateNodeInformation(t,!1)},_updateNodeInformation:function(e,t){if(t){var i=e.closest("li").data("nextItem"),n=e.closest("li").children("ul").children("li:first"),o=e.closest("li").children("li:last");e.closest("li").data("nextItem",n),o.data("nextItem",i)}else{for(var a=e.closest("li").data("parentItem"),s=(e.closest("li").data("nextItem"),e.closest("li").next("li"));0==s.length&&null!=a;)s=a.next("li"),a=a.data("parentItem");e.closest("li").data("nextItem",0!=s.length?s:null)}},render:function(){this._updateItemsNavigation()},_updateItemsNavigation:function(){var t=this.element,i=t.find("li");e.each(i,function(t,n){0==t?(e(n).data("prevItem",null),e(n).data("nextItem",e(i[t+1]))):t==i.length-1?(e(n).data("prevItem",e(i[t-1])),e(n).data("nextItem",null)):(e(n).data("prevItem",e(i[t-1])),e(n).data("nextItem",e(i[t+1])))})}})}(jQuery)},function(e,t){!function(e){window.af.Validations={CONSTENTS:{VALIDATION_TYPES:{PASS:-1,CUSTOM:1,REQUIRED:2,DATE:3,NUMBER:4,FINANCIAL:5,EMAIL:6},VALIDATION_EMAIL:"email",VALIDATION_DATE:"date",VALIDATION_NUMBER:"number",VALIDATION_FINANCIAL:"financial",VALIDATION_TEXT:"text",VALIDATION_CUSTOM:"custom"},Utils:{checkEmail:function(e){if(""==e)return!0;var t=e.indexOf("@");if(t<0)return!1;if(t>64)return!1;if(e.length-t>320)return!1;var i=/^\w{1,64}((-\w{1,64})|(\.\w{1,64}))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return!!i.test(e)},checkNumber:function(e,t,i){if("Array"==typeof e){for(var n=0,o=e.length;n<o;n++)if(!window.af.Validations.Utils.checkNumber(e[n]))return!1;return!0}if(""==e)return!0;var a=/^[0-9]*$/;return!!a.test(e)&&(e=parseInt(e),t=parseInt(t),i=parseInt(i),!(void 0!=t&&e<t)&&!(void 0!=i&&e>i))},checkFinancial:function(e,t,i){if("Array"==typeof e){for(var n=0,o=e.length;n<o;n++)if(!window.af.Validations.Utils.checkFinancial(e[n]),i)return!1;return!0}if(""==e)return!0;var a=/^-?([1-9]\d*|[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$/;return!!a.test(e)&&(e=parseFloat(e),t=parseFloat(t),i=parseFloat(i),!(void 0!=t&&e<t)&&!(void 0!=i&&e>i))},toFinancial:function(e){return e=parseFloat(e),(Math.round(e*Math.pow(10,2))/Math.pow(10,2)).toFixed(2)},validateElement:function(t,i,n,o){if(t instanceof jQuery||(t=e(t)),!t.data("aui.validation")){var a=t.attr("data-validation-target");t.data("aui.validation",t.validation(t.data("option")?t.data("option"):{alert:t.attr("data-validation-alert")?e(t.attr("data-validation-alert")):null,isRequired:!!t.attr("aria-required"),validationType:t.attr("data-validation")?t.attr("data-validation"):t.attr("data-delayedvalidation")?t.attr("data-delayedvalidation"):void 0,target:a?e(a):null,customVarification:window[t.attr("data-verification")]?window[t.attr("data-verification")]:function(){return!0},failedAlertText:t.attr("data-valFailedStr"),requiredAlertText:t.attr("data-valRequiredStr"),minValue:t.attr("data-min"),maxValue:t.attr("data-max"),maxLength:t.attr("maxlength"),iconClass:o?o:af.config.validations.iconClass,alertWidth:t.attr("data-validation-alert-width")?t.attr("data-validation-alert-width"):"auto"}))}return t.validation("validation",i,n)},validateGroup:function(t,i){for(var n=e('[data-validation-group="'+t+'"]').map(function(t,i){return e(i)}),o=[],a=!1,s={subValidationTypes:[]},r=0,l=n.length;r<l;r++){if(!n[r].data("aui.validation")){var d=n[r].attr("data-validation-target");n[r].data("aui.validation",n[r].validation({alert:n[r].attr("data-validation-alert")?e(n[r].attr("data-validation-alert")):null,isRequired:!!n[r].attr("aria-required"),validationType:n[r].attr("data-validation")?n[r].attr("data-validation"):n[r].attr("data-delayedvalidation")?n[r].attr("data-delayedvalidation"):void 0,target:d?e(d):null,customVarification:window[n[r].attr("data-verification")]?window[n[r].attr("data-verification")]:function(){return!0},failedAlertText:n[r].attr("data-valFailedStr"),requiredAlertText:n[r].attr("data-valRequiredStr"),minValue:n[r].attr("data-min"),maxValue:n[r].attr("data-max"),maxLength:element.attr("maxlength"),iconClass:i?i:af.config.validations.iconClass,alertWidth:element.attr("data-validation-alert-width")?element.attr("data-validation-alert-width"):"auto"}))}var c=n[r].validation("validation");if(s.subValidationTypes.push(c),c!==window.af.Validations.CONSTENTS.VALIDATION_TYPES.REQUIRED||a?c===window.af.Validations.CONSTENTS.VALIDATION_TYPES.REQUIRED&&a&&n[r].validation("pass"):o.push(n[r]),c===window.af.Validations.CONSTENTS.VALIDATION_TYPES.PASS){a=!0;for(var u=0,h=o.length;u<h;r++)o[r].validation("pass")}}return s.hasPassed=a,s}}},e.widget("aui.validation",{options:{validationFailClass:"afui-validation-fail",validationAlertClass:"afui-validation-alert",alert:null,target:null,content:null,alertWidth:"auto",autoValidate:!1,isRequired:!1,validationType:window.af.Validations.CONSTENTS.VALIDATION_TEXT,maxValue:null,minValue:null,maxLength:null,alertText:"",iconClass:af.config.validations.iconClass,customVarification:function(){return!0},validated:e.noop,failedAlertText:"",requiredAlertText:""},validation:function(e,t){var i=this,n=i.element;if(t&&(t[0]===n[0]||t.find(n[0]).length>0))return-1;var o=(window.af.Validations.CONSTENTS.VALIDATION_TYPES,i._validate(e)),a={element:n,validationResult:o};return o<0?i.pass():(i.fail(),i._getAlertTextFromOldEdition(o)),n.trigger("validated",a),i.options.validated.apply(n[0],[e,a]),o},fail:function(e){var t=this,i=t.options.target;0===t.options.alert.parent().length&&i.after(t.options.alert),i.addClass("afui-validation-fail"),e===!0||void 0===e?t.options.alert.show().width(t.options.alertWidth):t.options.alert.hide()},pass:function(){var e=this;e.options.alert.hide(),e.options.target.removeClass("afui-validation-fail"),e._inputish.removeAttr("title")},hideAlert:function(){var e=this;e.options.alert.hide(),e.element.removeAttr("title")},_create:function(){var e=this;e._initElement(),e._toggleEvent()},_setOption:function(t,i){switch(t){case"alertText":e.Widget.prototype._setOption.apply(this,arguments),this._updateAlertText(i)}e.Widget.prototype._setOption.apply(this,arguments)},_initElement:function(){var e=this;e._initAlert(),e._initInputish(),e.options.target=e.options.target&&e.options.target.length>0?e.options.target:e.element},_initAlert:function(){var t=this;t.options.content=e("<div></div>"),t.options.alert=t.options.alert&&t.options.alert.length>0?t.options.alert:e("<div></div>"),t.options.alert.addClass(t.options.validationAlertClass).attr("role","alert").html('<div class="arrow-outer"></div><div class="arrow-inner"></div><span class="'+t.options.iconClass+'"></span>').append(t.options.content),"right"===af.config.validations.alertStyle&&t.options.alert.addClass("arrow-right")},_initInputish:function(){var e=this;e._inputish="input"==e.element[0].nodeName.toLowerCase()||"textarea"==e.element[0].nodeName.toLowerCase()?e.element:e.element.find("input, textarea"),e._inputish=e._inputish&&e._inputish.length>0?e._inputish:e.element},_toggleEvent:function(){var e=this;switch(e.options.autoValidate,e._inputish[0].nodeName.toLowerCase()){case"input":if("radio"===e._inputish[0].type||"checkbox"===e._inputish[0].type){e._inputish.off("propertychange"+e.eventNamespace+" change"+e.eventNamespace).on("propertychange"+e.eventNamespace+" change"+e.eventNamespace,e,function(e){e.data.element.hasClass(e.data.options.validationFailClass)&&(window.event&&window.event.propertyName?"value"===window.event.propertyName&&e.data.pass():e.data.pass())});break}e.element.attr("data-toggle")&&0==e.element.attr("data-toggle").indexOf("aui-select")&&e.element.off("change"+e.eventNamespace).on("change"+e.eventNamespace,e,function(t){t.data.options.target.hasClass(e.options.validationFailClass)&&(window.event&&window.event.propertyName?"value"===window.event.propertyName&&t.data.pass():t.data.pass());
});case"textarea":e._inputish.off("propertychange"+e.eventNamespace+" input"+e.eventNamespace).on("propertychange"+e.eventNamespace+" input"+e.eventNamespace,e,function(t){t.data.options.target.hasClass(e.options.validationFailClass)&&(window.event&&window.event.propertyName?"value"===window.event.propertyName&&t.data.pass():t.data.pass())}),af.Utils.Browser.msie<10&&e.options.maxLength&&e._inputish.off("keydown"+e.eventNamespace).on("keydown"+e.eventNamespace,e,function(e){e.target.value.length>=e.data.options.maxLength&&!e.ctrlKey&&!e.altKey&&(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode>=96&&e.keyCode<=107||e.keyCode>=109&&e.keyCode<=111||e.keyCode>=186&&e.keyCode<=192||e.keyCode>=219&&e.keyCode<=222||e.keyCode===af.Utils.KeyCode.SPACE)&&e.preventDefault()}).off("beforepaste"+e.eventNamespace).on("beforepaste"+e.eventNamespace,e,function(e){var t=window.clipboardData.getData("text");e.target.value.length+t.length>=e.data.options.maxLength&&window.clipboardData.setData("text",t.substr(0,e.data.options.maxLength-e.target.value.length))})}},_validate:function(t){var i=this,n=i.options,o=i.element,a=[],s=window.af.Validations.CONSTENTS,r=s.VALIDATION_TYPES,l=window.af.Validations.Utils;if(1==i._inputish.length)a=e.trim("INPUT"==i._inputish[0].nodeName||"TEXTAREA"==i._inputish[0].nodeName?i._inputish.val():i._inputish.text());else if(i._inputish.length>1)for(var d=0,c=i._inputish;d<c;d++)a.push(e.trim(i._inputish[d].value));if(n.validationType===s.VALIDATION_CUSTOM){var u=n.customVarification(a,i._inputish,i.element,t);return!!u==!1?r.CUSTOM:u===!0?r.PASS:u}if((!t||"blur"!==t.type)&&n.isRequired&&0==a.length)return r.REQUIRED;switch(n.validationType){case s.VALIDATION_DATE:break;case s.VALIDATION_NUMBER:if(!l.checkNumber(a,n.minValue,n.maxValue))return r.NUMBER;break;case s.VALIDATION_FINANCIAL:if(!l.checkFinancial(a,n.minValue,n.maxValue))return r.FINANCIAL;if(""!=a){var h=l.toFinancial(a);o.val(h),o.trigger("change")}break;case s.VALIDATION_EMAIL:if(!l.checkEmail(a))return r.EMAIL}return r.PASS},_getAlertTextFromOldEdition:function(e){var t=window.af.Validations.CONSTENTS.VALIDATION_TYPES,i=this;e==t.REQUIRED?i.option("alertText",i.options.requiredAlertText):i.option("alertText",i.options.failedAlertText)},_updateAlertText:function(e){this.options.content.html(e),this._inputish.attr("title",e)}})}(jQuery)},function(e,t){$.widget("aui.tabcontrolwizard",$.aui.tabcontrol,{options:{wizardClass:"aui-wizard",stepCount:0,stepCountChanged:$.noop},gotoStep:function(e){var t=this;t.option("selectedIndex",parseInt(e))},gotoNext:function(){this.selectNext()},gotoPrevious:function(){this.selectPrev()},_create:function(){var e=this;e._super(),e._changeStepCount(e.options.stepCount)},_initElement:function(){this.element.addClass(this.options.wizardClass)},_changeStepCount:function(e){for(var t=this,i=0,n=t._li.length;i<n;i++)i<=e?$(t._li[i]).addClass("stepped"):$(t._li[i]).removeClass("stepped")},_selectedItemChanging:function(e,t){return t.className.indexOf("stepped")>=0},_setExtendOption:function(e,t){var i=this._super(e,t),n=this;return"stepCount"===e?n.options[e]!==t&&(this._li[t].getAttribute("aria-controls")?i&&!0:(this.option("stepCount",t+1),!1)):i},_optionChanged:function(e,t){this._super(e,t),"stepCount"===e&&(this._changeStepCount(t.newValue),this.element.trigger("stepCountChanged",t),this.options.stepCountChanged.apply(this.element,[{},t]))}})},function(e,t){!function(e){e(document.documentElement).on("click.aui.dropdown","[data-target]",function(t){t.preventDefault();var i,n,o,a,s=e(t.target);s.attr("data-target")||(s=e(this).closest("[data-target]")),s.hasClass("disable")||s.attr("disabled")||(i=e(s.attr("data-target")),n=i.attr("data-my"),o=i.attr("data-at"),a=i.closest(".aui-dropdown-container"),!i.data("aui.dropdown")||"false"==i.attr("data-autoexpand")||!s.attr("disabled")&&s.hasClass("disabled")?i.data("aui.dropdown",i.dropdown({of:s,my:n?n:i.attr("data-my")?i.attr("data-my"):"left top",at:o?o:i.attr("data-at")?i.attr("data-at"):"left bottom",within:a.length?a[0]:window,autoOpening:i.attr("data-autoexpand"),isLazy:!0})):i.dropdown("toggle"))})}(jQuery)},function(e,t){!function(e){e(document).on("scroll.aui.floater",function(t){var i=e("[data-floater=aui-floater]");i.data("aui.floater")||i.data("aui.floater",i.floater({type:i.attr("data-toggle"),isLazy:!0}))})}(jQuery)},function(e,t){!function(e){e(document).on("scroll.aui.suspender",function(t){var i=e("[data-suspender=aui-suspender]");i.data("aui.suspender")||i.data("aui.suspender",i.suspender({scrollCount:i.attr("data-scrollCount")?i.attr("data-scrollCount"):3}))})}(jQuery)},function(e,t){!function(e){e(document.documentElement).on("focus.aui.textbox","[data-toggle^=aui-textbox]",function(t){var i=e(t.target);i.hasClass("aui-textbox")||(i=e(this).closest("[data-toggle^=aui-textbox]")),i.data("aui.textbox")||i.data("aui.textbox",i.textboxes({type:i.attr("data-toggle"),isLazy:!0})),t.preventDefault()}).on("click.aui.textbox","[data-toggle^=aui-textbox]",function(t){var i=e(t.target);i.hasClass("aui-textbox")||(i=e(this).closest("[data-toggle^=aui-textbox]")),i.data("aui.textbox")||(i.data("aui.textbox",i.textboxes({type:i.attr("data-toggle"),isLazy:!0})),i.textboxes("toggleSearch",t)),t.preventDefault()})}(jQuery)},function(e,t){!function(e){e(document.documentElement).on("focus.aui.timeline","[data-toggle=aui-timeline]",function(t){var i=e(t.target);i.hasClass("aui-timeline")||(i=e(this).closest("[data-toggle=aui-timeline]")),i.data("aui.timeline")||i.data("aui.timeline",i.timeline({selectedIndex:e.inArray(e("> ul > li.selected",i),e("> ul > li",i))})),t.preventDefault()})}(jQuery)},function(e,t){!function(e){var t=function(t,i){var n=e(t.target);if(!n.attr("data-validation")&&!n.attr("data-delayedvalidation")){var o=e(t.target).closest("[data-validation]");n=o.length>0?o:e(t.target).closest("[data-delayedvalidation]")}if(!n.data("aui.validation")){var a=n.attr("data-validation-target");n.data("aui.validation",n.validation(n.data("option")?n.data("option"):{isRequired:"true"===n.attr("aria-required"),validationType:n.attr("data-validation")?n.attr("data-validation"):n.attr("data-delayedvalidation")?n.attr("data-delayedvalidation"):void 0,target:a?e(a):null,customVarification:window[n.attr("data-verification")]?window[n.attr("data-verification")]:function(){return!0},failedAlertText:n.attr("data-valFailedStr"),requiredAlertText:n.attr("data-valRequiredStr"),minValue:n.attr("data-min"),maxValue:n.attr("data-max"),maxLength:n.attr("maxlength"),isDelayed:i,iconClass:af.config.validations.iconClass,alertWidth:n.attr("data-validation-alert-width")?n.attr("data-validation-alert-width"):"auto"}))}};e(document.documentElement).on("focus.aui.validation","[data-validation]",function(e){t(e,!1),e.preventDefault()}).on("focus.aui.validation","[data-delayedvalidation]",function(e){t(e,!0),e.preventDefault()})}(jQuery)},function(e,t,i){i(60),i(61),i(62),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(75),i(76),i(77),i(78),i(79),i(80),i(81),i(82),i(83),i(84),i(85),i(86),i(87),i(88),i(89),i(90),i(91)},function(e,t){!function(e){"use strict";function t(i,n){var o,a,s=0,r=i._vm;if(n)for(o=n.split("."),a=o.length-1,null===r&&e.error('Can not find property "'+o[0]+'" .Please check your binding syntax.');s<a;s++)r=r[o[s]];return void 0===r?t({_vm:i._scope.$parent,_scope:i._scope.$parent},n):{parent:r,name:o&&o[a]}}function i(){if(!(this instanceof i))return new i}function n(){if(!(this instanceof n))return new n}function o(i){var n,o=this,a=this._args;n=t(this,a.name),"string"==typeof a.name&&a.name&&(n.parent.hasOwnProperty(n.name)?e.error(a.name+" is already in exist."):n.parent[n.name]=function(){return"option"==arguments[0]&&e.error('call method "option" is not allowed.'),"string"==typeof o._widgetName&&o._widgetName&&(i=o._widgetName),o._ele[i].apply(o._ele,arguments)})}function a(e,t){return t.indexOf(".")==-1&&void 0!=t&&(t=e+"."+t),t}function s(e){return e&&e.trim()}function r(e,t){for(var i=0,n=e.length;i<n;i++)delete t[e[i]]}function l(e){return e.replace(/(\w)/,function(e){return e.toUpperCase()})}function d(e,t,i){for(var n=0,o=i.length-1,a=e[t].$inject,s={};n<o;n++)e["_"+a[n].replace("$","")]=i[n];return s.base=e,s}function c(t,i,o){e.isFunction(t[o])||(t[o]=function(){var a=d(t,o,arguments);return{restrict:"EA",template:t._template,templateUrl:t._templateUrl,replace:!0,transclude:!0,link:function(t,s,r){a._vm=t,a._ele=e(s),a._scope=t,a._attrs=r,u(a.base,i,o),g.call(n(),a)}}})}function u(t,i,o){var a=0,s=S.length;for(n.prototype={},e.extend(!0,n.prototype,t);a<s;a++)delete n.prototype[S[a]];delete n.prototype[i],delete n.prototype[o]}function h(t,i,n,o){var a=t._inject,s=t._namespace+l(i);e.isArray(a)||(a=[]),e.isFunction(t[i])||(t[i]=function(e){var t=this;t[n].$inject=["$parse"].concat(a).concat([i]),e.factory(i,function(){return t}).directive(s,t[n])})}function _(e){var t=e._widgetName,i="_"+t;c(e,t,i),h(e,t,i)}function p(e){var t,i=e.base._widgetName;for(t in e)"base"!=t&&(this[t]=e[t]);this._args=this._parse(this._attrs[i])(window),this._isAs=!1,this._widgetName=i}function m(){var t=this._scope,i=this._args;null==i&&e.error('Call "_initMembers" method failed.'),"string"==typeof i.as&&i.as&&(this._vm=t[i.as],this._isAs=!0)}function f(){var e=this._args;for(var i in e.viewModel){var n=t(this,e.viewModel[i]);e.viewModel[i]=n.parent[n.name]}}function g(e){var t=e.base;p.call(this,e),t._initMembers.call(this),m.call(this),t._convertAs.call(this,a),t._getTemplate.call(this,s),o.call(this,t._widgetName),f.call(this),t._initWidget.call(this),t._addWatcher.call(this)}function v(){var e;if(this._uuid=++I,"aui"==this._namespace)this[this._widgetName](angular.module("aui"));else{e=this._namespace+".widgets";try{angular.module(e)}catch(t){angular.module(e,[])}this[this._widgetName](angular.module(e))}}function C(t,n){var o,a,s,l,d=i,c=t.split(".");a=c[0],s=c[1],t=(c+"").replace(/,/g,"_"),o="directive_"+t,$$directive[t]?e.error(t+" directive is exist."):(l=d(),$$directive[t]=function(e){return"uuid"==e?l._uuid:"total"==e?I+1:void 0}),r(b,n),e.extend(!0,l,n||{}),l._namespace=a,l._widgetName=s,_(l),v.call(l)}var b,S,I=-1,w=(e("html"),{});window.$$directive&&e.error("$$directive is used by other code.Please resolve conflict."),window.angular?angular.module("aui",[]):e.error("angular is undefined."),window.$$directive=function(e,t){C(e,t)},b=["_trigger","_apply","_setValue","_geValue","_destroy"],S=["_initMembers","_convertAs","_getTemplate","_initWidget","_addWatcher","_widgetName","_namespace"],angular.forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t="aui"+l(e);w[t]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(n,o){var a=i(o[t],null,!0);return function(t,i){i.on(e,function(e){var i=function(){a(t,{$event:e})};i()})}}}}]}),angular.module("aui").directive(w),i.prototype={_trigger:function(i,n,o,a){var s,r,l=i.data;a&&n.type!=l._widgetName||"string"==typeof o&&o&&(s=t(l,o),r=s.parent[s.name],e.isFunction(r)?(i.data=void 0,n&&(n.element=void 0),r.call(l._vm,i,n)):e.error('"'+o+'" is not a function.Please check your binding syntax.'))},_destroy:function(e){var i;"string"==typeof e&&e&&(i=t(this,e),delete i.parent[i.name])},_setValue:function(e,i){var n;e&&(n=t(this,e),n.parent[n.name]=i)},_geValue:function(e){var i;if(e)return i=t(this,e),i.parent[i.name]},_initMembers:e.noop,_getTemplate:e.noop,_convertAs:e.noop,_initWidget:e.noop,_addWatcher:e.noop}}(jQuery)},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiRepeatCallback",function(e){return{restrict:"A",link:function(e,t,i){e.$last===!0&&e.$eval(i.auiRepeatCallback)}}}),i.directive("auiDirective",function(e){return{restrict:"A",link:function(e,t,i){console.log("test directive")}}})}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiBreadCrumb",function(){return{restrict:"E",scope:!1,template:'<nav class="afui-breadcrumb" role="navigation"><ul role="tablist"><li  ng-repeat="item in items" ng-if="$index+1!=items.length"><a ng-href="{{item.href}}">{{item.title}}</a><span class="afui-icon-triangle-right fi-triangle-right-bs"></span></li><li  ng-repeat="item in items" ng-if="$index+1==items.length"> <span tabindex="0">{{item.title}}</span></li></ul></nav>',replace:!0,transclude:!1,link:function(e,t,i){}}})}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiBtnContainer",function(e){return{restrict:"EA",scope:{btncontainer:"="},template:'<div class="aui-btn-container" ng-transclude></div>',replace:!0,transclude:!0,link:function(t,i,n){function o(i){e(function(){var e=0;try{e=i.parent()[0].clientWidth}catch(n){}if(i.parent().width()>0&&e>0)$(".aui-btn-container.id"+t.$id).btnContainer(a);else var o=setInterval(function(){try{$(".aui-btn-container.id"+t.$id).parent()[0].clientWidth>0&&($(".aui-btn-container.id"+t.$id).btnContainer(a),window.clearInterval(o))}catch(e){}},100)},0)}var a=t.btncontainer;a.as&&t.$watch(function(){return a.as[a.items]},function(){o($(".aui-btn-container.id"+t.$id))}),i.hasClass("id"+t.$id)||i.addClass("id"+t.$id),o(i)}}})}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiButton",function(){return{restrict:"E",scope:!1,template:'<button type="button" role="button" class="button" aria-disabled="false" ng-transclude></button>',replace:!0,transclude:!0,link:function(e,t,i){"ascensive"in i&&t.addClass("button-theme"),"disabled"in i&&t.attr("aria-disabled","true"),"icon"in i&&t.addClass("button-icon"),"bald"in i&&t.addClass("button-bald operable"),"link"in i&&t.addClass("button-link"),"block"in i&&t.addClass("button-block")}}})}},function(e,t){!function(){"use strict";$$directive("aui.captcha.directive",{_template:"<div></div>",_initMembers:function(){var e=this._args;this._isValidName=e.isValid,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))},_initWidget:function(){this._ele.on("validChanged",this,this._onValidChanged).on("destroy",this,this._onDestroy).removeAttr("data-aui-captcha").removeAttr("data-captcha").captcha(this._args)},_addWatcher:function(){this._isSetDisabled&&this._addDisabledWatcher()},_onValidChanged:function(e,t){var i=e.data;i._setValue(i._isValidName,t.newValue)},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.combobox("option","disabled",t)})},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]}})}()},function(e,t){!function(){"use strict";$$directive("aui.combobox.directive",{_template:"<div>combobox<p ng-transclude></p></div>",_initMembers:function(){var e=this._args;void 0==e.selectedItem&&$.error("Mapping 'selectedItem' is not available"),this._watchSelectedItem=this._selectedItemName=e.selectedItem,this._watchItems=this._itemsName=e.items,this._watchDisabled=this._disabledName=e.disabled,this._hiddenName=e.hidden,this._itemsSourceChangedName=e.itemsSourceChanged,this._selectedChangedName=e.selectionChanged,this._selectionChangingName=e.selectionChanging,this._shownName=e.shown,this._isItemsSourceChanging=!1,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchSelectedItem=e(t.as,this._selectedItemName),this._watchItems=e(t.as,this._itemsName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),t.selectedItem=this._geValue(this._selectedItemName)},_getTemplate:function(e){var t=this._ele,i=this._args;i.itemTemplate=e(t.children("p").children("item-template").html()),i.selectedTemplate=e(t.children("p").children("selected-template").html()),i.createTemplate=e(t.children("p").children("create-template").html())},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("hidden",this,this._onHidden).on("itemsSourceChanged",this,this._onItemsSourceChanged).on("selectionChanging",this,this._onSelectionChanging).on("selectionChanged",this,this._onSelectionChanged).on("shown",this,this._onShown).removeAttr("data-aui-combobox").removeAttr("data-combobox").combobox(this._args)},_addWatcher:function(){this._addItemsWatcher(),this._addSelectedItemWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onHidden:function(e,t){var i=e.data;i._trigger(e,t,i._hiddenName)},_onItemsSourceChanged:function(e,t){var i=e.data;e.stopPropagation(),i._isItemsSourceChanging=!1,i._setValue(i._itemsName,t.newValue),i._trigger(e,t,i._itemsSourceChangedName)},_onSelectionChanging:function(e,t){var i=e.data;i._trigger(e,t,i._selectionChangingName)},_onSelectionChanged:function(e,t){var i=e.data;t.parameters.isItemsSourceChanging=i._isItemsSourceChanging,i._setValue(i._selectedItemName,t.newValue.item),i._trigger(e,t,i._selectedChangedName)},_onShown:function(e,t){var i=e.data;i._trigger(e,t,i._shownName)},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._isItemsSourceChanging=!0,e._ele.combobox("itemsSource",t)},!0)},_addSelectedItemWatcher:function(){var e=this;this._vm,e._selectedItemName;this._scope.$watch(e._watchSelectedItem,function(t,i){e._ele.combobox("selectedItem",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.combobox("option","disabled",t)})}})}()},function(e,t){!function(){"use strict";$$directive("aui.datagrid.directive",{_template:"<div>datagrid<p ng-transclude></p></div>",_initMembers:function(){var e=this._args;e&&"string"==typeof e.items&&e.items||$.error("Mapping 'items' is not available"),this._watchItems=this._itemsName=e.items,this._itemsSourceChangedName=e.itemsSourceChanged,this._filtered=e.filtered,this._filtering=e.filtering,this._loaded=e.loaded,this._rowClick=e.rowClick,this._sorted=e.sorted,this._sorting=e.sorting,this._columns=this._ele.children("p").children("columns").children(),this._rowStyle=this._ele.children("p").children("row-style"),this._isItemsWatched=!1,this._itemscount=0},_getTemplate:function(e){0==this._columns.length?$.error('Please set "columns" for datagrid.'):this._args.columns=this._getColumnsSetting(this,e),this._rowStyle.length>0&&(this._args.rowStyle=e(this._rowStyle.attr("data-bind")))},_getColumnsSetting:function(e,t){var i,n=e._columns,o=n.length,a=[];for(i=0;i<o;i++){var s=$(n[i]);a[i]=this._parse(s.data("column"))(window),a[i].isSortable&&(a[i].sortASC=e._vm[a[i].sortASC]),a[i].isSortable&&(a[i].sortDESC=e._vm[a[i].sortDESC]),a[i].type==$$.datagrid("columnType").template&&(a[i].columnTemplate=t(s.children("column-template").html())),a[i].headerTemplate=t(s.children("header-template").html()),a[i].backgroundTemplate=t(s.children("background-template").html()),a[i].headerBackgroundTemplate=t(s.children("header-background-template").html())}return a},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&""!=t.as&&(this._watchItems=e(t.as,this._itemsName))},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("filtered",this,this._onFiltered).on("filtering",this,this._onFiltering).on("itemsSourceChanged",this,this._onItemsSourceChanged).on("loaded",this,this._onLoaded).on("sorted",this,this._onSorted).on("sorting",this,this._onSorting).on("rowClick",this,this._onRowClick).removeAttr("data-aui-datagrid").removeAttr("data-datagrid").datagrid(this._args)},_addWatcher:function(){this._addItemsWatcher()},_onFiltered:function(e,t){e.data._trigger(e,t,e.data._filtered)},_onFiltering:function(e,t){e.data._trigger(e,t,e.data._filtering)},_onItemsSourceChanged:function(e,t){var i=e.data;"combobox"!=t.type&&(i._isItemsWatched?i._isItemsWatched=!1:(i._setValue(i._itemsName,ko.mapping.toJS(t.newValue)),i._isItemsWatched=!1),e.data._trigger(e,t,i._itemsSourceChangedName))},_onLoaded:function(e,t){e.data._trigger(e,t,e.data._loaded)},_onRowClick:function(e,t){e.data._trigger(e,t,e.data._rowClick)},_onSorted:function(e,t){e.data._trigger(e,t,e.data._sorted)},_onSorting:function(e,t){e.data._trigger(e,t,e.data._sorting)},_onDestroy:function(e,t){var i=e.data,n=i._args.name;"datagrid"==t.type&&i._destroy(n)},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){void 0==t&&$.error("Mapping 'items' is not available"),e._itemscount!=t.length&&(e._isItemsWatched=!0),e._itemscount=t.length,e._ele.datagrid("itemsSource",t)},!0)}})}()},function(e,t){!function(){"use strict";$$directive("aui.datepicker.directive",{_template:"<div>datepicker</div>",_initMembers:function(){var e=this._args;this._watchSelectedDate=this._selectedDateName=e.selectedDate,this._watchSelectedTimeZone=this._selectedTimeZoneName=e.selectedTimeZone,this._watchDisabled=this._disabledName=e.disabled,this._selectionChangedName=e.selectionChanged,this._shownName=e.shown,this._hiddenName=e.hidden,this._isSetSelectedDate="string"==typeof e.selectedDate&&!!e.selectedDate,this._isSetTimeZone="string"==typeof e.selectedTimeZone&&!!e.selectedTimeZone,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._isSetSelectedDate&&(this._watchSelectedDate=e(t.as,this._selectedDateName)),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName)),this._isSetTimeZone&&(this._watchSelectedTimeZone=e(t.as,this._selectedTimeZoneName))),t.selectedDate=this._geValue(this._selectedDateName),t.selectedTimeZone=this._geValue(this._selectedTimeZoneName)},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("hidden",this,this._onHidden).on("selectionChanged",this,this._onSelectionChanged).on("shown",this,this._onShow).removeAttr("data-aui-rangepicker").removeAttr("data-rangepicker").datepicker(this._args)},_addWatcher:function(){this._isSetSelectedDate&&this._addSelectedDateWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data,t=i.args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onHidden:function(e,t){e.data._trigger(e,t,e.data._hiddenName)},_onShow:function(e,t){e.data._trigger(e,t,e.data._shownName)},_onSelectionChanged:function(e,t){var i=e.data;e.stopPropagation(),i._setValue(i._selectedDateName,t.newValue),e.data._trigger(e,t,i._selectionChangedName)},_addSelectedDateWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedDate,function(t,i){e._ele.datepicker("option","selectedDate",t)})},_addselectedTimeZoneWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedTimeZone,function(t,i){e.ele.datepicker("option","selectedTimeZone",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.datepicker("option","disabled",t)})}})}()},function(e,t){!function(){"use strict";$$directive("aui.dropdown.directive",{_template:"<div ng-transclude></div>",_initMembers:function(){var e=this._args;this._of=e.of,this._my=e.my,this._at=e.at,this._within=e.within,this._triggerEvent=e.triggerEvent,this._triggerTogglable=e.triggerTogglable,this._closedName=e.closed},_convertAs:function(e){this._args},_initWidget:function(){this._of instanceof jQuery||(this._of=this._args.of=$(this._of)),this._of.off(this._triggerEvent+".dropdown.directive").on(this._triggerEvent+".dropdown.directive",this,function(e){e.data._triggerTogglable&&"false"!==e.data._triggerTogglable&&e.data._ele.hasClass("aui-dropdown-visible")?e.data._ele.dropdown("close"):e.data._ele.dropdown("open")}),this._ele.addClass("aui-dropdown").on("closed",this,this._onClosed).removeAttr("data-aui-dropdown").removeAttr("data-dropdown").dropdown(this._args)},_addWatcher:function(){},_onClosed:function(e,t){var i=e.data;i._trigger(e,t,i._closedName)}})}()},function(e,t){},function(e,t){!function(){"use strict";$$directive("aui.eventcalendar.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;this._watchItems=this._itemsName=e.items,this._watchDisabled=this._disabledName=e.disabled,this._itemsSourceChangedName=e.itemsSourceChanged,this._pagingName=e.paging,this._monthCellClickName=e.monthCellClick,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_getTemplate:function(e){var t=this._ele,i=this._args;i.tasksTemplate=e(t.children("p").children("tasks-template").html())},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchItems=e(t.as,this._itemsName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),this._isSetDisabled&&(t.disabled=this._vm[this._disabledName])},_initWidget:function(){this._ele.html("").on("monthCellClick",this,this._onMonthCellClick).on("paging",this,this._onPaging).on("destroy",this,this._onDestroy).on("itemsSourceChanged",this,this._onItemsSourceChanged).removeAttr("data-aui-eventcalendar").removeAttr("data-eventcalendar").eventcalendar(this._args)},_addWatcher:function(){this._addItemsWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onMonthCellClick:function(e,t){var i=e.data;e.data._trigger(e,t,i._monthCellClickName)},_onPaging:function(e,t){var i=e.data;e.data._trigger(e,t,i._pagingName)},_onDestroy:function(e,t){var i=e.data,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onItemsSourceChanged:function(e,t){var i=e.data;e.data._trigger(e,t,i._itemsSourceChangedName)},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._ele.eventcalendar("itemsSource",t)},!0)},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(){e._ele.eventcalendar("option","disabled",e._vm[e._disabledName])})}})}()},function(e,t){function i(e,t){for(var i=e.split("."),n=t[i[0]],o=1;o<i.length;o++)n=n[i[o]];return n}if(window.angular){var n=angular.module("aui");n.directive("auiExpander",["$parse","$compile",function(e,t){return{restrict:"AE",scope:!0,template:function(e,t){var i='<div class="aui-expander outline-none"  tabindex="0" data-expander="aui-expander" aria-expanded="{{!$folded}}" aria-span=""><div ng-click="$folded=!$folded" class="afui-panel-expander"><div class="float-right small-margin-right" buttons-content></div><span class="fi-arrow-right-bs expanded-icon" ng-show="$folded"></span><span class="fi-arrow-down-bs unexpanded-icon"ng-hide="$folded"></span><div style="display:inline-block"title-content></div></div><div  ng-transclude ng-hide="$folded"></div></div>';return i},replace:!0,transclude:!0,link:function(e,n,o){if("expanded"in o?e.$folded=!1:e.$folded=!0,o.callBack&&(o.callBack=i(o.callBack,e),e.$watch("$folded",o.callBack)),o.buttons){var a,s,r,l,d;s=o.buttons,btnStrArr=s.split("."),a=$("div[buttons-content]",n),r=e[btnStrArr[0]],l=i(s,e),d=e.$new(),d.buttons=l,d.target=r,a.append($('<a ng-repeat="button in buttons" ng-click="button.click($event,target)" title="{{button.title}}" class=" {{button.icon}}"></a>'));t(a)(d)}if(o.titleTemplate){var c,u,h;u=o.titleTemplate,c=i(u,e),h=$("div[title-content]",n),h.append($(c)),t(h)(e)}}}}])}},function(e,t){!function(){"use strict";$$directive("aui.gcalendar.directive",{_template:"<div>gcalendar</div>",_initMembers:function(){var e=this._args;e&&"string"==typeof e.selectedDate&&e.selectedDate||$.error("Mapping 'selectedDate' is not available"),this._watchItems=this._itemsName=e.items,this._watchSelectedDate=this._selectedDateName=e.selectedDate,this._isSelectedWatched=!1,this._dayClickName=e.dayClick,this._monthChangedName=e.monthChanged,this._selectionChangedName=e.selectionChanged,this._hasTask="string"==typeof e.hasTaskBind&&!!e.hasTaskBind,e.selectedDate=this._geValue(this._selectedDateName)},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchSelectedDate=e(t.as,this._selectedDateName),this._hasTask&&(this._watchItems=e(t.as,this._itemsName)))},_initWidget:function(){this._ele.on("dayClick",this,this._onDayClick).on("monthChanged",this,this._onMonthChanged).on("selectionChanged",this,this._onSelectionChanged).removeAttr("data-aui-gcalendar").removeAttr("data-gcalendar").gcalendar(this._args)},_addWatcher:function(){this._addSelectedDateWatcher(),this._hasTask&&this._addItemsWatcher()},_onDayClick:function(e,t){var i=e.data;i._trigger(e,t,i._dayClickName)},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onMonthChanged:function(e,t){var i=e.data;i._trigger(e,t,i._monthChangedName)},_onSelectionChanged:function(e,t){var i=e.data;i._setValue(i._selectedDateName,t.newValue),e.data._trigger(e,t,i._selectionChangedName)},_addSelectedDateWatcher:function(){var e=this;e._scope;this._isSelectedWatched=!0,this._scope.$watch(e._watchSelectedDate,function(){e._ele.gcalendar("option","selectedDate",e._vm[e._selectedDateName])})},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._isItemsSourceChanging=!0,e._ele.gcalendar("itemsSource",t)},!0)}})}()},function(e,t){!function(){"use strict";$$directive("aui.loading.directive",{_template:"<div><p ng-transclude></p></div>",_initWidget:function(){this._ele.removeAttr("data-aui-loading").removeAttr("data-loading").loading(this._args)}})}()},function(e,t){!function(){"use strict";$$directive("aui.messagebox.directive",{_template:"<div ng-transclude></div>",_initMembers:function(){var e=this._args;this._titleName=e.title,this._hiddenName=e.hidden,this._shownName=e.shown,this._closeName=e.close},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchTitle=e(t.as,this._titleName))},_getTemplate:function(e){var t=this._ele,i=this._args;i.itemTemplate=e(t.children("p").children("item-template").html())},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("hidden",this,this._onHidden).on("shown",this,this._onShown).on("closeInTitleBar",this,this._onClose).removeAttr("data-aui-messagebox").removeAttr("data-messagebox").messagebox(this._args)},_addWatcher:function(){this._addTitleWatcher()},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onShown:function(e,t){var i=e.data;i._trigger(e,t,i._shownName)},_onClose:function(e,t){var i=e.data;i._trigger(e,t,i._closeName)},_onHidden:function(e,t){var i=e.data;i._trigger(e,t,i._hiddenName)},_onItemsSourceChanged:function(e,t){var i=e.data;e.stopPropagation(),i._isItemsSourceChanging=!1,i._setValue(i._itemsName,t.newValue),i._trigger(e,t,i._itemsSourceChangedName)},_addTitleWatcher:function(){var e=this;e._scope;this._scope.$watch(e._watchTitle,function(){e._ele.messagebox("option","title",e._vm[e._titleName])})}})}()},function(e,t){!function(){"use strict";$$directive("aui.multicombobox.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;void 0==e.items&&$.error("'items' is not available"),this._watchItems=this._itemsName=e.items,this._watchDisabled=this._disabledName=e.disabled,this._selectionChangedName=e.selectionChanged,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchItems=e(t.as,this._itemsName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName)))},_getTemplate:function(e){},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("selectionChanged",this,this._onSelectionChanged).removeAttr("data-aui-multicombobox").removeAttr("data-multicombobox").multicombobox(this._args)},_addWatcher:function(){this._addItemsWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onSelectionChanged:function(e,t){var i=e.data;i._trigger(e,t,i._selectionChangedName)},_addItemsWatcher:function(){
var e=this;this._scope.$watch(e._watchItems,function(t,i){e._ele.multicombobox("itemsSource",t)},!0)},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.multicombobox("option","disabled",t)})}})}()},function(e,t){if(window.angular){var n=angular.module("aui"),o=function(e,t,n,o){e=parseInt(e),n=parseInt(n);var a,s,r=[],l=Math.floor(n/2);for(t<n?(a=1,s=t):(a=e-l,a=a>0?a:1,a=1===a?1:a+2,s=a+(1===a?n-1:n-3),s>t&&(a-=s-t,s=t,a=a>0?a:1),s=s===t?s:s-2),1!==a&&(r.push({displayText:1}),r.push({displayText:"...",disabled:!0})),i=a;i<=s;i++)r.push({displayText:i,selected:i===e});return s!==t&&(r.push({displayText:"...",disabled:!0}),r.push({displayText:t})),r},a=function(e){return 0==="small".indexOf(e.toLowerCase())};n.directive("auiPage",function(){return{restrict:"E",scope:{selectedPage:"=",pageCount:"=",displayCount:"@",preText:"@",nextText:"@",hasJumper:"@",jumperText:"@",mode:"@",selectedPageChanged:"@selectedPageChanged"},template:function(e,t){var i='<div class="aui-page">  <aui-button icon bald class="afui-icon-triangle-left fi-triangle-left-bs image" ng-disabled="selectedPage == 1" ng-click="__prevClick__()"></aui-button>  <div class="page-content" ng-class="{ hide: \'small\'.indexOf(mode.toLowerCase()) === 0 }">   <aui-button icon bald ng-repeat="item in items" ng-class="{ selected: item.selected }" ng-disabled="item.disabled" ng-bind="item.displayText"></aui-button>  </div>  <div class="page-content-sm" ng-class="{ hide: !(\'small\'.indexOf(mode.toLowerCase()) === 0) }">    <input type="number" min="1" ng-model="selectedPage" ng-model-options="{ updateOn: \'blur\' }" ng-keydown="__inputKeyDown__($event)" />    <span>/ {{pageCount}}</span>  </div>  <aui-button icon bald class="afui-icon-triangle-right fi-triangle-right-bs image" ng-disabled="selectedPage == pageCount" ng-click="__nextClick__()"></aui-button></div>';return i},replace:!0,transclude:!0,link:function(e,t,i){a(e.mode)||(e.items=o(e.selectedPage,e.pageCount,e.displayCount,e.hasTotal)),e.$watch("selectedPage",function(e,t,i){if(e!==t){if(e>i.pageCount||e<1||isNaN(e))return void(i.selectedPage=t);i.items=o(i.selectedPage,i.pageCount,i.displayCount,i.hasTotal);var n=i.selectedPageChanged||"selectedPageChanged";i.$emit(n,{newValue:e,oldValue:t,scope:i})}}),e.$watch("pageCount",function(e,t,i){i.selectedPage>e&&(i.selectedPage=e),i.items=o(i.selectedPage,i.pageCount,i.displayCount,i.hasTotal),i.$emit("pageCountChanged",{newValue:e,oldValue:t,scope:i})}),e.__prevClick__=function(t){e.selectedPage--},e.__nextClick__=function(t){e.selectedPage++},e.__inputKeyDown__=function(e){switch(e.keyCode){case window.af.Utils.KeyCode.ENTER:this.selectedPage=e.target.value;case window.af.Utils.KeyCode.ESC:e.target.value=this.selectedPage}},e.__goClick__=function(e){this.selectedPage=parseInt($(e.target).prev('input[type="number"]').val())},t.children(".page-content").on("click","button",function(t){e.selectedPage=parseInt($(t.target).scope().item.displayText),e.$apply()})}}})}},function(e,t){function i(e,t){var i=e,n=t.children("span:first-child");t.attr("class",""),n.attr("class",""),"error"==i&&t.addClass("panel-error")&&n.addClass("afui-icon-error fi-round-error-a")||"success"==i&&t.addClass("panel-success")&&n.addClass("afui-icon-successful fi-round-finish-a")||"info"==i&&t.addClass("panel-info")&&n.addClass("afui-icon-information fi-round-infor-a")||"warn"==i&&t.addClass("panel-warn")&&n.addClass("afui-icon-warning fi-warning-a")}if(window.angular){var n=angular.module("aui");n.directive("auiPanel",function(){return{restrict:"E",scope:{visible:"=panelVisible"},template:'<div>  <span></span>  <span ng-transclude></span>  <button class="text-black operable afui-icon-close fi-close-bs" aria-disabled="false" role="button" type="button" aria-span="Close" ng-click="closeClick()"></button></div>',replace:!0,transclude:!0,link:function(e,t,n){var o=void 0!==n.panelVisible;o&&e.$watch("visible",function(e,i,n){void 0!==e&&(e?t.show():t.hide())}),i(n.panelType,t),n.$observe("panelType",function(){i(n.panelType,t)}),n.$observe("panelHide",function(e){e=e.toLowerCase(),"hide"==e||"true"==e?t.hide():"show"!=e&&"false"!=e||t.show()}),e.closeClick=function(i,n){o?e.visible=!1:t.hide(),e.$emit("panelClose")}}}})}},function(e,t){!function(){"use strict";$$directive("aui.radiobutton.directive",{_widgetName:"radiobutton",_template:'<input type="radio" />',_initMembers:function(){var e=this._args;this._watchChecked=this._checkedName=e.checked,this._watchDisabled=this._disabledName=e.disabled,this._contentName=e.content,this._isCheckedWatched=!1,this._checkName=e.check,this._unCheckName=e.unCheck,this._isSetChecked="string"==typeof e.checked&&!!e.checked,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._isSetChecked&&(this._watchChecked=e(t.as,this._checkedName)),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),this._isSetChecked&&(t.checked=this._vm[this._checkedName]),t.content=this._vm[this._contentName]||this._contentName,this._isSetDisabled&&(t.disabled=this._vm[this._disabledName])},_initWidget:function(){this._ele.on("check",this,this._onCheck).on("unCheck",this,this._onUnCheck).removeAttr("data-aui-radiobutton").removeAttr("data-radiobutton").radiobutton(this._args)},_addWatcher:function(){this._isSetChecked&&this._addCheckedeWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onCheck:function(e,t){var i=e.data;i._isCheckedWatched&&i._setValue(i._checkedName,!0),i._isCheckedWatched=!0,i._trigger(e,t,i._checkName)},_onUnCheck:function(e,t){var i=e.data;i._isCheckedWatched&&i._setValue(i._checkedName,!1),i._isCheckedWatched=!0,i._trigger(e,t,i._unCheckName)},_addCheckedeWatcher:function(){var e=this,t=e._scope;t.$watch(this._watchChecked,function(t,i){e._isCheckedWatched=!0,e._ele.radiobutton("option","checked",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.radiobutton("option","disabled",t)})}})}()},function(e,t){!function(){"use strict";$$directive("aui.rangepicker.directive",{_template:"<div ng-transclude></div>",_initMembers:function(){var e=this._args;this._watchSelectedStartDate=this._selectedStartDateName=e.selectedStartDate,this._watchSelectedEndDate=this._selectedEndDateName=e.selectedEndDate,this._watchSelectedTimeZone=this._selectedTimeZoneName=e.selectedTimeZone,this._watchDisabled=this._disabledName=e.disabled,this._isSelectedWatched=!1,this._selectionChangedName=e.selectionChanged,this._isSetSelectedStartDate="string"==typeof e.selectedStartDate&&!!e.selectedStartDate,this._isSetSelectedEndDate="string"==typeof e.selectedEndDate&&!!e.selectedEndDate,this._isSetTimeZone="string"==typeof e.selectedTimeZone&&!!e.selectedTimeZone,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._isSetSelectedStartDate&&(this._watchSelectedStartDate=e(t.as,this._selectedStartDateName)),this._isSetSelectedEndDate&&(this._watchSelectedEndDate=e(t.as,this._selectedEndDateName)),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName)),this._isSetTimeZone&&(this._watchSelectedTimeZone=e(t.as,this._selectedTimeZoneName))),t.selectedStartDate=this._geValue(this._selectedStartDateName),t.selectedEndDate=this._geValue(this._selectedEndDateName),t.selectedTimeZone=this._geValue(this._selectedTimeZoneName)},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("selectionChanged",this,this._onSelectionChanged).removeAttr("data-aui-rangepicker").removeAttr("data-rangepicker").rangepicker(this._args)},_addWatcher:function(){this._isSetSelectedStartDate&&this._addSelectedStartDateWatcher(),this._isSetSelectedEndDate&&this._addSelectedEndDateWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data,t=i.args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onSelectionChanged:function(e,t){var i=e.data;"rangepicker"==t.type&&(i._setValue(i._selectedStartDateName,t.newValue.start),i._isSetSelectedStartDate||i._setValue(i._selectedEndDateName,t.newValue.end),e.data._trigger(e,t,i._selectionChangedName))},_addSelectedStartDateWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedStartDate,function(t,i){e._isSetSelectedStartDate=!0,e._ele.rangepicker("option","selectedStartDate",t)})},_addSelectedEndDateWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedEndDate,function(t,i){e._isSetSelectedStartDate=!1,e._ele.rangepicker("option","selectedEndDate",t)})},_addselectedTimeZoneWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedTimeZone,function(t,i){e.ele.rangepicker("option","selectedTimeZone",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.rangepicker("option","disabled",t)})}})}()},function(e,t){!function(){"use strict";$$directive("aui.richcombobox.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;void 0==e.displayName&&$.error("'displayName' is not available"),void 0==e.items&&$.error("'items' is not available"),void 0==e.selectedItems&&$.error("'selectedItems' is not available"),this._watchSelectedItems=this._selectedItemsName=e.selectedItems,this._watchItems=this._itemsName=e.items,this._watchDisabled=this._disabledName=e.disabled,this._itemClick=e.itemClick,this._itemsSourceChangedName=e.itemsSourceChanged,this._selectedChangedName=e.selectionChanged,this._smartSearchName=e.smartSearch,this._inputBlurName=e.inputBlur,this._inputKeyupName=e.inputKeyup,this._isSelectionChanging=!1,this._isItemsSourceChanging=!1,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchSelectedItems=e(t.as,this._selectedItemsName),this._watchItems=e(t.as,this._itemsName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),this._isSetDisabled&&(t.disabled=this._geValue(this._disabledName))},_getTemplate:function(e){var t=this._ele,i=this._args;i.itemTemplate=e(t.children("p").children("item-template").html()),i.selectedTemplate=e(t.children("p").children("selected-template").html()),i.createTemplate=e(t.children("p").children("create-template").html())},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("inputBlur",this,this._onInputBlur).on("inputKeyup",this,this._onInputKeyup).on("itemClick",this,this._onItemClick).on("itemsSourceChanged",this,this._onItemsSourceChanged).on("selectionChanged",this,this._onSelectionChanged).on("smartSearch",this,this._onSmartSearch).on("shown",this,this._onShown).removeAttr("data-aui-richcombobox").removeAttr("data-richcombobox").richcombobox(this._args)},_addWatcher:function(){this._addItemsWatcher(),this._addSelectedItemsWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onInputBlur:function(e,t){var i=e.data;i._trigger(e,t,i._inputBlurName)},_onInputKeyup:function(e,t){var i=e.data;i._trigger(e,t,i._inputKeyupName)},_onItemClick:function(e,t){var i=e.data;i._trigger(e,t,i._itemClick)},_onItemsSourceChanged:function(e,t){var i=e.data;e.stopPropagation(),i._isItemsSourceChanging=!1,i._setValue(i._itemsName,t.newValue),i._trigger(e,t,i._itemsSourceChangedName)},_onSelectionChanged:function(e,t){var i=e.data;i._setValue(i._selectedItemsName,t.newValue),i._trigger(e,t,i._selectedChangedName)},_onSmartSearch:function(e,t){var i=e.data;i._trigger(e,t,i._smartSearchName)},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._isItemsSourceChanging=!0,e._ele.richcombobox("itemsSource",t)},!0)},_addSelectedItemsWatcher:function(){var e=this;this._scope.$watch(e._watchSelectedItems,function(t,i){e._isSelectionChanging=!0,e._ele.richcombobox("selectedItems",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.richcombobox("option","disabled",t)})}})}()},function(e,t){!function(){"use strict";$$directive("aui.slider.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;this._watchSelectedValueName=this._selectedValueName=e.selectedValue,this._watchDisabled=this._disabledName=e.disabled,this._valueChangedName=e.valueChanged,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchSelectedItem=e(t.as,this._selectedItemName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),t.selectedValue=this._geValue(this._selectedValueName)},_initWidget:function(){this._ele.on("valueChanged",this,this._onValueChanged).on("destroy",this,this._onDestroy).removeAttr("data-aui-slider").removeAttr("data-slider").slider(this._args)},_addWatcher:function(){this._addSelectedValueWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onValueChanged:function(e,t){var i=e.data,n=i._geValue(i._selectedValueName),o=t.newValue;n!=o&&(i._setValue(i._selectedValueName,t.newValue),i._trigger(e,t,i._valueChangedName))},_addSelectedValueWatcher:function(){var e=this;this._vm,e._selectedValueName;this._scope.$watch(e._selectedValueName,function(t,i){e._ele.slider("option","selectedValue",t)})},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.combobox("option","disabled",t)})},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]}})}()},function(e,t){!function(){"use strict";$$directive("aui.stackpanel.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;this._hiddenName=e.hidden,this._shownName=e.shown},_getTemplate:function(){this._ele.prepend(this._ele.children("p").children()).children("p").remove()},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("hidden",this,this._onHidden).on("shown",this,this._onShown).removeAttr("data-aui-stackpanel").removeAttr("data-stackpanel").stackpanel(this._args)},_onDestroy:function(e,t){var i=e.data,n=i._args.name;"stackpanel"==t.type&&i._destroy(n)},_onHidden:function(e,t){var i=e.data;i._trigger(e,t,i._hiddenName,!0)},_onShown:function(e,t){var i=e.data;i._trigger(e,t,i._shownName,!0)}})}()},function(e,t){!function(){"use strict";$$directive("aui.switchbutton.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(e,t,i){var n=this._args;this._watchIsON=this._isONName=n.isON,this._stateChangedName=n.stateChanged,this._watchDisabled=this._disabledName=n.disabled,this._isSetDisabled="string"==typeof n.disabled&&!!n.disabled,this._isIsONWatched=!1},_getTemplate:function(e){var t=this._ele,i=this._args;i.onTemplate=e(t.children("p").children("on-template").html()),i.offTemplate=e(t.children("p").children("off-template").html())},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&""!=t.as&&(this._watchIsON=e(t.as,this._isONName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName))),t.isONName=this._vm[this._isONName],this._isSetDisabled&&(t.disabled=this._vm[this._disabledName])},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("stateChanged",this,this._onstateChanged).removeAttr("data-aui-switchbutton").removeAttr("data-switchbutton").switchbutton(this._args)},_onDestroy:function(e,t){var i=e.data,t=i._args;"string"==typeof t.name&&t.name&&delete i.vm[t.name]},_onstateChanged:function(e,t){var i=e.data;i._isIsONWatched||i._setValue(i._isONName,t.newValue),i._isIsONWatched=!1,i._trigger(e,t,i._stateChangedName)},_addWatcher:function(){this._addIsONWatcher.call(this),this._isSetDisabled&&this._addDisabledWatcher.call(this)},_addIsONWatcher:function(){var e=this;e._vm,e._isONName;e._scope.$watch(e._watchIsON,function(t){e._isIsONWatched=!0,e._ele.switchbutton("changeState",t),e._isIsONWatched=!1},!0)},_addDisabledWatcher:function(){var e=this;e._scope.$watch(e._watchDisabled,function(){e._ele.switchbutton("disabled",e._vm[e._disabledName])})}})}()},function(e,t){"use strict";if(window.angular){var i=angular.module("aui");i.directive("auiTabControl",function(e,t){return{restrict:"AE",scope:{items:"=itemsField",selectedIndex:"=selectedIndex",contentId:"@contentField",headerContent:"@headerField",widgetName:"@"},template:"<div ng-transclude></div>",replace:!0,transclude:!0,link:function(t,i,n){if(t.contentId=t.contentId||"contentId",t.headerContent=t.headerContent||"headerContent",t.widgetName=t.widgetName||"",0===i.children("ul").length){var o=$('<ul role="tablist">  <li ng-repeat="item in items"      role="tab" tabindex="-1" aria-selected="false" aria-controls="{{item[contentId].indexOf(\'javascript\') === 0 ? \'\' : item[contentId]}}">    <a tabindex="-1" aui-Repeat-Callback="readyFun()" ng-href="{{(item[contentId].indexOf(\'javascript\') === 0) ? item[contentId] : (\'#\' + item[contentId])}}">{{item[headerContent]}}</a>    <ul role="tablist" ng-if="item.items">      <li ng-repeat="item in item.items"          role="tab" tabindex="-1" aria-selected="false" aria-controls="{{item[contentId].indexOf(\'javascript\') === 0 ? \'\' : item[contentId]}}">        <div class="afui-icon-dot fi-dot-bs"></div>        <a tabindex="-1" ng-href="{{(item[contentId].indexOf(\'javascript\') === 0) ? item[contentId] : (\'#\' + item[contentId])}}">{{item[headerContent]}}</a>      </li>    </ul>  </li></ul>');i.prepend(o);e(o.contents())(t)}i.on("selectedIndexChanged",t,function(e,t){if(t.newValue!==e.data.selectedIndex)return e.data.selectedIndex=t.newValue,e.data.$apply(),!1}),t.$watch("selectedIndex",function(e,t,n){e!==t&&i.data("aui.tabcontrol")&&(i.tabcontrol("option","selectedIndex",n.selectedIndex),n.$emit("selectedIndexChanged",{newValue:e,oldValue:t}))}),t.readyFun=function(){setTimeout(function(){t.alreadyInit?i.tabcontrol("resetElement"):(t.alreadyInit=!0,i.data("aui.tabcontrol",i.tabcontrol({tabcontrolClass:t.tabcontrolClass,selectedIndex:t.selectedIndex}),20))});var e=t.widgetName+"domComplete";t.$emit(e)},t.$on("resetTabcontrol",function(){t.alreadyInit?i.tabcontrol("resetElement"):(t.alreadyInit=!0,i.data("aui.tabcontrol",i.tabcontrol({tabcontrolClass:t.tabcontrolClass,selectedIndex:t.selectedIndex})))}),$(document).ready(function(){var e=$(">ul>li",i);!t.alreadyInit&&e.length&&(t.alreadyInit=!0,i.data("aui.tabcontrol",i.tabcontrol({tabcontrolClass:t.tabcontrolClass,selectedIndex:t.selectedIndex})))})}}})}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiTextboxSearch",function(){return{restrict:"E",scope:{onsearch:"&",onstop:"&",placeholder:"=",title:"=",disabled:"="},template:'<div class="textbox textbox-search" data-toggle="aui-textbox-search" ng-class="{disabled:disabled}">  <input type="text" placeholder="{{placeholder}}" title="{{title}}" ng-disabled="disabled" />  <div class="afui-icon-search fi-search-a"></div></div>',replace:!0,transclude:!0,link:function(e,t,i){t.removeAttr("disabled"),t.removeAttr("title"),t.on("searched",e.onsearch()).on("stopped",e.onstop())}}}).directive("auiTextboxTel",function(){return{restrict:"E",scope:{value:"=",contryValue:"@",contryReadonly:"@",maxlength:"@"},template:function(e,t){return'<div class="textbox textbox-tel" data-toggle="aui-textbox-tel">  <span class="text1">+</span>  <input class="country" type="tel" maxlength="3"'+(void 0===t.contryValue?"":' value="'+t.contryValue+'"')+(t.contryReadonly?' readonly="readonly"':"")+' />  <span class="text2">-</span>  <input class="tel" type="tel" ng-model="value"'+(void 0===t.maxlength?"":'maxlength="'+t.maxlength+'"')+" /></div>"},replace:!0,transclude:!0,link:function(e,t,i){}}})}},function(e,t){!function(){"use strict";$$directive("aui.tree.directive",{_template:"<div></div>",_initMembers:function(){this._renderName=this._args.render,this._widgetName=this._args.widget},_convertAs:function(e){},_initWidget:function(){this._ele.removeAttr("data-aui-tree").removeAttr("data-tree")[this._args.widget](this._args),this._onRender()},_onRender:function(){var e=jQuery.Event();e.data=this,e.type="render",this._trigger(e,{},this._renderName)},_addWatcher:function(){},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._isItemsSourceChanging=!0,e._ele.tree("itemsSource",t)},!0)}})}()},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiWizard",function(e,t){return{restrict:"AE",scope:{contentId:"@contentField",headerContent:"@headerField",stepText:"@stepField",items:"=itemsField",selectedIndex:"=selectedIndex",stepCount:"=stepCount"},template:"<div ng-transclude></div>",replace:!0,transclude:!0,link:function(t,i,n){if(t.contentId=t.contentId||"contentId",t.headerContent=t.headerContent||"headerContent",0===i.children("ul").length){var o=$('<ul role="tablist">  <li ng-repeat="item in items"     role="tab" tabindex="-1" aria-selected="false"     aria-controls="{{item[contentId].indexOf(\'javascript\') === 0 ? \'\' : item[contentId]}}"     >    <a tabindex="-1"       ng-href="{{item[contentId].indexOf(\'javascript\') === 0 ? item[contentId] : (\'#\' + item[contentId])}}">      <div class="step" ng-bind="item[stepText]"></div>      <div class="title" ng-bind="item[headerContent]"></div>    </a>    <ul role="tablist" ng-if="item.items">      <li ng-repeat="item in item.items"         role="tab" tabindex="-1" aria-selected="false"         aria-controls="{{item[contentId].indexOf(\'javascript\') === 0 ? \'\' : item[contentId]}}"        >        <div class="afui-icon-dot fi-dot-bs"></div>        <a tabindex="-1" ng-href="{{(item[contentId].indexOf(\'javascript\') === 0) ? item[contentId] : (\'#\' + item[contentId])}}">{{item[headerContent]}}</a>      </li>    </ul>  </li></ul>');i.prepend(o);e(o.contents())(t)}i.on("selectedIndexChanged",t,function(e,t){t.newValue!==e.data.selectedIndex&&(e.data.selectedIndex=t.newValue,e.data.$apply())}).on("stepCountChanged",t,function(e,t){t.newValue!==e.data.stepCount&&(e.data.stepCount=t.newValue,e.data.$apply())}),t.$watch("stepCount",function(e,t,n){e!==t&&i.data("aui.tabcontrolwizard")&&(i.tabcontrolwizard("option","stepCount",n.stepCount),n.$emit("stepCountChanged",{newValue:e,oldValue:t}))}),t.$watch("selectedIndex",function(e,t,n){e!==t&&i.data("aui.tabcontrolwizard")&&(i.tabcontrolwizard("option","selectedIndex",n.selectedIndex),n.$emit("selectedIndexChanged",{newValue:e,oldValue:t}))}),$(document).ready(function(){i.data("aui.tabcontrolwizard",i.tabcontrolwizard({tabcontrolClass:t.tabcontrolClass,selectedIndex:t.selectedIndex,stepCount:t.stepCount}))})}}})}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiScrolling",["$parse",function(e){return{restrict:"AE",scope:!1,template:function(e,t){var i="";return i+='<div style="height: 150px; width: 200px; overflow-y: scroll; padding-left:30px;padding-right:30px;border:solid;display:inline-block;"></div>'},replace:!0,transclude:!0,controller:function(t,i,n,o){var a,s,r,l,d=[],c=e(n.listName);s=c(t),r=n.timeLabel||"time",l=n.titleLabel||"title";for(var u in s){var h=s[u];d.push('<div id="'+h.id+'"><i>'+h[r]+"</i>&nbsp &nbsp<a>"+h[l]+"</a></div>")}a=d.join(""),i.append(a),t.$on("srcollChange",function(e,t,i){var n=$(t).get(0);n.scrollIntoView(!0)})}}}])}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiNav",["$timeout",function(e){return{restrict:"A",scope:!1,link:function(t,i,n){function o(){var t=$("li",i);t.length>0?e(s,50):e(o,50)}function a(){r=$("ul",i),l=$("li",i),l.removeClass("select"),c=~~n.auiNav,d=l[c],d=$(d),d.addClass("select")}function s(){a(),r.on("click",'li:not(".select")',function(e){l=$("li",i),l.removeClass("select"),$(this).addClass("select")}),n.$observe("auiNav",function(e){a()})}var r,l,d,c;o()}}}])}},function(e,t){if(window.angular){var i=angular.module("aui");i.directive("auiSelect",function(){return{restrict:"EA",scope:{obj:"=selectModel"},template:function(e,t){var i="";return i+="<aui-combobox data-combobox=\"{disabled:'obj.disabled', dataTextField:'{{obj.key}}', dataValueField:'{{obj.value}}', items:'obj.items', selectedItem:'obj.selectedItem'}\"></aui-combobox>"}}})}},function(e,t,i){i(93),i(94),i(95)},function(e,t){!function(e){"use strict";var t=-1,i={MULTICOMBOBOX_CLASS:"rp-filter",INPUT_CLASS:"rp-filter-input",CONTENT_CLASS:"rp-filter-content",CONTENT_TEXT_CLASS:"rp-filter-content-text",DROPDOWN_CLASS:"rp-filter-dropdown",ICON_DROPDOWN:"fi-triangle-down-bs",POPUP_CLASS:"rp-filter-popup",LISTBOX_CLASS:"rp-filter-listbox",SELECTION_ITEM_CLASS:"rp-filter-selection-item",SELECTION_LABEL_CLASS:"rp-filter-selection-span",MOUSEENTER_CLASS:"rp-filter-mouseenter",BUTTON_AREA_CLASS:"rp-filter-button-area",BUTTON_CLASS:"rp-filter-popup-button",SELECT_ALL_CLASS:"rp-filter-select-all",FOCUS_CLASS:"rp-filter-focus",HIDDEN_CLASS:"rp-filter-hidden"};e.widget("ex.rpfilter",{inputId:"rp-filter-input-",contentId:"rp-filter-content-",dropdownId:"rp-filter-dropdownId-",popupId:"rp-filter-popup-",listboxId:"rp-filter-listbox-",selectAllId:"rp-filter-selectall-",okId:"rp-filter-ok-",cancelId:"rp-filter-cancel-",options:{isMulti:!0,isTable:!1,popupWidth:null,popupHeight:null,dataCheckedField:null,dataTextField:null,dataDynamicField:null,noneTitleText:$$.I18N.multicombobox.noneTitle,allTitleText:$$.I18N.multicombobox.allTitle,selectedItemsTitleText:$$.I18N.multicombobox.selectedXItemsTitle,noneText:$$.I18N.multicombobox.none,allText:$$.I18N.multicombobox.allText,selectAllText:$$.I18N.multicombobox.selectAllCheckbox,selectedItemsTemplate:$$.I18N.multicombobox.selectedXItems,selectedItemTemplate:$$.I18N.multicombobox.selectedXItem,ok:$$.I18N.multicombobox.ok,cancel:$$.I18N.multicombobox.cancel,selectionChanged:e.noop},_create:function(){this._initMember()._createMulticombobox()._loaded()._initEvent()},_setOption:function(e,t){},_initMember:function(){return this._checkRequired(),this._initId(),this._isMulti=this.options.isMulti,this._items=[],this._textName=this.options.dataTextField,this._checkName=this.options.dataCheckedField,this._dynamicName=this.options.dataDynamicField,this.$body=e("body"),this.element.addClass(i.MULTICOMBOBOX_CLASS),this},_checkRequired:function(){"string"==typeof this.options.dataCheckedField&&this.options.dataCheckedField||e.error("dataCheckedField is undefined"),"string"==typeof this.options.dataTextField&&this.options.dataTextField||e.error("dataTextField is undefined")},_initId:function(){++t,this.inputId+=t,this.contentId+=t,this.dropdownId+=t,this.popupId+=t,this.listboxId+=t,this.selectAllId+=t,this.okId+=t,this.cancelId+=t},_createMulticombobox:function(){var e=-1,t=[];return t[++e]='<div class="'+i.CONTENT_CLASS+'"><div id="'+this.contentId+'" class="'+i.CONTENT_TEXT_CLASS+'"> </div></div>',t[++e]='<div id="'+this.dropdownId+'" unselectable="on" class="'+i.DROPDOWN_CLASS+" "+i.ICON_DROPDOWN+'" ></div>',t[++e]='<input id="'+this.inputId+'" placeholder="'+this.options.waterMark+'" class="'+i.INPUT_CLASS+'" autocomplete="off" role="combobox" aria-haspopup="true" aria-expanded="false" aria-autocomplete="list" wrap="off" readonly unselectable="on"/>',this.element.html(t.join("")),this.$body.append(this._createPopup()),this},_createPopup:function(){var e=-1,t=[];return t[++e]='<div data-bind="stopBindings:filter">',t[++e]='<div class="'+i.POPUP_CLASS+'" id="'+this.popupId+'">',this._isMulti&&(t[++e]='<span class="'+i.SELECTION_LABEL_CLASS+" "+i.SELECT_ALL_CLASS+'">',t[++e]='<input id="'+this.selectAllId+'" type="checkbox" />',t[++e]="<span>"+this.options.selectAllText+"</span>",t[++e]="</span>"),t[++e]='<div class="'+i.LISTBOX_CLASS+'" id="'+this.listboxId+'" role="listbox"  >',t[++e]="</div>",this._isMulti&&(t[++e]='<div class="'+i.BUTTON_AREA_CLASS+'">',t[++e]='<span id="'+this.okId+'" class="'+i.BUTTON_CLASS+'" style="margin-right:30px;">'+this.options.ok+"</span>",t[++e]='<span id="'+this.cancelId+'" style="margin-right:20px;" class="'+i.BUTTON_CLASS+'">'+this.options.cancel+"</span>",t[++e]="</div>"),t[++e]="</div>",t[++e]="</div>",t.join("")},_loaded:function(){return this.$input=this.element.children("#"+this.inputId),this.$content=this.element.find("#"+this.contentId),this.$dropdown=this.element.children("#"+this.dropdownId),this.$popup=this.$body.find("#"+this.popupId),this.$listbox=this.$popup.children("#"+this.listboxId),this.$selectAll=this.$popup.find("#"+this.selectAllId),this.$ok=this.$popup.find("#"+this.okId),this.$cancel=this.$popup.find("#"+this.cancelId),null==this.options.height&&(this.options.height=38),this._setWidth()._setHeight()._setPopupWidth(),this._updatePopupPosition(),this},_initEvent:function(){return $$.close(this.element,"rpfilter","hide"),this._on(e(window),{resize:function(){this._updatePopupPosition()}}),this.element.on("mousedown",this,this._onContentMousedown).on("mouseenter",this,this._onContentMouseEnter).on("mouseleave",this,this._onContentMouseLeave).on("click",this,this._onContentClick),this.$input.on("keydown",this,this._onContentKeydown).on("focus",this,this._onInputFocus).on("blur",this,this._onInputBlur),this.$popup.on("mousedown",this,this._onselectionMouseDown).on("mousewheel",this,function(t){var t=t||event,i=e(this).children(".rp-filter-listbox")[0],n=i.scrollHeight>i.clientHeight||i.offsetHeight>i.clientHeight,o=i.scrollTop<=0&&t.deltaY>0,a=i.scrollTop>=i.scrollHeight-i.offsetHeight&&t.deltaY<0,s=n&&(o||a),r=e(t.target).closest(this).length>0&&0==e(t.target).closest(i).length;(!n||s||r)&&t.preventDefault(),$$.closeExcept(t.data.element,!0)}),this.$selectAll.on("click",this,this._onSelectAllClick),this.$ok.on("click",this,this._onOKClick),this.$cancel.on("click",this,this._onCancelClick),this},_updatePopupPosition:function(){var e=this;e.$popup.position({my:"left top",at:"left bottom",of:e.element,collision:"flip",within:e.options.within})},_onWindowResize:function(e){e.data._updatePopupPosition()},_trigger:function(t,i,n){var o=this;return n&&(n.type="multicombobox"),o.element.trigger(t,n),e.Widget.prototype._trigger.call(o,t,i,n)},_setWidth:function(){return this},_setHeight:function(){var e=this.options.height;return this.element[0].style.height=e+"px",this},_setPopupWidth:function(){return this.options.popupWidth?this.$popup.width(this.options.popupWidth):this.$popup.width(this.element.width()),this.options.popupHeight&&this.$listbox.height(this.options.popupHeight),this},_hide:function(){this._isOpened=!1,$$.closeVisibility(this.element,!1),this.$input.attr("aria-expanded",!1).focus(),this.$popup.hide(),this._isCancel?this._cancel():this._onSelectionChanged()},_checkedAssert:function(e){return 1==e[this._checkName]},_onSelectionChanged:function(){function e(e){return e.filter(function(e){return 1==e[i._checkName]})}function t(t){return!!e(t)&&e(t).length==t.length}var i=this;this._updateContent(),this._trigger("selectionChanged",null,$$.Event({element:i.element,newValue:{isSelectAll:t(i._items),items:e(i._items)},oldValue:{isSelectAll:t(i._old),items:e(i._old)}}))},_updateContent:function(){for(var e,t,i=0,n=this._items,o=0,a=0,s=n.length;i<s;i++)n[i][this._checkName]&&(a=i,++o);0==o?(e=this.options.noneText,t=this.options.noneTitleText):o==s?(e=this.options.allText,t=this.options.allTitleText):1==o?(t=n[a][this._textName],e=this.options.selectedItemTemplate.format(n[a][this._textName])):(t=this.options.selectedItemsTitleText.format(o),e=this.options.selectedItemsTemplate.format(o)),this.$input.val(e),this.$content.text(e),this.element.attr("title",t)},_updateCheckbox:function(){for(var e=0,t=this._items,i=t.length;e<i;e++)this.$checkboxes[e].prop("checked",t[e][this._checkName])},_cancel:function(){e.extend(!0,this._items,this._old),this._updateCheckbox(),this.$selectAll.prop("checked",this._allChecked)},_show:function(){this.options.selectedIndex;
this._isCancel=!0,this._isOpened=!0,this._old=[],this._allChecked=this.$selectAll.prop("checked"),e.extend(!0,this._old,this._items),$$.closeVisibility(this.element,!0),this.$popup.show(),this.$listbox.scrollLeft(0),this._updatePopupPosition(),this.$input.focus(),this.$input.attr("aria-expanded",!0),this._checkHasSelect()},_onItemsSourceChanged:function(t){var n,o=t.length,a=this._items.length;if(this.$checkbox&&(a=Math.min(a,this.$checkbox.length)),this._items=t,a<o){for(var s=-1,r=[];a<o;a++)r[++s]='<span class="'+i.SELECTION_ITEM_CLASS+" "+i.SELECTION_LABEL_CLASS+'">',this._isMulti?r[++s]='<input type="checkbox" />':r[++s]='<input class="'+i.HIDDEN_CLASS+'" type="checkbox"  />',r[++s]="<span></span>",r[++s]="</span>";this.$listbox.append(r.join(""))}else if(a>o)for(n=o;n<a;n++)e(this.$selection[n]).empty().remove();for(this.$selection=this.$listbox.children("."+i.SELECTION_ITEM_CLASS),this.$checkbox=this.$selection.find("input").off().on("click",this,this._onCheckboxClick),this.$checkboxes=[],this.$text=this.$selection.find("span"),n=0;n<o;n++)this.$checkboxes[n]=e(this.$checkbox[n]),this.$checkboxes[n].data("index",n).prop("checked",t[n][this._checkName]).prop("disabled",t[n][this._dynamicName]),this.$text[n].innerText=t[n][this._textName];this._checkSelectAll(),this._updateContent()},_onInputFocus:function(e){var t=e.data;t.element.addClass(i.FOCUS_CLASS)},_onInputBlur:function(e){var t=e.data;t.element.removeClass(i.FOCUS_CLASS)},_onDropdownClick:function(e){var t=e.data;t.$input.focus(),t.options.disabled===!1&&(t._isOpened?t._hide():t._show()),t._isContentMouseDown=!1},_onContentMouseEnter:function(e){var t=e.data;t.options.disabled===!1&&t.element.addClass(i.MOUSEENTER_CLASS)},_onContentMouseLeave:function(e){var t=e.data;t.element.removeClass(i.MOUSEENTER_CLASS)},_onContentKeydown:function(t){var i=t.data;if(i.options.disabled===!1)switch(t.which){case e.ui.keyCode.ENTER:i._onElementEnter();break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.UP:t.preventDefault()}},_onElementEnter:function(){this._isOpened?this._hide():this._show()},_onContentMousedown:function(e){var t=e.data;$$.closeExcept(t.element,!0)},_onContentClick:function(e){var t=e.data;return t.options.disabled===!1&&(t._isOpened?t._hide():t._show()),t},_onselectionMouseDown:function(e){e.stopPropagation(),e.preventDefault()},_onSelectAllClick:function(e){for(var t=0,i=e.data,n=i._items.length,o=i.$selectAll.prop("checked");t<n;t++)i._items[t][i._dynamicName]||(i.$checkbox.eq(t).prop("checked",o),i._items[t][i._checkName]=o);i._checkHasSelect()},_checkSelectAll:function(){for(var e=0,t=0,i=this._items,n=i.length;e<n;e++)1==i[e][this._checkName]&&t++;t==n?this.$selectAll.prop("checked",!0):this.$selectAll.prop("checked",!1)},_onCheckboxClick:function(t){var i=t.data,n=e(t.target),o=n.data("index");i._items[o][i._checkName]=n.prop("checked"),n.prop("checked")?i._checkSelectAll():i.$selectAll.prop("checked",!1),i._isMulti||i._onSelectionClick(o),i._checkHasSelect()},_onSelectionClick:function(e){var t=0,i=this._items.length;for(this._isCancel=!1;t<i;t++)this._items[t][this._checkName]=!1;this._items[e][this._checkName]=!0,this._hide()},_onOKClick:function(t){if("disabled"==e(this).attr("disabled"))return!1;var i=t.data;i._isCancel=!1,i._hide()},_onCancelClick:function(e){var t=e.data;t._isCancel=!0,t._hide()},_checkHasSelect:function(){function t(t){var i=!1;return e.each(t,function(e,t){i=t[o]||i}),i}var i=this,n=i.options.hasSelect,o=i._checkName;return!!n&&void(t(i._items)?i.$ok.removeAttr("disabled"):t(i._items)||i.$ok.attr("disabled","disabled"))},hide:function(e){var e=e||window.event,t=this;return(0!=t.element.parents(".aui-messagebox").length||!("mousewheel"==e.type||e.clientX>document.documentElement.clientWidth||e.clientY>document.documentElement.clientHeight))&&void(t._isOpened&&t._hide())},selectedItems:function(){var e=this;return this._items.filter(function(t){return 1==t[e._checkName]})},itemsSource:function(t){return e.isArray(t)&&t.length>=0?void this._onItemsSourceChanged(t):this._items}})}(jQuery)},function(e,t){!function(){"use strict";$$directive("ex.rpfilter.directive",{_template:"<div><p ng-transclude></p></div>",_initMembers:function(){var e=this._args;void 0==e.items&&$.error("'items' is not available"),this._watchItems=this._itemsName=e.items,this._watchDisabled=this._disabledName=e.disabled,this._selectionChangedName=e.selectionChanged,this._isSetDisabled="string"==typeof e.disabled&&!!e.disabled},_convertAs:function(e){var t=this._args;"string"==typeof t.as&&t.as&&(this._watchItems=e(t.as,this._itemsName),this._isSetDisabled&&(this._watchDisabled=e(t.as,this._disabledName)))},_getTemplate:function(e){},_initWidget:function(){this._ele.on("destroy",this,this._onDestroy).on("selectionChanged",this,this._onSelectionChanged).removeAttr("data-ex-rpfilter").removeAttr("data-rpfilter").rpfilter(this._args)},_addWatcher:function(){this._addItemsWatcher(),this._isSetDisabled&&this._addDisabledWatcher()},_onDestroy:function(e,t){var i=e.data.self,t=i._args;"string"==typeof t.name&&t.name&&delete i._vm[t.name]},_onSelectionChanged:function(e,t){var i=e.data;i._trigger(e,t,i._selectionChangedName)},_addItemsWatcher:function(){var e=this;this._scope.$watch(e._watchItems,function(t,i){e._ele.rpfilter("itemsSource",t)},!0)},_addDisabledWatcher:function(){var e=this;this._scope.$watch(e._watchDisabled,function(t,i){e._ele.rpfilter("option","disabled",t)})}})}()},function(e,t){!function(e,t){"use strict";ko.utils&&(ko.unwrap=ko.utils.unwrapObservable,ko.bindingHandlers.switchbutton={init:function(i,n,o){var i=e(i),a=n(),s=ko.toJS(ko.unwrap(a)),r=a.disabled,l=a.isON,d=ko.isObservable(r),c=ko.isObservable(l),s=ko.toJS(ko.unwrap(a)),u=t.executeEventHandler,h=s.stateChanged,_=s.isEnabledChanged;return d&&r.subscribe(function(){i.switchbutton("option","disabled",r())}),c&&l.subscribe(function(e){i.switchbutton("option","isON",l())}),e(i).switchbutton(s),c&&i.switchbutton("option","stateChanged",function(e,t){l(t.newValue),u(null,"stateChanged",h,e,t)}),d&&i.switchbutton("option","isEnabledChanged",function(e,t){r(t.newValue),u(null,"isEnabledChanged",_,e,t)}),{controlsDescendantBindings:!0}}});var i={SWITCH_BUTTON_CLASS:"aui-switchbutton",SWITCH_BUTTON_DISABLED_CLASS:"aui-switchbutton-disabled",RULER_CLASS:"aui-switchbutton-ruler",RULER_ON_CONTAINER_CLASS:"aui-switchbutton-ruler-on-container",RULER_OFF_CONTAINER_CLASS:"aui-switchbutton-ruler-off-container",ICON_ON_TEMPLATE:"aui-switchbutton-icon-on",ICON_OFF_TEMPLATE:"aui-switchbutton-icon-off",ICON_ON:"fi-circle-b",ICON_OFF:"fi-close-bs",RULER_OFF_CLASS:"aui-switchbutton-ruler-off",SWITCH_CLASS:"aui-switchbutton-switch",OFF_HOVER:"aui-off-hover"},n=-1;e.widget("aui.switchbutton",{options:{isON:!0,width:null,height:null,switchWidth:null,disabled:!1,onTemplate:null,offTemplate:null,isEnabledChanged:e.noop,stateChanged:e.noop,parameters:{}},id:"aui-switchbutton-",$ruler:null,$onContainer:null,$offContainer:null,$switch:null,_start:0,_leftMiddle:0,_rightMiddle:0,_oldDisabled:!1,_oldIsOn:!0,_create:function(){this._initMembers()._createSwitchButton()._loaded()._initEvent()},_setOption:function(e,t){var i=this;i.options[e];switch(i.options[e]=t,e){case"disabled":i._setDisabled(t);break;case"isON":i._setIsOn(t);break;case"width":i._setWidth(t),i._setMiddle();break;case"height":i._setHeight(t),i._setRulerHeight();break;case"switchWidth":i._setSwitchWidth(t),i._setMiddle(),i._setTemplateMargin()}},_setWidth:function(e){this.element.width(e)},_setHeight:function(e){var t=this;this.element.height(e),t.$switch.height(e-2)},_setSwitchWidth:function(e){this.$switch.width(e)},_setMiddle:function(){var e=this,t=e.options.width,i=e.options.switchWidth;e._leftMiddle=(t+i)/2,e._rightMiddle=(t-i)/2},_setRulerHeight:function(){var e=this,t=e.options.height;e.$ruler.css({height:t,"line-height":t+"px"}),e.$onContainer&&e.$onContainer.height(t),e.$offContainer&&e.$offContainer.height(t)},_setTemplateMargin:function(){var e=this,t=e.options.switchWidth;e.$onContainer&&e.$onContainer.css("margin-right",t-2),e.$offContainer&&e.$offContainer.css("margin-left",t)},_setIsOn:function(e){var i=this;if(e?(i._toOpenState(),i.element.attr("aria-checked",!0)):(i._toCloseState(),i.element.attr("aria-checked",!1)),i._oldIsOn!=e)return i._trigger("stateChanged",null,t.Event({element:i.element,oldValue:i._oldIsOn,newValue:e})),i._oldIsOn=e,i},_trigger:function(t,i,n){var o=this;return o.element.trigger(t,n),n&&(n.parameters=o.options.parameters[t]),e.Widget.prototype._trigger.call(o,t,i,n)},_setDisabled:function(e){var i=this;e?i._toDisabledState():i._toEnableState(),i._oldDisabled!=e&&(t.executeEventHandler(i,"isEnabledChanged",i.options.isEnabledChanged,null,t.Event({element:i.element,oldValue:i._oldDisabled,newValue:e})),i._oldDisabled=e)},_toDisabledState:function(){var e=this;e.element.addClass(i.SWITCH_BUTTON_DISABLED_CLASS),e.$switch.attr("tabindex",-1).draggable("disable")},_toEnableState:function(){var e=this;e.element.removeClass(i.SWITCH_BUTTON_DISABLED_CLASS),e.$switch.attr("tabindex",0).draggable("enable")},_initMembers:function(){var e=this,t=e.options;return++n,e.id+=n,e.element.attr("id",e.id).attr("tabindex","0").attr("role","checkbox").attr("aria-checked",!0).addClass(i.SWITCH_BUTTON_CLASS),t.onTemplate=t.onTemplate||e._getOnTemplate(),t.offTemplate=t.offTemplate||e._getOffTemplate(),e},_getOnTemplate:function(){var e=-1,t=[];return t[++e]='<div class=" '+i.ICON_ON_TEMPLATE+'">ON</div>',t.join("")},_getOffTemplate:function(){var e=-1,t=[];return t[++e]='<div class=" '+i.ICON_OFF_TEMPLATE+'">OFF</div>',t.join("")},_createSwitchButton:function(){var e=this,t=-1,n=[];return n[++t]='<div class="'+i.RULER_CLASS+'">',n[++t]='<div class="'+i.RULER_ON_CONTAINER_CLASS+'">'+e.options.onTemplate+"</div>",n[++t]='<div class="'+i.RULER_OFF_CONTAINER_CLASS+'">'+e.options.offTemplate+"</div>",n[++t]="</div>",n[++t]='<div tabindex="0" class="'+i.SWITCH_CLASS+'"></div>',this.element.html(n.join("")),this},_loaded:function(){var e=this,t=e.options;return e.$switch=e.element.children('div[class~="'+i.SWITCH_CLASS+'"]'),e.$ruler=e.element.children('div[class~="'+i.RULER_CLASS+'"]'),e.$onContainer=e.$ruler.children('div[class~="'+i.RULER_ON_CONTAINER_CLASS+'"]'),e.$offContainer=e.$ruler.children('div[class~="'+i.RULER_OFF_CONTAINER_CLASS+'"]'),null==t.width&&(t.width=60,e._setWidth(t.width)),null==t.height&&(t.height=30,e._setHeight(t.height)),null==t.switchWidth&&(t.switchWidth=30,e._setSwitchWidth(t.switchWidth)),e._setMiddle(),e._setRulerHeight(),e._setTemplateMargin(),e.$switch.draggable({switchbutton:e,disabled:t.disabled,containment:e.element,start:e._onSwitchDragOn,stop:e._onSwitchDragStop,zIndex:2}),1==t.disabled&&e._setDisabled(!0),0==t.isON&&e._setIsOn(!1),e},_onSwitchKeydown:function(t){var i=t.data;i.options.disabled||(t.which==e.ui.keyCode.LEFT?i._setOption("isON",!1):t.which==e.ui.keyCode.RIGHT?i._setOption("isON",!0):t.which!=e.ui.keyCode.SPACE&&t.which!=e.ui.keyCode.ENTER&&t.which!=e.ui.keyCode.NUMPAD_ENTER||(t.which==e.ui.keyCode.SPACE&&t.preventDefault(),i.options.isON?i._setOption("isON",!1):i._setOption("isON",!0)))},_onSwitchDragOn:function(e,t){t.helper.draggable("option","switchbutton").element.focus()},_onSwitchDragStop:function(e,t){var i,n=t.helper.draggable("option","switchbutton");i=n.options.isON?t.position.left>=n._rightMiddle:n.element.width()-t.position.left<=n._leftMiddle,i?n._setOption("isON",!0):n._setOption("isON",!1),n.element.focus()},_initEvent:function(){var e=this;return e.element.on("keydown",e,e._onSwitchKeydown).on("click",e,e._onElementClick),this},_onElementClick:function(e){var t=e.data,i=t.options;i.disabled||(t.options.isON?t._setOption("isON",!1):t._setOption("isON",!0),t.element.focus())},_toOpenState:function(){var e=this;e.options.isON=!0,e.$ruler.removeClass(i.RULER_OFF_CLASS).removeClass(i.OFF_HOVER),e.$onContainer.show(),e.$offContainer.hide(),e.$switch.css({left:"auto",right:0}).removeClass(i.RULER_OFF_CLASS)},_toCloseState:function(){var e=this;e.options.isON=!1,e.$ruler.addClass(i.RULER_OFF_CLASS).addClass(i.OFF_HOVER),e.$onContainer.hide(),e.$offContainer.show(),e.$switch.css("left",0).addClass(i.RULER_OFF_CLASS)},changeState:function(e){this._setOption("isON",e)},disabled:function(e){this._setOption("disabled",e)}})}(jQuery,AUI)},function(e,t,i){i(97),i(98),i(99),i(100),i(101),i(102),i(103)},function(e,t){!function(e){function t(){if(!(this instanceof t))return new t}function i(e,t){for(var i=0,n=e.length;i<n;i++)delete t[e[i]]}function n(){instance._element.off(ns)}function o(n,o){var r,h,_,p=t;n=(n.split(".")+"").replace(/,/g,"_"),r="controller_"+n,h=(r.split("_")+"").replace(/,/g,"-"),$$controller[n]?(i(l,o),e.extend(!0,d.data(r),o)):(d.data(r,p()),$$controller[n]=function(){var t,i,o,s=arguments[0],l=0,c=Array.prototype.slice.call(arguments,1),_=d.data(r);return"number"==typeof s&&(l=s<0?0:s,s=arguments[1]),t="string"==typeof s,_||e.error('Can not call methods on page "'+n+'" prior to initialization; attempted to call method "'+s+' "'),t?(e.isFunction(_[s])&&"_"!==s.charAt(0)||e.error('No such method "'+s+'" for "'+n+'" controller instance.'),i=e("."+h+":eq("+l+")"),i.length>0?i=i.data(u):e.error("Can not found controller."),o=_[s].apply(i,c),void 0!==o&&o!==_||(o=$$controller),o):void a(this,$$controller[n].$inject,arguments,r)},$$controller[n].inject=s,$$controller[n].$inject=c),_=d.data(r),_._className=h,e.extend(!0,_,o||{})}function a(t,i,o,a){var s,l=e.extend({},d.data(a));r(t,l,i,o),s=".controller"+l._uuid,l._element=e(l._element),l._element.addClass(l._className).on("remove"+s,l,n).data(u,l),e.isFunction(l._controller)?l._controller.apply(l,arguments):e.error('"_controller" is not implemented.'),l._element,l._initCallback(),l._loaded()}function s(){e.isArray(this.$inject)?this.$inject=this.$inject.concat(c):this.$inject=c}function r(e,t,i,n){var o=0,a=n.length;for(t._vm=e;o<a;o++)t["_"+i[o].replace("$","")]=n[o]}var l,d=e("html"),c=["$element","$scope"],u="$$controller";window.$$controller&&e.error("$$controller is used by other code.Please resolve conflict."),window.$$controller=function(e,t){o(e,t)},l=["_apply","_controller","_initCallback","_loaded"],t.prototype={_apply:function(e){this._scope.$$phase||this._scope.$apply()},_controller:null,_initCallback:e.noop,_loaded:e.noop}}(jQuery)},function(e,t){!function(e){function t(){if(!(this instanceof t))return new t}function i(e,t){return t.indexOf(".")==-1&&void 0!=t&&(t=e+"."+t),t}function n(e){return e&&e.trim()}function o(e){var e=e.split("_");return"aui"==e[0]&&"directive"==e[e.length-1]}function a(e,t){for(var i=0,n=e.length;i<n;i++)delete t[e[i]]}function s(e,t,i,n){var o=0,a=n.length;for(t._vm=e;o<a;o++)t["_"+i[o].replace("$","")]=n[o]}function r(t,i,n,o){var a=_.data(o);s(t,a,i,n),e.isFunction(a._controller)?a._controller.apply(a,arguments):e.error('"_controller" is not implemented.'),a._initCallback(),a._loaded()}function l(i,n){var s,l,h=d,p=t;i=(i.split(".")+"").replace(/,/g,"_"),s="page_"+i,$$page[i]?(a(c,n),o(i)&&a(u,n),e.extend(!0,_.data(s),n)):(_.data(s,p()),$$page[i]=function(){var t,n=arguments[0],o="string"==typeof n,a=Array.prototype.slice.call(arguments,1),l=_.data(s);return l||e.error('Cannot call methods on page "'+i+'" prior to initialization; attempted to call method "'+n+' "'),o?(e.isFunction(l[n])&&"_"!==n.charAt(0)||e.error('No such method "'+n+'" for "'+i+'" page instance.'),t=e.inArray(n,h)>-1?p.prototype[n].apply(l,a):l[n].apply(l,a),void 0!==t&&t!==l||(t=$$page),t):void r(this,$$page[i].$inject,arguments,s)}),l=_.data(s),o(i)&&a(u,n),e.extend(!0,l,n||{}),t.prototype._createPage.call(l)}var d,c,u,h=-1,_=e("html");window.$$page&&e.error("$$page is used by other code.Please resolve conflict."),window.$$page=function(e,t){l(e,t)},c=["_controller","_enum","_initCallback","_loaded"],d=["$uuid","$totalPage","$enum"],u=["_link","_trigger","_apply"],t.prototype={_create:function(){},_createPage:function(){var t=this;t._uuid=++h,t._prepare(),e(function(){t._create()})},_controller:null,_initCallback:e.noop,_loaded:e.noop,_enum:{},_prepare:function(){},_link:function(e){var o=e.base;t.prototype._initMembers.call(this,e.scope,e.elem),o._initMembers.call(this,e.$parse,e.scope,e.attrs),t.prototype._convertAs.call(this,e.scope),o._convertAs.call(this,e.scope,i),o._getTemplate.call(this,o,n,e.$parse),t.prototype._bridge.call(this,e.widget),t.prototype._mappingViewModel.call(this),o._initWidget.call(this,o),o._addWatcher.call(this,o)},_trigger:function(t,i,n){var o=t.data.self;e.isFunction(o._vm[n])&&(t.data=void 0,i.element=void 0,o._vm[n].call(o._vm,t,i))},_apply:function(e){this._scope.$$phase||this._scope.$apply()},_bridge:function(t){var i=this,n="scope",o=this._args;"string"==typeof o.name&&o.name&&(this._vm.hasOwnProperty(o.name)?(n="scope",this._isAs&&(n+="."+o.as),e.error(o.name+" is already in "+n)):this._vm[o.name]=function(){return"option"==arguments[0]&&e.error('call method "option" is not allowed.'),i._ele[t].apply(i._ele,arguments)})},_initMembers:function(t,i){this._ele=e(i),this._vm=t,this._scope=t,this._isAs=!1},_getTemplate:e.noop,_convertAs:function(t){var i=this._args;null==i&&e.error('Call "_initMembers" method failed.'),"string"==typeof i.as&&i.as&&(this._vm=t[i.as],this._isAs=!0)},_mappingViewModel:function(){var e=this._args;for(var t in e.viewModel)e.viewModel[t]=this._vm[t]},_initWidget:e.noop,_addWatcher:e.noop,$uuid:function(){console&&console.log&&console.log(this._uuid)},$totalPage:function(){console&&console.log&&console.log(h+1)},$enum:function(t){var i={};return"string"==typeof t&&e.extend(!0,i,this._enum[t]),i}}}(jQuery)},function(e,t){$$page("toolkit.alert",{$body:null,$alert:null,_prepare:function(){this._initMembers()._createAlert()},_initMembers:function(){var e=this;return e.$body=$("body"),e.$alert=$("<div></div>"),e.$body.append(e.$alert),e},_createAlert:function(){var e=this;return e.$alert.messagebox({title:"",buttons:{OK:function(t,i){e.hide(),$.isFunction(e._clickOK)&&e._clickOK()}},closeInTitleBar:function(t,i){$.isFunction(e._closeInTitleBar)&&e._closeInTitleBar()},theme:{OK:"red"}}),e},_clickOK:$.noop,_closeInTitleBar:$.noop,show:function(e){var t,i=this,e=e||{};i._clear();for(t in e)i.$alert.messagebox("option",t,e[t]);$.isFunction(e.clickOK)||(e.clickOK=$.noop),$.isFunction(e.closeInTitleBar)||(e.closeInTitleBar=$.noop),i._clickOK=e.clickOK,i._closeInTitleBar=e.closeInTitleBar,i.$alert.messagebox("show")},_clear:function(){var e,t;e={title:"",type:"i",content:"",buttons:{}};for(t in e)this.$alert.messagebox("option",t,e[t]);this._clickOK=$.noop,this._closeInTitleBar=$.noop},hide:function(){this.$alert.messagebox("hide")}})},function(e,t){$$page("toolkit.confirm",{$body:null,$confirm:null,_prepare:function(){this._initMembers()._createconfirm()},_initMembers:function(){var e=this;return e.$body=$("body"),e.$confirm=$("<div></div>"),e.$body.append(e.$confirm),e},_createconfirm:function(){var e=this;return e.$confirm.messagebox({title:"",buttons:{OK:function(t,i){e.hide(),$.isFunction(e._clickOK)&&e._clickOK()},Cancel:function(t,i){e.hide(),$.isFunction(e._clickCancel)&&e._clickCancel()}},closeInTitleBar:function(t,i){$.isFunction(e._closeInTitleBar)&&e._closeInTitleBar()},theme:{OK:"red",Cancel:"white"}}),e},_clickOK:$.noop,_clickCancel:$.noop,_closeInTitleBar:$.noop,show:function(e){var t,i=this,e=e||{};i._clear();for(t in e)i.$confirm.messagebox("option",t,e[t]);$.isFunction(e.clickOK)&&(i._clickOK=e.clickOK),$.isFunction(e.clickCancel)&&(i._clickCancel=e.clickCancel),$.isFunction(e.closeInTitleBar)&&(i._clickCancel=e.closeInTitleBar),i.$confirm.messagebox("show")},_clear:function(){var e,t;e={title:"",type:"i",content:"",buttons:{}};for(t in e)this.$confirm.messagebox("option",t,e[t]);this._clickOK=$.noop,this._clickCancel=$.noop,this._closeInTitleBar=$.noop},hide:function(){this.$confirm.messagebox("hide")}})},function(e,t){$$page("toolkit.gloading",{_prepare:function(){this._initMembers()._createAlert()},_initMembers:function(){return this.$body=$("body"),this},_createAlert:function(){this.$body.loading()},show:function(e){this.$body.loading("show")},hide:function(){this.$body.loading("hide")}})},function(e,t){!function(e){function t(e){return e.replace(/(\w)/,function(e){return e.toUpperCase()})}function i(){var e,i=this;this._uuid=++a,e=this._namespace+".services";try{angular.module(e)}catch(n){angular.module(e,[])}angular.module(e).factory(this._namespace+t(this._serviceName),function(){return delete i._namespace,delete i._serviceName,i})}function n(){if(!(this instanceof n))return new n}function o(t,o){var s,r,l,d,c=n,u=t.split(".");l=u[0],r=u[1],t=(u+"").replace(/,/g,"_"),s="service_"+t,$$service[t]?e.error(t+" service is exist."):(d=c(),$$service[t]=function(e){return"uuid"==e?d._uuid:"total"==e?a+1:d}),e.extend(!0,d,o||{}),d._namespace=l,d._serviceName=r,i.call(d)}var a=-1;e("html");window.$$service&&e.error("$$service is used by other code.Please resolve conflict."),window.$$service=function(e,t){o(e,t)},n.prototype={}}(jQuery)},function(e,t){!function(){"use strict";$$service("ex.birthday.service",{hide:function(e){var t=$("#"+e).data(e);t.messagebox.messagebox("hide")},show:function(e,t){var i,n=$("#"+e),o=$(t.currentTarget);return $$.isObject(n.data(e))||this._regist(e),i=n.data(e),i.uuid!=this._uuid&&$.error('Another object on this page already uses ID "'+e+'".'),i.messagebox.messagebox("option","overlayOpacity",0),i.messagebox.messagebox("show"),$(window).on("resize.birthday",{mx:i.messagebox,dp:i.datepicker},this._onWindowResize).on("scroll.birthday",{mx:i.messagebox,dp:i.datepicker},this._onWindowResize),this._updatePosition(i.dialog,o),this},updateDate:function(e,t,i){var n,o=$("#"+e).data(e);return o.value=t[i],n=t[i](),$$.isDate(n)||(n=null),o.datepicker.datepicker("option","selectedDate",n),this},setDate:function(e){var t,i=$("#"+e).data(e);return t=i.datepicker.datepicker("option","selectedDate"),i.value(t),delete i.value,i.messagebox.messagebox("hide"),t},_regist:function(e){var t,i=$("#"+e);i.data(e,{uuid:this._uuid,datepicker:i.find(".aui-datepicker"),dialog:i.find(".aui-messagebox"),messagebox:i.find(".date-dialog-content")}),t=i.data(e),t.messagebox.on("shown.birthday",{self:this,data:t},this._onFirstShow)},_onFirstShow:function(e){var t=e.data.self,i=e.data.data;i.messagebox.off(".birthday"),i.messagebox.messagebox("getOverlay").on("click.birthday",i.messagebox,t._onOverlayClick)},_onOverlayClick:function(e){var t=e.data;$(e.target).hasClass("aui-overlay")&&t.is(":visible")&&t.messagebox("hide")},_onWindowResize:function(e){e.data.mx.messagebox("hide"),e.data.dp.datepicker("close"),$(window).off(".birthday")},_updatePosition:function(e,t){e.position({my:"left top+"+t.height(),at:"left top+2",of:t,collision:"flipfit flipfit"})}})}()}]);
